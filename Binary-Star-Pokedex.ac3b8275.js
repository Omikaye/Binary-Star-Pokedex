var e=window,t=jQuery;let s=null;function a(e){if(!s)for(var t in s={},BattlePokedex){var a=BattlePokedex[t];if(a&&a.abilities)for(var r in a.abilities){var o=a.abilities[r];if(o){var l=toID(o);s[l]=(s[l]||0)+1}}}return s[toID(e)]||0}function r(e,s){this.$el=t(e),this.el=this.$el[0],this.$viewport=s?t(s):t(window),this.urlRoot="",this.q=void 0,this.exactMatch=!1,this.resultSet=null,this.filters=null,this.sortCol=null,this.renderedIndex=0,this.renderingDone=!0,this.externalFilter=!1,this.cur={},this.$inputEl=null,this.gen=9,this.mod=null,this.engine=new DexSearch,window.search=this;var a=this;this.$el.on("click",".more button",function(e){e.preventDefault(),a.updateScroll(!0)}),this.$el.on("click",".filter",function(e){e.preventDefault(),a.removeFilter(e),a.$inputEl&&a.$inputEl.focus()}),this.$el.on("click",".sortcol",function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.sort;a.engine.toggleSort(t),a.sortCol=a.engine.sortCol,a.find("")})}r.prototype.$=function(e){return this.$el.find(e)},r.prototype.find=function(e,t){if(this.engine.find(e)){if(this.exactMatch=this.engine.exactMatch,this.q=this.engine.query,this.resultSet=this.engine.results,t&&(this.resultSet=[[this.engine.typedSearch.searchType,t]].concat(this.resultSet),this.resultSet.length>1&&["sortpokemon","sortmove"].includes(this.resultSet[1][0]))){var s=this.resultSet[1];this.resultSet[1]=this.resultSet[0],this.resultSet[0]=s}return this.filters&&(this.resultSet=[["html",this.getFilterText()]].concat(this.resultSet)),this.engine&&this.engine.typedSearch&&"ability"===this.engine.typedSearch.searchType&&!this.q&&!this.filters&&(this.resultSet=this.resultSet.filter(function(e){return!e||"ability"!==e[0]||a(e[1])>0})),this.renderedIndex=0,this.renderingDone=!1,this.updateScroll(),!0}},r.prototype.addFilter=function(e){if(!e.dataset.entry)return!1;var t=e.dataset.entry.split("|"),s=this.engine.addFilter(t);return this.filters=this.engine.filters,s},r.prototype.removeFilter=function(e){var t;return t=e?this.engine.removeFilter(e.currentTarget.value.split(":")):this.engine.removeFilter(),this.filters=this.engine.filters,this.find(""),t},r.prototype.getFilterText=function(e){for(var t="<p>Filters: ",s=0;s<this.filters.length;s++){var a=this.filters[s][1];"move"===this.filters[s][0]&&(a=getID(BattleMovedex,a).name),"pokemon"===this.filters[s][0]&&(a=getID(BattlePokedex,a).name),t+='<button class="filter" value="'+escapeHTML(this.filters[s].join(":"))+'">'+a+' <i class="fa fa-times-circle"></i></button> '}return e||(t+='<small style="color: #888">(backspace = delete filter)</small>'),t+"</p>"},r.prototype.updateScroll=function(e){if(!this.renderingDone){var s=this.$viewport.scrollTop(),a=s+this.$viewport.height(),r=t(window).height(),o=this.renderedIndex,l=Math.floor(a/33)+1;if(e||!(l<=o)){l<o+20&&(l=o+20),a-s>r&&!o&&(l=20),e&&l>o+40&&(l=o+40);for(var n=this.resultSet,c="";o<l;){if(!n[o]){this.renderingDone=!0;break}var i,p=n[o],u="";(i=this.engine.filterLabel(p[0]))?u='<span class="col filtercol"><em>'+i+"</em></span>":(i=this.engine.illegalLabel(p[1]))&&(u='<span class="col illegalcol"><em>'+i+"</em></span>");var m=0,d=0;p.length>3&&(m=p[2],d=p[3]),c+=this.renderRow(p[1],p[0],m,d,u,p[1]in this.cur?' class="cur"':""),o++}this.renderedIndex?(this.moreVisible&&(this.$el.find(".more").remove(),e||(this.moreVisible=!1)),t(this.el.firstChild).append(c+(e&&!this.renderingDone?'<li class="result more"><p><button class="button big">More</button></p></li>':""))):(this.el.innerHTML='<ul class="utilichart" style="height:'+33*n.length+'px">'+c+(this.renderingDone?"":'<li class="result more"><p><button class="button big">More</button></p></li>')+"</ul>",this.moreVisible=!0),this.renderedIndex=o}}},r.prototype.setType=function(e,t,s,a){var r;for(var o in this.engine.setType(e,t,s),this.filters=this.engine.filters,this.sortCol=this.engine.sortCol,this.cur=a||{},a){r=o;break}this.find("",r)},r.prototype.renderRow=function(e,t,s,a,r,o){switch(t){case"html":return'<li class="result">'+e+"</li>";case"header":return'<li class="result"><h3>'+e+"</h3></li>";case"sortpokemon":return this.renderPokemonSortRow();case"sortmove":return this.renderMoveSortRow();case"pokemon":var l=getID(BattlePokedex,e);return this.renderPokemonRow(l,s,a,r,o);case"move":var n=getID(BattleMovedex,e);return this.renderMoveRow(n,s,a,r,o);case"item":var c=getID(BattleItems,e);return this.renderItemRow(c,s,a,r,o);case"ability":var i=getID(BattleAbilities,e);return this.renderAbilityRow(i,s,a,r,o);case"type":var t={name:e[0].toUpperCase()+e.substr(1)};return this.renderTypeRow(t,s,a,r);case"egggroup":"humanlike"===e?p="Human-Like":"water1"===e?p="Water 1":"water2"===e?p="Water 2":"water3"===e&&(p="Water 3"),p?a>5&&a++:p=e[0].toUpperCase()+e.substr(1);var p,u={name:p};return this.renderEggGroupRow(u,s,a,r);case"tier":return this.renderTierRow({name:{uber:"Uber",ou:"OU",uu:"UU",ru:"RU",nu:"NU",pu:"PU",zu:"(PU)",nfe:"NFE",lc:"LC",cap:"CAP",caplc:"CAP LC",capnfe:"CAP NFE",uubl:"UUBL",rubl:"RUBL",nubl:"NUBL",publ:"PUBL"}[e]},s,a,r);case"category":var m={name:e[0].toUpperCase()+e.substr(1),id:e};return this.renderCategoryRow(m,s,a,r);case"article":var d=window.BattleArticleTitles&&BattleArticleTitles[e]||e[0].toUpperCase()+e.substr(1);return this.renderArticleRow({name:d,id:e},s,a,r)}return"Error: not found"},r.prototype.renderPokemonSortRow=function(){var e='<li class="result"><div class="sortrow">';return e+('<button class="sortcol numsortcol'+(this.sortCol?"":" cur")+'">'+(this.sortCol?this.engine.firstPokemonColumn:"Sort: ")+"</button>"+('<button class="sortcol pnamesortcol'+("name"===this.sortCol?" cur":""))+'" data-sort="name">Name</button>'+('<button class="sortcol typesortcol'+("type"===this.sortCol?" cur":""))+'" data-sort="type">Types</button>'+('<button class="sortcol abilitysortcol'+("ability"===this.sortCol?" cur":""))+'" data-sort="ability">Abilities</button>'+('<button class="sortcol statsortcol'+("hp"===this.sortCol?" cur":""))+'" data-sort="hp">HP</button>'+('<button class="sortcol statsortcol'+("atk"===this.sortCol?" cur":""))+'" data-sort="atk">Atk</button>'+('<button class="sortcol statsortcol'+("def"===this.sortCol?" cur":""))+'" data-sort="def">Def</button>'+('<button class="sortcol statsortcol'+("spa"===this.sortCol?" cur":""))+'" data-sort="spa">SpA</button>'+('<button class="sortcol statsortcol'+("spd"===this.sortCol?" cur":""))+'" data-sort="spd">SpD</button>'+('<button class="sortcol statsortcol'+("spe"===this.sortCol?" cur":""))+'" data-sort="spe">Spe</button>'+('<button class="sortcol statsortcol'+("bst"===this.sortCol?" cur":""))+'" data-sort="bst">BST</button></div></li>')},r.prototype.renderMoveSortRow=function(){var e='<li class="result"><div class="sortrow">';return e+('<button class="sortcol movenamesortcol'+("name"===this.sortCol?" cur":"")+'" data-sort="name">Name</button>'+('<button class="sortcol movetypesortcol'+("type"===this.sortCol?" cur":""))+'" data-sort="type">Type</button>'+('<button class="sortcol movetypesortcol'+("category"===this.sortCol?" cur":""))+'" data-sort="category">Cat</button>'+('<button class="sortcol powersortcol'+("power"===this.sortCol?" cur":""))+'" data-sort="power">Pow</button>'+('<button class="sortcol accuracysortcol'+("accuracy"===this.sortCol?" cur":""))+'" data-sort="accuracy">Acc</button>'+('<button class="sortcol ppsortcol'+("pp"===this.sortCol?" cur":""))+'" data-sort="pp">PP</button></div></li>')},r.prototype.renderPokemonRow=function(e,t,s,a,o){if(o||(o=""),!e)return'<li class="result">Unrecognized pokemon</li>';var l=toID(e.name);r.urlRoot&&(o+=' href="'+r.urlRoot+"pokemon/"+l+'" data-target="push"');var n='<li class="result"><a'+o+' data-entry="pokemon|'+escapeHTML(e.name)+'">',c=e.num;if(e.forme&&e.name!==e.baseSpecies&&window.BattleFormOrder){var i=toID(e.baseSpecies||e.name),p=window.BattleFormOrder[i];if(p){var u=p.indexOf(e.id);if(u>=0){var m=String.fromCharCode(65+u);c=e.num+"-"+m}}}n+='<span class="col numcol">'+c+"</span> ",n+='<span class="col iconcol">',n+='<span style="'+getPokemonIcon(e.name)+'"></span>',n+="</span> ";var d=e.name,b=e.forme?d.length-e.forme.length-1:0;if(b&&(d=d.substr(0,b)),s&&(d=d.substr(0,t)+"<b>"+d.substr(t,s)+"</b>"+d.substr(t+s)),b&&(s&&t+s>b?(t<b&&(s-=b-t,t=b),d+="<small>"+e.name.substr(b,t-b)+"<b>"+e.name.substr(t,s)+"</b>"+e.name.substr(t+s)+"</small>"):d+="<small>"+e.name.substr(b)+"</small>"),n+='<span class="col pokemonnamecol">'+d+"</span> ",a)return n+(a+"</a></li>");n+='<span class="col typecol">';for(var h=e.types,y=0;y<h.length;y++)n+=getTypeIcon(h[y]);n+="</span> ";var g=e.abilities;g["1"]?n+='<span class="col twoabilitycol">'+g["0"]+"<br />"+g["1"]+"</span>":n+='<span class="col abilitycol">'+g["0"]+"</span>",g.S?g.H?n+='<span class="col twoabilitycol">'+(g.H||"")+"<br />("+g.S+")</span>":n+='<span class="col abilitycol">('+g.S+")</span>":g.H?n+='<span class="col abilitycol">'+g.H+"</span>":n+='<span class="col abilitycol"></span>';var f=e.baseStats;n+='<span class="col statcol"><em>HP</em><br />'+f.hp+"</span> ",n+='<span class="col statcol"><em>Atk</em><br />'+f.atk+"</span> ",n+='<span class="col statcol"><em>Def</em><br />'+f.def+"</span> ",n+='<span class="col statcol"><em>SpA</em><br />'+f.spa+"</span> ",n+='<span class="col statcol"><em>SpD</em><br />'+f.spd+"</span> ",n+='<span class="col statcol"><em>Spe</em><br />'+f.spe+"</span> ";var v=0;for(y in f)v+=f[y];return n+='<span class="col bstcol"><em>BST<br />'+v+"</em></span> ",n+="</a></li>"},r.prototype.renderTaggedPokemonRowInner=function(e,t,s){var a="";r.urlRoot&&(a=' href="'+r.urlRoot+"pokemon/"+toID(e.name)+'" data-target="push"');var o="<a"+a+' data-entry="pokemon|'+escapeHTML(e.name)+'">';o+='<span class="col tagcol shorttagcol">'+t+"</span> ",o+='<span class="col iconcol">',o+='<span style="'+getPokemonIcon(e.name)+'"></span>',o+="</span> ";var l=e.name,n=e.forme?l.length-e.forme.length-1:0;if(n&&(l=l.substr(0,n)+"<small>"+e.name.substr(n)+"</small>"),o+='<span class="col shortpokemonnamecol">'+l+"</span> ",s)return o+(s+"</a></li>");o+='<span class="col typecol">';for(var c=0;c<e.types.length;c++)o+=getTypeIcon(e.types[c]);for(var c in o+="</span> ",o+='<span style="float:left;min-height:26px">',e.abilities["1"]?o+='<span class="col twoabilitycol">':o+='<span class="col abilitycol">',e.abilities){var i=e.abilities[c];i&&("1"===c&&(o+="<br />"),"H"===c&&(i='</span><span class="col abilitycol"><em>'+e.abilities[c]+"</em>"),o+=i)}e.abilities.H||(o+='</span><span class="col abilitycol">'),o+="</span>",o+="</span>",o+='<span style="float:left;min-height:26px">',o+='<span class="col statcol"><em>HP</em><br />'+e.baseStats.hp+"</span> ",o+='<span class="col statcol"><em>Atk</em><br />'+e.baseStats.atk+"</span> ",o+='<span class="col statcol"><em>Def</em><br />'+e.baseStats.def+"</span> ",o+='<span class="col statcol"><em>SpA</em><br />'+e.baseStats.spa+"</span> ",o+='<span class="col statcol"><em>SpD</em><br />'+e.baseStats.spd+"</span> ",o+='<span class="col statcol"><em>Spe</em><br />'+e.baseStats.spe+"</span> ";var p=0;for(c in e.baseStats)p+=e.baseStats[c];return o+='<span class="col bstcol"><em>BST<br />'+p+"</em></span> ",o+="</span>",o+="</a>"},r.prototype.renderItemRow=function(e,t,s,a,o){if(o||(o=""),!e)return'<li class="result">Unrecognized item</li>';var l=toID(e.name);r.urlRoot&&(o+=' href="'+r.urlRoot+"items/"+l+'" data-target="push"');var n='<li class="result"><a'+o+' data-entry="item|'+escapeHTML(e.name)+'">';n+='<span class="col itemiconcol"><span style="'+getItemIcon(e)+';width:32px;height:32px;display:inline-block;margin-left:-6px;margin-top:-6px"></span></span> ';var c=e.name;return(s&&(c=c.substr(0,t)+"<b>"+c.substr(t,s)+"</b>"+c.substr(t+s)),n+='<span class="col namecol">'+c+"</span> ",a)?n+=a+"</a></li>":n+='<span class="col itemdesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> </a></li>"},r.prototype.renderAbilityRow=function(e,t,s,o,l){if(l||(l=""),!e)return'<li class="result">Unrecognized ability</li>';var n=toID(e.name);r.urlRoot&&(l+=' href="'+r.urlRoot+"abilities/"+n+'" data-target="push"');var c='<li class="result"><a'+l+' data-entry="ability|'+escapeHTML(e.name)+'">',i=a(n),p=e.name;return(s&&(p=p.substr(0,t)+"<b>"+p.substr(t,s)+"</b>"+p.substr(t+s)),c+='<span class="col namecol"><small style="color:#888">('+i+")</small> "+p+"</span> ",o)?c+=o+"</a></li>":c+='<span class="col abilitydesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> </a></li>"},r.prototype.renderMoveRow=function(e,t,s,a,o){if(o||(o=""),!e)return'<li class="result">Unrecognized move</li>';var l=toID(e.name);r.urlRoot&&(o+=' href="'+r.urlRoot+"moves/"+l+'" data-target="push"');var n='<li class="result"><a'+o+' data-entry="move|'+escapeHTML(e.name)+'">',c=e.name,i=12*("Hidden Power"===c.substr(0,12));if(i&&(c=c.substr(0,i)),s&&(c=c.substr(0,t)+"<b>"+c.substr(t,s)+"</b>"+c.substr(t+s)),i&&(s&&t+s>i?(t<i&&(s-=i-t,t=i),c+="<small>"+e.name.substr(i,t-i)+"<b>"+e.name.substr(t,s)+"</b>"+e.name.substr(t+s)+"</small>"):c+="<small>"+e.name.substr(i)+"</small>"),n+='<span class="col movenamecol">'+c+"</span> ",a)return n+(a+"</a></li>");n+='<span class="col typecol">',n+=getTypeIcon(e.type),n+=getCategoryIcon(e.category),n+="</span> ";var p=1===e.pp||e.noPPBoosts?e.pp:8*e.pp/5;return n+='<span class="col labelcol">'+("Status"!==e.category?"<em>Power</em><br />"+(e.basePower||"&mdash;"):"")+"</span> ",n+='<span class="col widelabelcol"><em>Accuracy</em><br />'+(e.accuracy&&!0!==e.accuracy?e.accuracy+"%":"&mdash;")+"</span> ",n+='<span class="col pplabelcol"><em>PP</em><br />'+p+"</span> ",n+='<span class="col movedesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> ",n+="</a></li>"},r.prototype.renderMoveRowInner=function(e,t){var s="";r.urlRoot&&(s=' href="'+r.urlRoot+"moves/"+toID(e.name)+'" data-target="push"');var a="<a"+s+' data-entry="move|'+escapeHTML(e.name)+'">',o=e.name,l=12*("Hidden Power"===o.substr(0,12));if(l&&(o=o.substr(0,l)+"<small>"+e.name.substr(l)+"</small>"),a+='<span class="col movenamecol">'+o+"</span> ",t)return a+(t+"</a></li>");a+='<span class="col typecol">',a+=getTypeIcon(e.type),a+=getCategoryIcon(e.category),a+="</span> ";var n=1===e.pp||e.noPPBoosts?e.pp:8*e.pp/5;return a+='<span class="col labelcol">'+("Status"!==e.category?"<em>Power</em><br />"+(e.basePower||"&mdash;"):"")+"</span> ",a+='<span class="col widelabelcol"><em>Accuracy</em><br />'+(e.accuracy&&!0!==e.accuracy?e.accuracy+"%":"&mdash;")+"</span> ",a+='<span class="col pplabelcol"><em>PP</em><br />'+n+"</span> ",a+='<span class="col movedesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> ",a+="</a>"},r.prototype.renderTaggedMoveRow=function(e,t,s){var a="";r.urlRoot&&(a=' href="'+r.urlRoot+"moves/"+toID(e.name)+'" data-target="push"');var o='<li class="result"><a'+a+' data-entry="move|'+escapeHTML(e.name)+'">';o+='<span class="col tagcol">'+t+"</span> ";var l=e.name;return("Hidden Power"===l.substr(0,12)&&(l="Hidden Power"),o+='<span class="col shortmovenamecol">'+l+"</span> ",s)?o+=s+"</a></li>":(o+='<span class="col typecol">',o+=getTypeIcon(e.type),o+=getCategoryIcon(e.category),o+="</span> ",o+='<span class="col labelcol">'+("Status"!==e.category?"<em>Power</em><br />"+(e.basePower||"&mdash;"):"")+"</span> ",o+='<span class="col widelabelcol"><em>Accuracy</em><br />'+(e.accuracy&&!0!==e.accuracy?e.accuracy+"%":"&mdash;")+"</span> ",o+='<span class="col pplabelcol"><em>PP</em><br />'+(e.noPPBoosts?e.pp:8*e.pp/5)+"</span> ",o+='<span class="col movedesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> ",o+="</a></li>")},r.prototype.renderTypeRow=function(e,t,s,a){var o="";r.urlRoot&&(o=' href="'+r.urlRoot+"types/"+toID(e.name)+'" data-target="push"');var l='<li class="result"><a'+o+' data-entry="type|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),l+='<span class="col namecol">'+n+"</span> ",l+='<span class="col typecol">',l+=getTypeIcon(e.name),l+="</span> ",a)?l+=a+"</a></li>":l+="</a></li>"},r.prototype.renderCategoryRow=function(e,t,s,a){var o="";r.urlRoot&&(o=' href="'+r.urlRoot+"categories/"+e.id+'" data-target="push"');var l='<li class="result"><a'+o+' data-entry="category|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),l+='<span class="col namecol">'+n+"</span> "+('<span class="col typecol">'+getCategoryIcon(e.name))+"</span> ",a)?l+=a+"</a></li>":l+="</a></li>"},r.prototype.renderArticleRow=function(e,t,s,a){var o="";r.urlRoot&&(o=' href="'+r.urlRoot+"articles/"+e.id+'" data-target="push"');var l="pokemon"===e.id||"moves"===e.id;l&&(o=' href="'+e.id+'/" data-target="replace"');var n='<li class="result"><a'+o+' data-entry="article|'+escapeHTML(e.name)+'">',c=e.name;return(s&&(c=c.substr(0,t)+"<b>"+c.substr(t,s)+"</b>"+c.substr(t+s)),n+='<span class="col namecol">'+c+"</span> ",l?n+='<span class="col movedesccol">(search type)</span> ':n+='<span class="col movedesccol">(article)</span> ',a)?n+=a+"</a></li>":n+="</a></li>"},r.prototype.renderEggGroupRow=function(e,t,s,a){var o="";r.urlRoot&&(o=' href="'+r.urlRoot+"egggroups/"+toID(e.name)+'" data-target="push"');var l='<li class="result"><a'+o+' data-entry="egggroup|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),l+='<span class="col namecol">'+n+"</span> ",a)?l+=a+"</a></li>":l+="</a></li>"},r.prototype.renderTierRow=function(e,t,s,a){var o="";r.urlRoot&&(o=' href="'+r.urlRoot+"tiers/"+toID(e.name)+'" data-target="push"');var l='<li class="result"><a'+o+' data-entry="tier|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),l+='<span class="col namecol">'+n+"</span> ",a)?l+=a+"</a></li>":l+="</a></li>"},r.gen=9,r.renderRow=r.prototype.renderRow,r.renderPokemonRow=r.prototype.renderPokemonRow,r.renderTaggedPokemonRowInner=r.prototype.renderTaggedPokemonRowInner,r.renderItemRow=r.prototype.renderItemRow,r.renderAbilityRow=r.prototype.renderAbilityRow,r.renderMoveRow=r.prototype.renderMoveRow,r.renderMoveRowInner=r.prototype.renderMoveRowInner,r.renderTaggedMoveRow=r.prototype.renderTaggedMoveRow,r.renderTypeRow=r.prototype.renderTypeRow,r.renderCategoryRow=r.prototype.renderCategoryRow,r.renderEggGroupRow=r.prototype.renderEggGroupRow,r.renderTierRow=r.prototype.renderTierRow,e.BattleSearch=r;
//# sourceMappingURL=Binary-Star-Pokedex.ac3b8275.js.map
