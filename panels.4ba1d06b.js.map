{"mappings":"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","sources":["<anon>","js/panels.js","node_modules/backbone/backbone.js"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire6a64\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"6Vrnd\", function(module, exports) {\n/*\n * Panels 0.1\n */ \nvar $6KOho = parcelRequire(\"6KOho\");\n\nvar $2q7Wm = parcelRequire(\"2q7Wm\");\n\nvar $kL2Ep = parcelRequire(\"kL2Ep\");\n// Make jQuery, underscore, and Backbone available globally for legacy code\nwindow.jQuery = window.$ = (0, (/*@__PURE__*/$parcel$interopDefault($6KOho)));\nwindow._ = (0, $2q7Wm.default);\nwindow.Backbone = (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep)));\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\nif (!Function.prototype.bind) {\n    var slice = Array.prototype.slice;\n    Function.prototype.bind = function bind(that) {\n        var target = this;\n        if (typeof target != \"function\") throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        var args1 = slice.call(arguments, 1); // for normal call\n        var bound = function() {\n            if (this instanceof bound) {\n                var F = function() {};\n                F.prototype = target.prototype;\n                var self = new F;\n                var result = target.apply(self, args1.concat(slice.call(arguments)));\n                if (Object(result) === result) return result;\n                return self;\n            } else return target.apply(that, args1.concat(slice.call(arguments)));\n        };\n        return bound;\n    };\n}\n(function() {\n    'use strict';\n    var root = this;\n    var Panels = root.Panels = {};\n    var $ = (0, (/*@__PURE__*/$parcel$interopDefault($6KOho)));\n    // we extend Backbone.history a bit\n    (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.pause = function() {\n        if (this.paused || !(0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).History.started) return false;\n        this.paused = true;\n        (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).History.started = false;\n        this.checkUrlBackup = this.checkUrl;\n        this.checkUrl = function() {};\n        return true;\n    };\n    (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.resume = function() {\n        if (!this.paused) return false;\n        this.checkUrl = this.checkUrlBackup;\n        delete this.checkUrlBackup;\n        (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).History.started = true;\n        delete this.paused;\n        return true;\n    };\n    Panels.App = (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).Router.extend({\n        constructor: function(options) {\n            if (!options) options = {};\n            if (options.root) this.root = options.root;\n            if ((location.search || '').substr(0, 4) === '?_ga' && window.history) history.replaceState(null, null, '/');\n            for(var i in this.states)this.routePanel(i, this.states[i]);\n            //this.routePanel('*path', 'Panels.StaticPanel');\n            var initialize = this.initialize;\n            this.initialize = function() {};\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).Router.prototype.constructor.apply(this, arguments);\n            // constructor\n            this.panels = [];\n            this.popups = [];\n            initialize.apply(this, arguments);\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.start({\n                root: this.root,\n                pushState: true,\n                hashChange: false\n            });\n            this.fragment = (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.fragment;\n            $(window).resize((function() {\n                this.resize();\n            }).bind(this));\n        },\n        root: '/',\n        fragment: '',\n        states: {},\n        panels: null,\n        i: 0,\n        j: 0,\n        topbarView: null,\n        topbar: null,\n        topbarHeight: 0,\n        goLeftWidth: 35,\n        goRightWidth: 35,\n        goLeftRightDelay: 300,\n        goLeftWidthOffset: 0,\n        goRightWidthOffset: 0,\n        backButtonPrefix: '',\n        // routing functions\n        go: function(fragment1, loc, replace, source, instant) {\n            if (fragment1 && fragment1.substr(0, this.root.length) === this.root) fragment1 = fragment1.substr(this.root.length);\n            // no matter what, if the panel exists, we're going straight to it\n            var i = this.getFragmentIndex(fragment1);\n            if (i >= 0) {\n                if (i >= this.j && i <= this.i) this.focusPanel(i, instant, true); // already in view; maximize it\n                else this.scrollIntoView(i, instant);\n                this.updateURL();\n                return;\n            }\n            if (typeof loc !== 'number') {\n                loc = this.panels.indexOf(loc);\n                if (loc < 0) loc = null;\n                else if (!replace) loc++;\n            }\n            this.goLoc = loc;\n            this.goLocReplace = replace;\n            this.goLocSource = source;\n            this.goInstant = instant;\n            //this.navigate(fragment, {trigger: true});\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.loadUrl(fragment1);\n        },\n        getPanelIndex: function(panel) {\n            for(var i = this.panels.length - 1; i >= 0; i--){\n                if (this.panels[i] === panel) return i;\n            }\n            return -1;\n        },\n        getFragmentIndex: function(fragment1) {\n            for(var i = this.panels.length - 1; i >= 0; i--){\n                if (this.panels[i] && this.panels[i].fragment === fragment1) return i;\n            }\n            return -1;\n        },\n        slicePanelLeft: function() {\n            while(this.j){\n                var panel = this.panels.shift();\n                panel.remove();\n                this.j--;\n            }\n            this.i = this.j;\n        },\n        navigatePanel: function(name1, fragment1, args1) {\n            if (!this.panels.length) {\n                this.initializePanels(name1, fragment1, args1);\n                return;\n            }\n            var isInternal = 'goLoc' in this;\n            var loc = this.goLoc;\n            var instant = this.goInstant;\n            delete this.goLoc;\n            delete this.goInstant;\n            var i = this.getFragmentIndex(fragment1);\n            if (i >= 0) {\n                this.focusPanel(i, instant);\n                this.updateURL(!isInternal);\n                return;\n            }\n            if (loc === undefined) loc = this.panels.length - 1;\n            var left = false;\n            if (loc < 0) {\n                // insert leftmost\n                var $el = $('<div class=\"pfx-panel\"></div>');\n                $el.insertBefore(this.panels[0].el);\n                this.panels.unshift(null);\n                this.i++;\n                loc = 0;\n            } else {\n                // insert at loc\n                var $el = $('<div class=\"pfx-panel\"></div>');\n                $el.insertAfter(this.lastPanel().el);\n                while(this.panels.length > loc){\n                    var panel = this.panels.pop();\n                    left = panel.left;\n                    panel.remove();\n                }\n                this.panels.push(null);\n            }\n            this.renderPanel(loc, name1, {\n                el: $el[0],\n                fragment: fragment1,\n                args: args1,\n                source: this.goLocSource,\n                sourcePanel: this.panels[loc - 1]\n            });\n            if (!loc) {\n                var leftPanel1 = this.panels[loc];\n                var rightPanel1 = this.panels[loc + 1];\n                if (rightPanel1) leftPanel1.whenLoaded(function() {\n                    var source = leftPanel1.$('a[href=\"' + this.root + rightPanel1.fragment + '\"]');\n                    // console.log('sources: a[href=\"'+this.root+rightPanel.fragment+'\"] ('+source.length+')');\n                    if (!source.length) source = null;\n                    rightPanel1.setSource(source, leftPanel1);\n                });\n            }\n            if (left !== false) {\n                if (this.i > loc) this.i = loc;\n                if (this.i == loc) this.panels[loc].moveTo([\n                    left,\n                    'auto',\n                    0\n                ], {}, true);\n                if (left) this.panels[loc].targetLeft = left;\n            }\n            this.scrollIntoView(loc, instant);\n            this.updateURL(!isInternal);\n        },\n        updateURL: function(noPush) {\n            var fragment1 = this.panels[this.i].fragment;\n            if (fragment1 === this.fragment) return;\n            this.fragment = fragment1;\n            if (root.ga) ga('send', 'pageview', (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.root + fragment1);\n            if (noPush) return;\n            // console.log('URL update: '+fragment);\n            // loadUrl updates the fragment, which prevents us from doing actual fragment manipulation\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.fragment = '??forceupdate';\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.navigate(fragment1);\n        },\n        slicePanel: function(panel) {\n            if (!this.panels.length) {\n                this.initializePanels(name, fragment, args);\n                return;\n            }\n            var loc = this.getPanelIndex(panel);\n            if (loc < 0) return;\n            delete this.goLoc;\n            if (this.i > loc) this.i = loc;\n            if (this.j > loc) this.j = loc;\n            while(this.panels.length > loc + 1){\n                var panel = this.panels.pop();\n                panel.remove();\n            }\n            this.scrollIntoView(loc, true);\n            this.updateURL();\n        },\n        setPanelSource: function() {\n            var source = leftPanel.$('a[href=\"' + this.root + rightPanel.fragment + '\"]');\n            // console.log('sources: a[href=\"'+this.root+rightPanel.fragment+'\"] ('+source.length+')');\n            if (!source.length) source = null;\n            rightPanel.setSource(source, leftPanel);\n        },\n        resize: function() {\n            this.calculateLayout();\n            this.commitLayout(true);\n        },\n        focusPanel: function(index, instant, limit1) {\n            // scroll so that panel at index is rightmost\n            instant = !this.calculateLayout(index, limit1) || instant;\n            this.commitLayout(instant);\n        },\n        scrollIntoView: function(index, instant) {\n            // scroll so that panel at index is in view\n            if (index >= this.i) this.focusPanel(index, instant);\n            else {\n                var i = this.i + 1;\n                do {\n                    i--;\n                    this.calculateLayout(i);\n                }while (this.targetJ > index && i > 0);\n                this.commitLayout(instant);\n            }\n        },\n        routePanel: function(route, name1) {\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history || ((0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history = new (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).History);\n            if (!(0, $2q7Wm.default).isRegExp(route)) route = this._routeToRegExp(route);\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.route(route, (0, $2q7Wm.default).bind(function(fragment1) {\n                this.midRouting = true;\n                var args1 = this._extractParameters(route, fragment1);\n                this.navigatePanel.call(this, name1, fragment1, args1);\n                this.trigger.apply(this, [\n                    'route:' + name1\n                ].concat(args1));\n                (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).history.trigger('route', this, name1, args1);\n                this.midRouting = false;\n            }, this));\n            return this;\n        },\n        lastPanel: function() {\n            return this.panels[this.panels.length - 1];\n        },\n        reloadPanels: function() {\n            for(var i = 0, len = this.panels.length; i < len; i++)this.panels[i].reload();\n        },\n        // popups\n        popups: null,\n        addPopup: function(type, options) {\n            if (!options) options = {};\n            type = this.getPanelType(type);\n            var bgElem = $('<div class=\"pfx-popup-bg\"></div>');\n            bgElem.insertAfter(this.lastPanel().el);\n            options.bgElem = bgElem;\n            bgElem.on('click', this.closePopup.bind(this));\n            var elem = $('<div class=\"pfx-popup\"></div>');\n            elem.insertAfter(bgElem);\n            options.el = elem;\n            if (options.source) {\n                // attach to a specific element\n                var style = {\n                    position: 'absolute'\n                };\n                var source = $(options.source);\n                var sourceOffset = source.offset();\n                var sourceY1 = sourceOffset.top;\n                var sourceY2 = sourceY1 + source.outerHeight();\n                var viewportY1 = $(window).scrollTop();\n                var viewportY2 = viewportY1 + $(window).height();\n                if (sourceY1 - viewportY1 > viewportY2 - sourceY2) // more room on top\n                style.bottom = $(document).height() - sourceY1;\n                else style.top = sourceY2;\n                var sourceX1 = sourceOffset.left;\n                var sourceX2 = sourceX1 + source.outerWidth();\n                var viewportX1 = $(window).scrollLeft();\n                var viewportX2 = viewportX1 + $(window).width();\n                if (sourceX1 - viewportX1 > viewportX2 - sourceX2) // more room to the left\n                style.right = $(document).width() - sourceX2;\n                else style.left = sourceX1;\n                elem.css(style);\n            }\n            options.app = this;\n            this.popups.push(new type(options));\n        },\n        closePopup: function() {\n            if (!this.popups.length) return;\n            var popup = this.popups.pop();\n            popup.remove();\n        },\n        // panel animation\n        getPanelType: function(name1) {\n            if (typeof name1 === 'string') // var nameSplit = name.split('.');\n            // name = window;\n            // for (var i=0, len=nameSplit.length; i<len; i++) {\n            // \tname = name[nameSplit[i]];\n            // }\n            return eval(name1);\n            return name1;\n        },\n        /**\n\t\t * Initialize the entire app: Set up all the views.\n\t\t */ renderPanel: function(index, panelType, options, first) {\n            if (first) $(options.el).css({\n                position: 'absolute',\n                top: this.topbarHeight,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                width: 'auto',\n                height: 'auto',\n                '-webkit-overflow-scrolling': 'touch',\n                'overflow-scrolling': 'touch',\n                overflow: 'auto'\n            });\n            else $(options.el).css({\n                position: 'absolute',\n                top: this.topbarHeight,\n                left: 0,\n                right: 'auto',\n                bottom: 0,\n                width: 'auto',\n                height: 'auto',\n                '-webkit-overflow-scrolling': 'touch',\n                'overflow-scrolling': 'touch',\n                overflow: 'auto'\n            });\n            panelType = this.getPanelType(panelType);\n            options.app = this;\n            return this.panels[index] = new panelType(options);\n        },\n        /**\n\t\t * Initialize the entire app: Set up all the views.\n\t\t */ initializePanels: function(name1, fragment1, args1) {\n            // global\n            $('body').css({\n                overflow: 'hidden'\n            });\n            // topbar\n            if (!this.topbarView) this.topbarView = Panels.Topbar;\n            this.topbarView = this.getPanelType(this.topbarView);\n            var topbarElem = $('.pfx-topbar');\n            if (topbarElem.length) {\n                topbarElem.css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0\n                });\n                this.topbar = new this.topbarView({\n                    el: topbarElem[0],\n                    app: this\n                });\n                this.topbarHeight = this.topbar.height;\n            }\n            var $panels = $('.pfx-panel');\n            this.panels = new Array($panels.length);\n            var first = true;\n            // iterate right-to-left\n            for(var i = $panels.length - 1; i >= 0; i--){\n                var el = $panels[i];\n                var panel = this.renderPanel(i, name1, {\n                    el: el,\n                    fragment: fragment1,\n                    args: args1,\n                    loaded: true\n                }, first);\n                if (i) {\n                    name1 = panel.parentName;\n                    fragment1 = panel.parentFragment;\n                    args1 = panel.parentArgs;\n                }\n                first = false;\n            }\n            this.i = this.panels.length - 1;\n            this.calculateLayout(this.i);\n            this.commitLayout(true);\n        },\n        calculateLayout: function(loc, limit1) {\n            if (loc === undefined) loc = this.i;\n            this.targetI = loc;\n            var panels = this.panels;\n            var maxWidth = $('body').width();\n            var curWidth = 0;\n            var curBuffer = 0;\n            var numPanels = 0;\n            var hasSidebar = false;\n            var left = 0;\n            var layoutChanged = !!(this.i !== loc);\n            this.targetWidth = maxWidth;\n            var goRightWidth = this.goRightWidth || 0;\n            var goLeftWidth = this.goLeftWidth || 0;\n            if (loc >= this.panels.length - 1) goRightWidth = 0;\n            maxWidth -= goRightWidth;\n            // find out how many panels there are\n            do {\n                var width = panels[loc].minWidth;\n                var buffer = panels[loc].maxWidth - width;\n                if (numPanels && curWidth + width > maxWidth - (loc ? goLeftWidth : 0)) break;\n                curWidth += width;\n                curBuffer += buffer;\n                numPanels++;\n                loc--;\n            }while (!limit1 && panels[loc]);\n            if (!limit1 && numPanels <= 1 && panels[loc] && panels[loc].sidebarWidth) // no room for more than one full panel, but maybe a sidebar will fit\n            {\n                if (curWidth + panels[loc].sidebarWidth <= maxWidth - (loc ? goLeftWidth : 0)) {\n                    var targetWidth = panels[loc].sidebarWidth + curBuffer;\n                    if (panels[loc].targetWidth !== undefined && panels[loc].targetWidth !== targetWidth) layoutChanged = true;\n                    panels[loc].targetWidth = targetWidth;\n                    curWidth += targetWidth;\n                    curBuffer = 0;\n                    numPanels++;\n                    loc--;\n                    hasSidebar = true;\n                }\n            }\n            this.targetJ = loc + 1;\n            if (loc + 1 <= 0) goLeftWidth = 0;\n            if (loc + 1 == this.targetI) {\n                maxWidth += goRightWidth;\n                goRightWidth = 0;\n                goLeftWidth = 0;\n            }\n            maxWidth -= goLeftWidth;\n            // calculate our buffer ratio\n            var maxBuffer = maxWidth - curWidth;\n            if (maxBuffer > curBuffer) {\n                left = Math.floor((maxBuffer - curBuffer) / 2);\n                maxBuffer = curBuffer;\n            }\n            var bufferRatio = curBuffer ? maxBuffer / curBuffer : 1;\n            // calculate gaps\n            this.targetRightGap = goRightWidth ? left + goRightWidth : 0;\n            this.targetLeftGap = goLeftWidth ? left + goLeftWidth : 0;\n            left += goLeftWidth;\n            // populate panel layout\n            // visible panels\n            for(var i = loc + 1, max = this.targetI; i <= max; i++){\n                var panel = panels[i];\n                if (panel.targetLeft !== undefined && panel.targetLeft !== left) layoutChanged = true;\n                panel.targetLeft = left;\n                if (hasSidebar && i == loc + 1) ;\n                else {\n                    var targetWidth = Math.floor(panel.minWidth + bufferRatio * (panel.maxWidth - panel.minWidth));\n                    if (panel.targetWidth !== undefined && panel.targetWidth !== targetWidth) layoutChanged = true;\n                    panel.targetWidth = targetWidth;\n                }\n                left += panel.targetWidth;\n            }\n            return layoutChanged;\n        },\n        getDestLoc: function(panel, i) {\n            if (typeof panel === 'number') {\n                i = panel;\n                panel = this.panels[i];\n            }\n            var left = panel.targetLeft;\n            var width = panel.targetWidth;\n            var right = 'auto';\n            if (i == this.targetJ) {\n                width += left - this.targetLeftGap;\n                left = this.targetLeftGap;\n            }\n            if (i == this.targetI) {\n                right = this.targetRightGap;\n                width = 'auto';\n            }\n            return [\n                left,\n                width,\n                right\n            ];\n        },\n        getPanelWidth: function(panel) {\n            if (panel.width === 'auto') return this.targetWidth - panel.left - panel.right;\n            return panel.width;\n        },\n        commitLayout: function(instant) {\n            var goingBack = this.targetI < this.i || this.targetI === this.i && this.targetJ < this.j;\n            if (goingBack) {\n                // <--\n                var totalWidth = this.targetWidth - this.targetRightGap;\n                for(var i = Math.max(this.j, this.targetI + 1), end = this.i; i <= end; i++){\n                    //console.log('going right offscreen: '+i);\n                    this.panels[i].moveTo([\n                        totalWidth,\n                        this.getPanelWidth(this.panels[i]),\n                        'auto'\n                    ], {\n                        hide: true\n                    }, instant);\n                    totalWidth += this.getPanelWidth(this.panels[i]);\n                }\n                for(var i = this.targetI, end = this.j; i >= end; i--)//console.log('moving right: '+i);\n                this.panels[i].moveTo(this.getDestLoc(i), {\n                    leftmost: this.targetJ == i,\n                    rightmost: this.targetI == i,\n                    time: this.goLeftRightDelay\n                }, instant);\n                totalWidth = this.targetLeftGap;\n                for(var i = Math.min(this.j - 1, this.targetI), end = this.targetJ; i >= end; i--){\n                    //console.log('coming from left: '+i);\n                    totalWidth -= this.panels[i].targetWidth;\n                    this.panels[i].moveTo(this.getDestLoc(i), {\n                        leftmost: this.targetJ == i,\n                        rightmost: this.targetI == i,\n                        startingOffset: totalWidth - this.panels[i].targetLeft,\n                        time: this.goLeftRightDelay\n                    }, instant);\n                }\n            } else {\n                // -->\n                var totalWidth = -this.targetLeftGap;\n                for(var i = Math.min(this.i, this.targetJ - 1), end = this.j; i >= end; i--){\n                    //console.log('going left offscreen: '+i);\n                    totalWidth += this.getPanelWidth(this.panels[i]);\n                    this.panels[i].moveTo([\n                        -totalWidth,\n                        this.getPanelWidth(this.panels[i]),\n                        'auto'\n                    ], {\n                        hide: true\n                    }, instant);\n                }\n                for(var i = this.targetJ, end = this.i; i <= end; i++)//console.log('moving left: '+i);\n                this.panels[i].moveTo(this.getDestLoc(i), {\n                    leftmost: this.targetJ == i,\n                    rightmost: this.targetI == i,\n                    time: this.goLeftRightDelay\n                }, instant);\n                totalWidth = this.targetWidth - this.targetRightGap;\n                for(var i = Math.max(this.i + 1, this.targetJ), end = this.targetI; i <= end; i++){\n                    //console.log('coming from right: '+i);\n                    this.panels[i].moveTo(this.getDestLoc(i), {\n                        leftmost: this.targetJ == i,\n                        rightmost: this.targetI == i,\n                        startingOffset: totalWidth - this.panels[i].targetLeft,\n                        time: this.goLeftRightDelay\n                    }, instant);\n                    totalWidth += this.panels[i].targetWidth;\n                }\n            }\n            this.i = this.targetI;\n            this.j = this.targetJ;\n            if (this.goLeftRightElem) this.goLeftRightElem.html('');\n            else {\n                this.goLeftRightElem = $('<div></div>');\n                this.goLeftRightElem.insertAfter(this.lastPanel().el);\n                this.goLeftRightElem.on('click', 'a', (function(e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.go($(e.currentTarget).attr('href'));\n                }).bind(this));\n            }\n            var buffer = '';\n            if (this.targetLeftGap) buffer += '<a class=\"pfx-go-left\" style=\"width:' + (this.targetLeftGap + this.goLeftWidthOffset) + 'px\" href=\"' + this.root + this.panels[this.j - 1].fragment + '\"></a>';\n            if (this.targetRightGap) buffer += '<a class=\"pfx-go-right\" style=\"width:' + (this.targetRightGap + this.goRightWidthOffset) + 'px\" href=\"' + this.root + this.panels[this.i + 1].fragment + '\"></a>';\n            if (buffer) {\n                if (instant) {\n                    this.goLeftRightElem.html(buffer);\n                    this.goLeftRightElem.show();\n                } else {\n                    this.goLeftRightElem.hide();\n                    this.goLeftRightElem.html(buffer);\n                    setTimeout((function() {\n                        this.goLeftRightElem.show();\n                    }).bind(this), this.goLeftRightDelay);\n                }\n            }\n        }\n    });\n    var View = Panels.View = (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).View;\n    var Panel = Panels.Panel = View.extend({\n        constructor: function(options) {\n            if (!options) options = {};\n            this.app = options.app;\n            if (!this.events) this.events = {};\n            if (!this.events['click a, button']) this.events['click a, button'] = 'handleNavigation';\n            if (!this.events['submit form']) this.events['submit form'] = 'handleNavigation';\n            if (options.source) this.source = $(options.source);\n            if (options.sourcePanel) this.sourcePanel = options.sourcePanel;\n            if (options.bgElem) this.bgElem = options.bgElem;\n            this.loaded = !!options.loaded;\n            this.fragment = options.fragment;\n            var args1 = options.args;\n            delete options.app;\n            delete options.loaded;\n            delete options.source;\n            delete options.bgElem;\n            delete options.fragment;\n            delete options.args;\n            var initialize = this.initialize;\n            this.initialize = function() {};\n            View.prototype.constructor.call(this, options);\n            // constructor\n            if (this.source) {\n                this.source.addClass('cur');\n                if (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = true;\n            }\n            initialize.apply(this, args1);\n            if (!this.loaded) this.load();\n            else this.whenLoadedQueueFlush();\n            this.updateBackButton();\n            this.updateContent();\n        },\n        source: null,\n        minWidth: 480,\n        maxWidth: 720,\n        leftOffset: 0,\n        widthOffset: 0,\n        rightOffset: 0,\n        fragment: '',\n        hidden: false,\n        setFragment: function(fragment1) {\n            this.fragment = fragment1;\n            this.app.updateURL();\n        },\n        moveTo: function(loc, flags, instant) {\n            var left = loc[0];\n            var width = loc[1];\n            var right = loc[2];\n            if (!flags) flags = {};\n            if (flags.leftmost) this.$('.pfx-backbutton').show();\n            else this.$('.pfx-backbutton').hide();\n            this.leftmost = flags.leftmost;\n            this.rightmost = flags.rightmost;\n            this.hidden = !!flags.hide;\n            var oldLeft = this.left;\n            var oldWidth = this.width;\n            var oldRight = this.right;\n            this.left = left;\n            this.width = width;\n            this.right = right;\n            if (left !== 'auto') left += this.leftOffset;\n            if (width !== 'auto') width += this.widthOffset;\n            if (right !== 'auto') right += this.rightOffset;\n            if (instant) {\n                this.$el.css({\n                    display: flags.hide ? 'none' : 'block',\n                    left: left,\n                    width: width,\n                    right: right\n                });\n                this.$('.pfx-body').css({\n                    'margin-left': this.left ? 0 : 'auto',\n                    'margin-right': this.right ? 0 : 'auto',\n                    'max-width': this.maxWidth\n                });\n            } else {\n                this.show();\n                if (left === 'auto') this.$el.css('left', 'auto');\n                if (width === 'auto') this.$el.css('width', 'auto');\n                if (right === 'auto') this.$el.css('right', 'auto');\n                if (flags.startingOffset !== undefined) this.$el.css({\n                    left: left === 'auto' ? left : left + flags.startingOffset,\n                    width: width,\n                    right: right === 'auto' ? right : right - flags.startingOffset\n                });\n                else if (width !== 'auto' && oldWidth === 'auto') this.$el.css('width', $('body').width() - oldLeft - oldRight + this.widthOffset);\n                else if (right !== 'auto' && oldRight === 'auto') this.$el.css('right', $('body').width() - oldLeft - oldWidth + this.rightOffset);\n                this.$el.transition({\n                    left: left,\n                    width: width,\n                    right: right\n                }, flags.time || 300, function() {\n                    if (flags.hide) $(this).css('display', 'none');\n                });\n                // left/right padding\n                var elWidth = this.$el.width();\n                var marginLeft = elWidth - this.maxWidth;\n                if (marginLeft < 0 || oldLeft && !oldRight) marginLeft = 0;\n                else if (!(!oldLeft && oldRight)) marginLeft = Math.floor(marginLeft / 2);\n                var marginRight = elWidth - this.maxWidth;\n                if (marginRight < 0 || !oldLeft && oldRight) marginRight = 0;\n                else if (!(oldLeft && !oldRight)) marginRight = Math.floor(marginRight / 2);\n                if (marginLeft && marginRight && this.left && this.right) marginLeft = 0, marginRight = 0;\n                var $panelBody = this.$('.pfx-body');\n                $panelBody.css({\n                    'margin-left': this.left ? marginLeft : 'auto',\n                    'margin-right': this.right ? marginRight : 'auto',\n                    'max-width': this.maxWidth\n                });\n                if (this.left && marginLeft) $panelBody.transition({\n                    'margin-left': 0\n                }, flags.time || 300);\n                if (this.right && marginRight) $panelBody.transition({\n                    'margin-right': 0\n                }, flags.time || 300);\n            }\n        },\n        html: function(content) {\n            var panelIndex = content.indexOf('<div class=\"pfx-panel\">');\n            if (panelIndex >= 0) {\n                content = content.substr(panelIndex + 23);\n                content = content.substr(0, content.lastIndexOf('</div>'));\n            }\n            this.$el.html(content);\n            if (this.source && this.isPopup) this.$('.pfx-title').remove();\n            else if (this.leftmost) this.$('.pfx-backbutton').show();\n            else this.$('.pfx-backbutton').hide();\n            this.$('.pfx-body').css({\n                'margin-left': this.left ? 0 : 'auto',\n                'margin-right': this.right ? 0 : 'auto',\n                'max-width': this.maxWidth\n            });\n            this.updateBackButton();\n            this.updateContent();\n        },\n        updateBackButton: function() {\n            if (this.sourcePanel) {\n                if (this.sourcePanel.shortTitle) this.$('.pfx-backbutton').html(this.app.backButtonPrefix + this.sourcePanel.shortTitle.replace(/</g, '&lt;'));\n                this.$('.pfx-backbutton').attr('href', this.app.root + this.sourcePanel.fragment);\n            }\n        },\n        updateContent: function() {},\n        show: function() {\n            this.hidden = false;\n            this.load();\n            this.$el.css('display', 'block');\n        },\n        hide: function() {\n            this.hidden = true;\n            this.$el.css('display', 'none');\n        },\n        load: function() {\n            // placeholder loader: does nothing\n            this.loaded = true;\n            this.whenLoadedQueueFlush();\n        },\n        whenLoadedQueue: null,\n        whenLoaded: function(callback) {\n            if (this.loaded === true) callback.call(this);\n            else {\n                if (!this.whenLoadedQueue) this.whenLoadedQueue = [];\n                this.whenLoadedQueue.push(callback);\n            }\n        },\n        whenLoadedQueueFlush: function() {\n            if (this.loaded !== true || !this.whenLoadedQueue) return;\n            for(var i = 0; i < this.whenLoadedQueue.length; i++)this.whenLoadedQueue[i].call(this);\n            this.whenLoadedQueue = null;\n        },\n        reload: function() {\n            this.loaded = false;\n            if (!this.hidden) this.load();\n        },\n        handleNavigation: function(e) {\n            if (e.cmdKey || e.metaKey || e.ctrlKey) return;\n            var target = $(e.currentTarget);\n            var linkTarget = target.data('target');\n            var linkAction = target.data('action');\n            var linkHref = target.data('href') || target.attr('href') || target.attr('action');\n            var formMethod = '';\n            if (target[0].tagName.toUpperCase() === 'FORM') {\n                formMethod = 'GET';\n                if ((target.attr('method') || '').toUpperCase() === 'POST') formMethod = 'POST';\n                target.find('button[type=submit]').attr('disabled', 'disabled').text('Loading...');\n            }\n            // TODO: finish\n            if (linkAction) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                this[linkAction].call(this, e);\n            } else if (linkTarget === 'replace' && formMethod) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                var data = target.serialize();\n                this.ajax(linkHref, data, formMethod);\n            } else if (linkTarget) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                switch(linkTarget){\n                    case 'back':\n                        this.app.go(linkHref, -1);\n                        break;\n                    case 'push':\n                        this.app.go(linkHref, this, false, target);\n                        break;\n                    case 'replace':\n                        this.app.go(linkHref, this, true);\n                        break;\n                }\n            }\n        },\n        post: function(target, data) {\n            return this.ajax(target, data, 'POST');\n        },\n        get: function(target, data) {\n            return this.ajax(target, data);\n        },\n        ajax: function(target, data, method) {\n            if (!target) target = this.app.root + this.fragment;\n            return $.ajax(target + '?output=html', {\n                type: method || GET,\n                dataType: 'text',\n                data: data\n            }).done((function(response) {\n                this.html(response);\n            }).bind(this));\n        },\n        setSource: function(newSource, newSourcePanel) {\n            if (this.source) {\n                this.source.removeClass('cur');\n                if (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = false;\n            }\n            this.source = newSource;\n            this.sourcePanel = newSourcePanel;\n            if (this.source) {\n                this.source.addClass('cur');\n                if (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = true;\n            }\n        },\n        remove: function() {\n            (0, (/*@__PURE__*/$parcel$interopDefault($kL2Ep))).View.prototype.remove.apply(this, arguments);\n            if (this.source) {\n                this.source.removeClass('cur');\n                if (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = false;\n            }\n            delete this.sourcePanel;\n            if (this.bgElem) this.bgElem.remove();\n            this.app = null; // remove possible circular references for GC\n        },\n        close: function() {},\n        url: ''\n    });\n    Panels.Popup = Panel.extend({\n        isPopup: true,\n        close: function() {\n            this.app.closePopup();\n        }\n    });\n    Panels.Topbar = View.extend({\n        constructor: function(options) {\n            // init 1\n            var initialize = this.initialize;\n            this.initialize = function() {};\n            View.prototype.constructor.call(this, {\n                el: options.el\n            });\n            this.app = options.app;\n            // init 2\n            if (!this.height) this.height = this.$el.height();\n            initialize.apply(this);\n        },\n        app: null,\n        height: 0\n    });\n    Panels.StaticPanel = Panel.extend({\n        constructor: function() {\n            Panel.prototype.constructor.apply(this, arguments);\n        },\n        load: function() {\n            if (this.loaded) return;\n            this.loaded = 'loading';\n            this.$el.prepend('<p class=\"pfx-loading\"><em>Loading...</em></p>');\n            $.get(this.app.root + this.fragment + (this.fragment.indexOf('?') >= 0 ? '&' : '?') + 'output=html').done((function(content) {\n                this.html(content);\n                this.loaded = true;\n                this.whenLoadedQueueFlush();\n            }).bind(this));\n        }\n    });\n}).call(window);\n/*!\n * jQuery Transit - CSS3 transitions and transformations\n * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>\n * MIT Licensed.\n *\n * http://ricostacruz.com/jquery.transit\n * http://github.com/rstacruz/jquery.transit\n */ (function(k) {\n    k.transit = {\n        version: \"0.9.9\",\n        propertyMap: {\n            marginLeft: \"margin\",\n            marginRight: \"margin\",\n            marginBottom: \"margin\",\n            marginTop: \"margin\",\n            paddingLeft: \"padding\",\n            paddingRight: \"padding\",\n            paddingBottom: \"padding\",\n            paddingTop: \"padding\"\n        },\n        enabled: true,\n        useTransitionEnd: false\n    };\n    var d = document.createElement(\"div\");\n    var q = {};\n    function b(v) {\n        if (v in d.style) return v;\n        var u = [\n            \"Moz\",\n            \"Webkit\",\n            \"O\",\n            \"ms\"\n        ];\n        var r = v.charAt(0).toUpperCase() + v.substr(1);\n        if (v in d.style) return v;\n        for(var t = 0; t < u.length; ++t){\n            var s = u[t] + r;\n            if (s in d.style) return s;\n        }\n    }\n    function e() {\n        d.style[q.transform] = \"\";\n        d.style[q.transform] = \"rotateY(90deg)\";\n        return d.style[q.transform] !== \"\";\n    }\n    var a = navigator.userAgent.toLowerCase().indexOf(\"chrome\") > -1;\n    q.transition = b(\"transition\");\n    q.transitionDelay = b(\"transitionDelay\");\n    q.transform = b(\"transform\");\n    q.transformOrigin = b(\"transformOrigin\");\n    q.transform3d = e();\n    var i = {\n        transition: \"transitionEnd\",\n        MozTransition: \"transitionend\",\n        OTransition: \"oTransitionEnd\",\n        WebkitTransition: \"webkitTransitionEnd\",\n        msTransition: \"MSTransitionEnd\"\n    };\n    var f = q.transitionEnd = i[q.transition] || null;\n    for(var p in q)if (q.hasOwnProperty(p) && typeof k.support[p] === \"undefined\") k.support[p] = q[p];\n    d = null;\n    k.cssEase = {\n        _default: \"ease\",\n        \"in\": \"ease-in\",\n        out: \"ease-out\",\n        \"in-out\": \"ease-in-out\",\n        snap: \"cubic-bezier(0,1,.5,1)\",\n        easeOutCubic: \"cubic-bezier(.215,.61,.355,1)\",\n        easeInOutCubic: \"cubic-bezier(.645,.045,.355,1)\",\n        easeInCirc: \"cubic-bezier(.6,.04,.98,.335)\",\n        easeOutCirc: \"cubic-bezier(.075,.82,.165,1)\",\n        easeInOutCirc: \"cubic-bezier(.785,.135,.15,.86)\",\n        easeInExpo: \"cubic-bezier(.95,.05,.795,.035)\",\n        easeOutExpo: \"cubic-bezier(.19,1,.22,1)\",\n        easeInOutExpo: \"cubic-bezier(1,0,0,1)\",\n        easeInQuad: \"cubic-bezier(.55,.085,.68,.53)\",\n        easeOutQuad: \"cubic-bezier(.25,.46,.45,.94)\",\n        easeInOutQuad: \"cubic-bezier(.455,.03,.515,.955)\",\n        easeInQuart: \"cubic-bezier(.895,.03,.685,.22)\",\n        easeOutQuart: \"cubic-bezier(.165,.84,.44,1)\",\n        easeInOutQuart: \"cubic-bezier(.77,0,.175,1)\",\n        easeInQuint: \"cubic-bezier(.755,.05,.855,.06)\",\n        easeOutQuint: \"cubic-bezier(.23,1,.32,1)\",\n        easeInOutQuint: \"cubic-bezier(.86,0,.07,1)\",\n        easeInSine: \"cubic-bezier(.47,0,.745,.715)\",\n        easeOutSine: \"cubic-bezier(.39,.575,.565,1)\",\n        easeInOutSine: \"cubic-bezier(.445,.05,.55,.95)\",\n        easeInBack: \"cubic-bezier(.6,-.28,.735,.045)\",\n        easeOutBack: \"cubic-bezier(.175, .885,.32,1.275)\",\n        easeInOutBack: \"cubic-bezier(.68,-.55,.265,1.55)\"\n    };\n    k.cssHooks[\"transit:transform\"] = {\n        get: function(r) {\n            return k(r).data(\"transform\") || new j();\n        },\n        set: function(s, r) {\n            var t = r;\n            if (!(t instanceof j)) t = new j(t);\n            if (q.transform === \"WebkitTransform\" && !a) s.style[q.transform] = t.toString(true);\n            else s.style[q.transform] = t.toString();\n            k(s).data(\"transform\", t);\n        }\n    };\n    k.cssHooks.transform = {\n        set: k.cssHooks[\"transit:transform\"].set\n    };\n    if (k.fn.jquery < \"1.8\") {\n        k.cssHooks.transformOrigin = {\n            get: function(r) {\n                return r.style[q.transformOrigin];\n            },\n            set: function(r, s) {\n                r.style[q.transformOrigin] = s;\n            }\n        };\n        k.cssHooks.transition = {\n            get: function(r) {\n                return r.style[q.transition];\n            },\n            set: function(r, s) {\n                r.style[q.transition] = s;\n            }\n        };\n    }\n    n(\"scale\");\n    n(\"translate\");\n    n(\"rotate\");\n    n(\"rotateX\");\n    n(\"rotateY\");\n    n(\"rotate3d\");\n    n(\"perspective\");\n    n(\"skewX\");\n    n(\"skewY\");\n    n(\"x\", true);\n    n(\"y\", true);\n    function j(r) {\n        if (typeof r === \"string\") this.parse(r);\n        return this;\n    }\n    j.prototype = {\n        setFromString: function(t, s) {\n            var r = typeof s === \"string\" ? s.split(\",\") : s.constructor === Array ? s : [\n                s\n            ];\n            r.unshift(t);\n            j.prototype.set.apply(this, r);\n        },\n        set: function(s) {\n            var r = Array.prototype.slice.apply(arguments, [\n                1\n            ]);\n            if (this.setter[s]) this.setter[s].apply(this, r);\n            else this[s] = r.join(\",\");\n        },\n        get: function(r) {\n            if (this.getter[r]) return this.getter[r].apply(this);\n            else return this[r] || 0;\n        },\n        setter: {\n            rotate: function(r) {\n                this.rotate = o(r, \"deg\");\n            },\n            rotateX: function(r) {\n                this.rotateX = o(r, \"deg\");\n            },\n            rotateY: function(r) {\n                this.rotateY = o(r, \"deg\");\n            },\n            scale: function(r, s) {\n                if (s === undefined) s = r;\n                this.scale = r + \",\" + s;\n            },\n            skewX: function(r) {\n                this.skewX = o(r, \"deg\");\n            },\n            skewY: function(r) {\n                this.skewY = o(r, \"deg\");\n            },\n            perspective: function(r) {\n                this.perspective = o(r, \"px\");\n            },\n            x: function(r) {\n                this.set(\"translate\", r, null);\n            },\n            y: function(r) {\n                this.set(\"translate\", null, r);\n            },\n            translate: function(r, s) {\n                if (this._translateX === undefined) this._translateX = 0;\n                if (this._translateY === undefined) this._translateY = 0;\n                if (r !== null && r !== undefined) this._translateX = o(r, \"px\");\n                if (s !== null && s !== undefined) this._translateY = o(s, \"px\");\n                this.translate = this._translateX + \",\" + this._translateY;\n            }\n        },\n        getter: {\n            x: function() {\n                return this._translateX || 0;\n            },\n            y: function() {\n                return this._translateY || 0;\n            },\n            scale: function() {\n                var r = (this.scale || \"1,1\").split(\",\");\n                if (r[0]) r[0] = parseFloat(r[0]);\n                if (r[1]) r[1] = parseFloat(r[1]);\n                return r[0] === r[1] ? r[0] : r;\n            },\n            rotate3d: function() {\n                var t = (this.rotate3d || \"0,0,0,0deg\").split(\",\");\n                for(var r = 0; r <= 3; ++r)if (t[r]) t[r] = parseFloat(t[r]);\n                if (t[3]) t[3] = o(t[3], \"deg\");\n                return t;\n            }\n        },\n        parse: function(s) {\n            var r = this;\n            s.replace(/([a-zA-Z0-9]+)\\((.*?)\\)/g, function(t, v, u) {\n                r.setFromString(v, u);\n            });\n        },\n        toString: function(t) {\n            var s = [];\n            for(var r in this)if (this.hasOwnProperty(r)) {\n                if (!q.transform3d && (r === \"rotateX\" || r === \"rotateY\" || r === \"perspective\" || r === \"transformOrigin\")) continue;\n                if (r[0] !== \"_\") {\n                    if (t && r === \"scale\") s.push(r + \"3d(\" + this[r] + \",1)\");\n                    else if (t && r === \"translate\") s.push(r + \"3d(\" + this[r] + \",0)\");\n                    else s.push(r + \"(\" + this[r] + \")\");\n                }\n            }\n            return s.join(\" \");\n        }\n    };\n    function m(s, r, t) {\n        if (r === true) s.queue(t);\n        else if (r) s.queue(r, t);\n        else t();\n    }\n    function h(s) {\n        var r = [];\n        k.each(s, function(t) {\n            t = k.camelCase(t);\n            t = k.transit.propertyMap[t] || k.cssProps[t] || t;\n            t = c(t);\n            if (k.inArray(t, r) === -1) r.push(t);\n        });\n        return r;\n    }\n    function g(s, v, x, r) {\n        var t = h(s);\n        if (k.cssEase[x]) x = k.cssEase[x];\n        var w = \"\" + l(v) + \" \" + x;\n        if (parseInt(r, 10) > 0) w += \" \" + l(r);\n        var u = [];\n        k.each(t, function(z, y) {\n            u.push(y + \" \" + w);\n        });\n        return u.join(\", \");\n    }\n    k.fn.transition = k.fn.transit = function(z, s, y, C) {\n        var D = this;\n        var u = 0;\n        var w = true;\n        if (typeof s === \"function\") {\n            C = s;\n            s = undefined;\n        }\n        if (typeof y === \"function\") {\n            C = y;\n            y = undefined;\n        }\n        if (typeof z.easing !== \"undefined\") {\n            y = z.easing;\n            delete z.easing;\n        }\n        if (typeof z.duration !== \"undefined\") {\n            s = z.duration;\n            delete z.duration;\n        }\n        if (typeof z.complete !== \"undefined\") {\n            C = z.complete;\n            delete z.complete;\n        }\n        if (typeof z.queue !== \"undefined\") {\n            w = z.queue;\n            delete z.queue;\n        }\n        if (typeof z.delay !== \"undefined\") {\n            u = z.delay;\n            delete z.delay;\n        }\n        if (typeof s === \"undefined\") s = k.fx.speeds._default;\n        if (typeof y === \"undefined\") y = k.cssEase._default;\n        s = l(s);\n        var E = g(z, s, y, u);\n        var B = k.transit.enabled && q.transition;\n        var t = B ? parseInt(s, 10) + parseInt(u, 10) : 0;\n        if (t === 0) {\n            var A = function(F) {\n                D.css(z);\n                if (C) C.apply(D);\n                if (F) F();\n            };\n            m(D, w, A);\n            return D;\n        }\n        var x = {};\n        var r = function(H) {\n            var G = false;\n            var F = function() {\n                if (G) D.unbind(f, F);\n                if (t > 0) D.each(function() {\n                    this.style[q.transition] = x[this] || null;\n                });\n                if (typeof C === \"function\") C.apply(D);\n                if (typeof H === \"function\") H();\n            };\n            if (t > 0 && f && k.transit.useTransitionEnd) {\n                G = true;\n                D.bind(f, F);\n            } else window.setTimeout(F, t);\n            D.each(function() {\n                if (t > 0) this.style[q.transition] = E;\n                k(this).css(z);\n            });\n        };\n        var v = function(F) {\n            this.offsetWidth;\n            r(F);\n        };\n        m(D, w, v);\n        return this;\n    };\n    function n(s, r) {\n        if (!r) k.cssNumber[s] = true;\n        k.transit.propertyMap[s] = q.transform;\n        k.cssHooks[s] = {\n            get: function(v) {\n                var u = k(v).css(\"transit:transform\");\n                return u.get(s);\n            },\n            set: function(v, w) {\n                var u = k(v).css(\"transit:transform\");\n                u.setFromString(s, w);\n                k(v).css({\n                    \"transit:transform\": u\n                });\n            }\n        };\n    }\n    function c(r) {\n        return r.replace(/([A-Z])/g, function(s) {\n            return \"-\" + s.toLowerCase();\n        });\n    }\n    function o(s, r) {\n        if (typeof s === \"string\" && !s.match(/^[\\-0-9\\.]+$/)) return s;\n        else return \"\" + s + r;\n    }\n    function l(s) {\n        var r = s;\n        if (k.fx.speeds[r]) r = k.fx.speeds[r];\n        return o(r, \"ms\");\n    }\n    k.transit.getTransitionValue = g;\n})((0, (/*@__PURE__*/$parcel$interopDefault($6KOho))));\nif (!(0, (/*@__PURE__*/$parcel$interopDefault($6KOho))).support.transition) (0, (/*@__PURE__*/$parcel$interopDefault($6KOho))).fn.transition = (0, (/*@__PURE__*/$parcel$interopDefault($6KOho))).fn.animate;\n\n});\nparcelRegister(\"kL2Ep\", function(module, exports) {\n\n\n//     Backbone.js 1.6.1\n//     (c) 2010-2024 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n(function(factory) {\n    // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n    // We use `self` instead of `window` for `WebWorker` support.\n    var root = typeof self == 'object' && self.self === self && self || typeof $parcel$global == 'object' && $parcel$global.global === $parcel$global && $parcel$global;\n    // Set up Backbone appropriately for the environment. Start with AMD.\n    if (typeof define === 'function' && define.amd) define([\n        'underscore',\n        'jquery',\n        'exports'\n    ], function(_, $, exports1) {\n        // Export global even in AMD case in case this script is loaded with\n        // others that may still expect a global Backbone.\n        root.Backbone = factory(root, exports1, _, $);\n    });\n    else {\n        var _ = (parcelRequire(\"2q7Wm\")), $;\n        try {\n            $ = (parcelRequire(\"6KOho\"));\n        } catch (e) {}\n        factory(root, module.exports, _, $);\n    }\n})(function(root, Backbone, _, $) {\n    // Initial Setup\n    // -------------\n    // Save the previous value of the `Backbone` variable, so that it can be\n    // restored later on, if `noConflict` is used.\n    var previousBackbone = root.Backbone;\n    // Create a local reference to a common array method we'll want to use later.\n    var slice = Array.prototype.slice;\n    // Current version of the library. Keep in sync with `package.json`.\n    Backbone.VERSION = '1.6.1';\n    // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n    // the `$` variable.\n    Backbone.$ = $;\n    // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n    // to its previous owner. Returns a reference to this Backbone object.\n    Backbone.noConflict = function() {\n        root.Backbone = previousBackbone;\n        return this;\n    };\n    // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n    // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n    // set a `X-Http-Method-Override` header.\n    Backbone.emulateHTTP = false;\n    // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n    // `application/json` requests ... this will encode the body as\n    // `application/x-www-form-urlencoded` instead and will send the model in a\n    // form param named `model`.\n    Backbone.emulateJSON = false;\n    // Backbone.Events\n    // ---------------\n    // A module that can be mixed in to *any object* in order to provide it with\n    // a custom event channel. You may bind a callback to an event with `on` or\n    // remove with `off`; `trigger`-ing an event fires all callbacks in\n    // succession.\n    //\n    //     var object = {};\n    //     _.extend(object, Backbone.Events);\n    //     object.on('expand', function(){ alert('expanded'); });\n    //     object.trigger('expand');\n    //\n    var Events = Backbone.Events = {};\n    // Regular expression used to split event strings.\n    var eventSplitter = /\\s+/;\n    // A private global variable to share between listeners and listenees.\n    var _listening;\n    // Iterates over the standard `event, callback` (as well as the fancy multiple\n    // space-separated events `\"change blur\", callback` and jQuery-style event\n    // maps `{event: callback}`).\n    var eventsApi = function(iteratee, events, name, callback, opts) {\n        var i = 0, names;\n        if (name && typeof name === 'object') {\n            // Handle event maps.\n            if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n            for(names = _.keys(name); i < names.length; i++)events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n        } else if (name && eventSplitter.test(name)) // Handle space-separated event names by delegating them individually.\n        for(names = name.split(eventSplitter); i < names.length; i++)events = iteratee(events, names[i], callback, opts);\n        else // Finally, standard events.\n        events = iteratee(events, name, callback, opts);\n        return events;\n    };\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    Events.on = function(name, callback, context) {\n        this._events = eventsApi(onApi, this._events || {}, name, callback, {\n            context: context,\n            ctx: this,\n            listening: _listening\n        });\n        if (_listening) {\n            var listeners = this._listeners || (this._listeners = {});\n            listeners[_listening.id] = _listening;\n            // Allow the listening to use a counter, instead of tracking\n            // callbacks for library interop\n            _listening.interop = false;\n        }\n        return this;\n    };\n    // Inversion-of-control versions of `on`. Tell *this* object to listen to\n    // an event in another object... keeping track of what it's listening to\n    // for easier unbinding later.\n    Events.listenTo = function(obj, name, callback) {\n        if (!obj) return this;\n        var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n        var listeningTo = this._listeningTo || (this._listeningTo = {});\n        var listening = _listening = listeningTo[id];\n        // This object is not listening to any other events on `obj` yet.\n        // Setup the necessary references to track the listening callbacks.\n        if (!listening) {\n            this._listenId || (this._listenId = _.uniqueId('l'));\n            listening = _listening = listeningTo[id] = new Listening(this, obj);\n        }\n        // Bind callbacks on obj.\n        var error = tryCatchOn(obj, name, callback, this);\n        _listening = void 0;\n        if (error) throw error;\n        // If the target obj is not Backbone.Events, track events manually.\n        if (listening.interop) listening.on(name, callback);\n        return this;\n    };\n    // The reducing API that adds a callback to the `events` object.\n    var onApi = function(events, name, callback, options) {\n        if (callback) {\n            var handlers = events[name] || (events[name] = []);\n            var context = options.context, ctx = options.ctx, listening = options.listening;\n            if (listening) listening.count++;\n            handlers.push({\n                callback: callback,\n                context: context,\n                ctx: context || ctx,\n                listening: listening\n            });\n        }\n        return events;\n    };\n    // An try-catch guarded #on function, to prevent poisoning the global\n    // `_listening` variable.\n    var tryCatchOn = function(obj, name, callback, context) {\n        try {\n            obj.on(name, callback, context);\n        } catch (e) {\n            return e;\n        }\n    };\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    Events.off = function(name, callback, context) {\n        if (!this._events) return this;\n        this._events = eventsApi(offApi, this._events, name, callback, {\n            context: context,\n            listeners: this._listeners\n        });\n        return this;\n    };\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    Events.stopListening = function(obj, name, callback) {\n        var listeningTo = this._listeningTo;\n        if (!listeningTo) return this;\n        var ids = obj ? [\n            obj._listenId\n        ] : _.keys(listeningTo);\n        for(var i = 0; i < ids.length; i++){\n            var listening = listeningTo[ids[i]];\n            // If listening doesn't exist, this object is not currently\n            // listening to obj. Break out early.\n            if (!listening) break;\n            listening.obj.off(name, callback, this);\n            if (listening.interop) listening.off(name, callback);\n        }\n        if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n        return this;\n    };\n    // The reducing API that removes a callback from the `events` object.\n    var offApi = function(events, name, callback, options) {\n        if (!events) return;\n        var context = options.context, listeners = options.listeners;\n        var i = 0, names;\n        // Delete all event listeners and \"drop\" events.\n        if (!name && !context && !callback) {\n            for(names = _.keys(listeners); i < names.length; i++)listeners[names[i]].cleanup();\n            return;\n        }\n        names = name ? [\n            name\n        ] : _.keys(events);\n        for(; i < names.length; i++){\n            name = names[i];\n            var handlers = events[name];\n            // Bail out if there are no events stored.\n            if (!handlers) break;\n            // Find any remaining events.\n            var remaining = [];\n            for(var j = 0; j < handlers.length; j++){\n                var handler = handlers[j];\n                if (callback && callback !== handler.callback && callback !== handler.callback._callback || context && context !== handler.context) remaining.push(handler);\n                else {\n                    var listening = handler.listening;\n                    if (listening) listening.off(name, callback);\n                }\n            }\n            // Replace events if there are any remaining.  Otherwise, clean up.\n            if (remaining.length) events[name] = remaining;\n            else delete events[name];\n        }\n        return events;\n    };\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, its listener will be removed. If multiple events\n    // are passed in using the space-separated syntax, the handler will fire\n    // once for each event, not once for a combination of all events.\n    Events.once = function(name, callback, context) {\n        // Map the event into a `{event: once}` object.\n        var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n        if (typeof name === 'string' && context == null) callback = void 0;\n        return this.on(events, callback, context);\n    };\n    // Inversion-of-control versions of `once`.\n    Events.listenToOnce = function(obj, name, callback) {\n        // Map the event into a `{event: once}` object.\n        var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n        return this.listenTo(obj, events);\n    };\n    // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n    // `offer` unbinds the `onceWrapper` after it has been called.\n    var onceMap = function(map, name, callback, offer) {\n        if (callback) {\n            var once = map[name] = _.once(function() {\n                offer(name, once);\n                callback.apply(this, arguments);\n            });\n            once._callback = callback;\n        }\n        return map;\n    };\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    Events.trigger = function(name) {\n        if (!this._events) return this;\n        var length = Math.max(0, arguments.length - 1);\n        var args = Array(length);\n        for(var i = 0; i < length; i++)args[i] = arguments[i + 1];\n        eventsApi(triggerApi, this._events, name, void 0, args);\n        return this;\n    };\n    // Handles triggering the appropriate event callbacks.\n    var triggerApi = function(objEvents, name, callback, args) {\n        if (objEvents) {\n            var events = objEvents[name];\n            var allEvents = objEvents.all;\n            if (events && allEvents) allEvents = allEvents.slice();\n            if (events) triggerEvents(events, args);\n            if (allEvents) triggerEvents(allEvents, [\n                name\n            ].concat(args));\n        }\n        return objEvents;\n    };\n    // A difficult-to-believe, but optimized internal dispatch function for\n    // triggering events. Tries to keep the usual cases speedy (most internal\n    // Backbone events have 3 arguments).\n    var triggerEvents = function(events, args) {\n        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n        switch(args.length){\n            case 0:\n                while(++i < l)(ev = events[i]).callback.call(ev.ctx);\n                return;\n            case 1:\n                while(++i < l)(ev = events[i]).callback.call(ev.ctx, a1);\n                return;\n            case 2:\n                while(++i < l)(ev = events[i]).callback.call(ev.ctx, a1, a2);\n                return;\n            case 3:\n                while(++i < l)(ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n                return;\n            default:\n                while(++i < l)(ev = events[i]).callback.apply(ev.ctx, args);\n                return;\n        }\n    };\n    // A listening class that tracks and cleans up memory bindings\n    // when all callbacks have been offed.\n    var Listening = function(listener, obj) {\n        this.id = listener._listenId;\n        this.listener = listener;\n        this.obj = obj;\n        this.interop = true;\n        this.count = 0;\n        this._events = void 0;\n    };\n    Listening.prototype.on = Events.on;\n    // Offs a callback (or several).\n    // Uses an optimized counter if the listenee uses Backbone.Events.\n    // Otherwise, falls back to manual tracking to support events\n    // library interop.\n    Listening.prototype.off = function(name, callback) {\n        var cleanup;\n        if (this.interop) {\n            this._events = eventsApi(offApi, this._events, name, callback, {\n                context: void 0,\n                listeners: void 0\n            });\n            cleanup = !this._events;\n        } else {\n            this.count--;\n            cleanup = this.count === 0;\n        }\n        if (cleanup) this.cleanup();\n    };\n    // Cleans up memory bindings between the listener and the listenee.\n    Listening.prototype.cleanup = function() {\n        delete this.listener._listeningTo[this.obj._listenId];\n        if (!this.interop) delete this.obj._listeners[this.id];\n    };\n    // Aliases for backwards compatibility.\n    Events.bind = Events.on;\n    Events.unbind = Events.off;\n    // Allow the `Backbone` object to serve as a global event bus, for folks who\n    // want global \"pubsub\" in a convenient place.\n    _.extend(Backbone, Events);\n    // Backbone.Model\n    // --------------\n    // Backbone **Models** are the basic data object in the framework --\n    // frequently representing a row in a table in a database on your server.\n    // A discrete chunk of data and a bunch of useful, related methods for\n    // performing computations and transformations on that data.\n    // Create a new model with the specified attributes. A client id (`cid`)\n    // is automatically generated and assigned for you.\n    var Model = Backbone.Model = function(attributes, options) {\n        var attrs = attributes || {};\n        options || (options = {});\n        this.preinitialize.apply(this, arguments);\n        this.cid = _.uniqueId(this.cidPrefix);\n        this.attributes = {};\n        if (options.collection) this.collection = options.collection;\n        if (options.parse) attrs = this.parse(attrs, options) || {};\n        var defaults = _.result(this, 'defaults');\n        // Just _.defaults would work fine, but the additional _.extends\n        // is in there for historical reasons. See #3843.\n        attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n        this.set(attrs, options);\n        this.changed = {};\n        this.initialize.apply(this, arguments);\n    };\n    // Attach all inheritable methods to the Model prototype.\n    _.extend(Model.prototype, Events, {\n        // A hash of attributes whose current and previous value differ.\n        changed: null,\n        // The value returned during the last failed validation.\n        validationError: null,\n        // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n        // CouchDB users may want to set this to `\"_id\"`.\n        idAttribute: 'id',\n        // The prefix is used to create the client id which is used to identify models locally.\n        // You may want to override this if you're experiencing name clashes with model ids.\n        cidPrefix: 'c',\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the Model.\n        preinitialize: function() {},\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function() {},\n        // Return a copy of the model's `attributes` object.\n        toJSON: function(options) {\n            return _.clone(this.attributes);\n        },\n        // Proxy `Backbone.sync` by default -- but override this if you need\n        // custom syncing semantics for *this* particular model.\n        sync: function() {\n            return Backbone.sync.apply(this, arguments);\n        },\n        // Get the value of an attribute.\n        get: function(attr) {\n            return this.attributes[attr];\n        },\n        // Get the HTML-escaped value of an attribute.\n        escape: function(attr) {\n            return _.escape(this.get(attr));\n        },\n        // Returns `true` if the attribute contains a value that is not null\n        // or undefined.\n        has: function(attr) {\n            return this.get(attr) != null;\n        },\n        // Special-cased proxy to underscore's `_.matches` method.\n        matches: function(attrs) {\n            return !!_.iteratee(attrs, this)(this.attributes);\n        },\n        // Set a hash of model attributes on the object, firing `\"change\"`. This is\n        // the core primitive operation of a model, updating the data and notifying\n        // anyone who needs to know about the change in state. The heart of the beast.\n        set: function(key, val, options) {\n            if (key == null) return this;\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\n            var attrs;\n            if (typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else (attrs = {})[key] = val;\n            options || (options = {});\n            // Run validation.\n            if (!this._validate(attrs, options)) return false;\n            // Extract attributes and options.\n            var unset = options.unset;\n            var silent = options.silent;\n            var changes = [];\n            var changing = this._changing;\n            this._changing = true;\n            if (!changing) {\n                this._previousAttributes = _.clone(this.attributes);\n                this.changed = {};\n            }\n            var current = this.attributes;\n            var changed = this.changed;\n            var prev = this._previousAttributes;\n            // For each `set` attribute, update or delete the current value.\n            for(var attr in attrs){\n                val = attrs[attr];\n                if (!_.isEqual(current[attr], val)) changes.push(attr);\n                if (!_.isEqual(prev[attr], val)) changed[attr] = val;\n                else delete changed[attr];\n                unset ? delete current[attr] : current[attr] = val;\n            }\n            // Update the `id`.\n            if (this.idAttribute in attrs) {\n                var prevId = this.id;\n                this.id = this.get(this.idAttribute);\n                if (this.id !== prevId) this.trigger('changeId', this, prevId, options);\n            }\n            // Trigger all relevant attribute changes.\n            if (!silent) {\n                if (changes.length) this._pending = options;\n                for(var i = 0; i < changes.length; i++)this.trigger('change:' + changes[i], this, current[changes[i]], options);\n            }\n            // You might be wondering why there's a `while` loop here. Changes can\n            // be recursively nested within `\"change\"` events.\n            if (changing) return this;\n            if (!silent) while(this._pending){\n                options = this._pending;\n                this._pending = false;\n                this.trigger('change', this, options);\n            }\n            this._pending = false;\n            this._changing = false;\n            return this;\n        },\n        // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n        // if the attribute doesn't exist.\n        unset: function(attr, options) {\n            return this.set(attr, void 0, _.extend({}, options, {\n                unset: true\n            }));\n        },\n        // Clear all attributes on the model, firing `\"change\"`.\n        clear: function(options) {\n            var attrs = {};\n            for(var key in this.attributes)attrs[key] = void 0;\n            return this.set(attrs, _.extend({}, options, {\n                unset: true\n            }));\n        },\n        // Determine if the model has changed since the last `\"change\"` event.\n        // If you specify an attribute name, determine if that attribute has changed.\n        hasChanged: function(attr) {\n            if (attr == null) return !_.isEmpty(this.changed);\n            return _.has(this.changed, attr);\n        },\n        // Return an object containing all the attributes that have changed, or\n        // false if there are no changed attributes. Useful for determining what\n        // parts of a view need to be updated and/or what attributes need to be\n        // persisted to the server. Unset attributes will be set to undefined.\n        // You can also pass an attributes object to diff against the model,\n        // determining if there *would be* a change.\n        changedAttributes: function(diff) {\n            if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n            var old = this._changing ? this._previousAttributes : this.attributes;\n            var changed = {};\n            var hasChanged;\n            for(var attr in diff){\n                var val = diff[attr];\n                if (_.isEqual(old[attr], val)) continue;\n                changed[attr] = val;\n                hasChanged = true;\n            }\n            return hasChanged ? changed : false;\n        },\n        // Get the previous value of an attribute, recorded at the time the last\n        // `\"change\"` event was fired.\n        previous: function(attr) {\n            if (attr == null || !this._previousAttributes) return null;\n            return this._previousAttributes[attr];\n        },\n        // Get all of the attributes of the model at the time of the previous\n        // `\"change\"` event.\n        previousAttributes: function() {\n            return _.clone(this._previousAttributes);\n        },\n        // Fetch the model from the server, merging the response with the model's\n        // local attributes. Any changed attributes will trigger a \"change\" event.\n        fetch: function(options) {\n            options = _.extend({\n                parse: true\n            }, options);\n            var model = this;\n            var success = options.success;\n            options.success = function(resp) {\n                var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n                if (!model.set(serverAttrs, options)) return false;\n                if (success) success.call(options.context, model, resp, options);\n                model.trigger('sync', model, resp, options);\n            };\n            wrapError(this, options);\n            return this.sync('read', this, options);\n        },\n        // Set a hash of model attributes, and sync the model to the server.\n        // If the server returns an attributes hash that differs, the model's\n        // state will be `set` again.\n        save: function(key, val, options) {\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\n            var attrs;\n            if (key == null || typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else (attrs = {})[key] = val;\n            options = _.extend({\n                validate: true,\n                parse: true\n            }, options);\n            var wait = options.wait;\n            // If we're not waiting and attributes exist, save acts as\n            // `set(attr).save(null, opts)` with validation. Otherwise, check if\n            // the model will be valid when the attributes, if any, are set.\n            if (attrs && !wait) {\n                if (!this.set(attrs, options)) return false;\n            } else if (!this._validate(attrs, options)) return false;\n            // After a successful server-side save, the client is (optionally)\n            // updated with the server-side state.\n            var model = this;\n            var success = options.success;\n            var attributes = this.attributes;\n            options.success = function(resp) {\n                // Ensure attributes are restored during synchronous saves.\n                model.attributes = attributes;\n                var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n                if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n                if (serverAttrs && !model.set(serverAttrs, options)) return false;\n                if (success) success.call(options.context, model, resp, options);\n                model.trigger('sync', model, resp, options);\n            };\n            wrapError(this, options);\n            // Set temporary attributes if `{wait: true}` to properly find new ids.\n            if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n            var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n            if (method === 'patch' && !options.attrs) options.attrs = attrs;\n            var xhr = this.sync(method, this, options);\n            // Restore attributes.\n            this.attributes = attributes;\n            return xhr;\n        },\n        // Destroy this model on the server if it was already persisted.\n        // Optimistically removes the model from its collection, if it has one.\n        // If `wait: true` is passed, waits for the server to respond before removal.\n        destroy: function(options) {\n            options = options ? _.clone(options) : {};\n            var model = this;\n            var success = options.success;\n            var wait = options.wait;\n            var destroy = function() {\n                model.stopListening();\n                model.trigger('destroy', model, model.collection, options);\n            };\n            options.success = function(resp) {\n                if (wait) destroy();\n                if (success) success.call(options.context, model, resp, options);\n                if (!model.isNew()) model.trigger('sync', model, resp, options);\n            };\n            var xhr = false;\n            if (this.isNew()) _.defer(options.success);\n            else {\n                wrapError(this, options);\n                xhr = this.sync('delete', this, options);\n            }\n            if (!wait) destroy();\n            return xhr;\n        },\n        // Default URL for the model's representation on the server -- if you're\n        // using Backbone's restful methods, override this to change the endpoint\n        // that will be called.\n        url: function() {\n            var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n            if (this.isNew()) return base;\n            var id = this.get(this.idAttribute);\n            return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n        },\n        // **parse** converts a response into the hash of attributes to be `set` on\n        // the model. The default implementation is just to pass the response along.\n        parse: function(resp, options) {\n            return resp;\n        },\n        // Create a new model with identical attributes to this one.\n        clone: function() {\n            return new this.constructor(this.attributes);\n        },\n        // A model is new if it has never been saved to the server, and lacks an id.\n        isNew: function() {\n            return !this.has(this.idAttribute);\n        },\n        // Check if the model is currently in a valid state.\n        isValid: function(options) {\n            return this._validate({}, _.extend({}, options, {\n                validate: true\n            }));\n        },\n        // Run validation against the next complete set of model attributes,\n        // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n        _validate: function(attrs, options) {\n            if (!options.validate || !this.validate) return true;\n            attrs = _.extend({}, this.attributes, attrs);\n            var error = this.validationError = this.validate(attrs, options) || null;\n            if (!error) return true;\n            this.trigger('invalid', this, error, _.extend(options, {\n                validationError: error\n            }));\n            return false;\n        }\n    });\n    // Backbone.Collection\n    // -------------------\n    // If models tend to represent a single row of data, a Backbone Collection is\n    // more analogous to a table full of data ... or a small slice or page of that\n    // table, or a collection of rows that belong together for a particular reason\n    // -- all of the messages in this particular folder, all of the documents\n    // belonging to this particular author, and so on. Collections maintain\n    // indexes of their models, both in order, and for lookup by `id`.\n    // Create a new **Collection**, perhaps to contain a specific type of `model`.\n    // If a `comparator` is specified, the Collection will maintain\n    // its models in sort order, as they're added and removed.\n    var Collection = Backbone.Collection = function(models, options) {\n        options || (options = {});\n        this.preinitialize.apply(this, arguments);\n        if (options.model) this.model = options.model;\n        if (options.comparator !== void 0) this.comparator = options.comparator;\n        this._reset();\n        this.initialize.apply(this, arguments);\n        if (models) this.reset(models, _.extend({\n            silent: true\n        }, options));\n    };\n    // Default options for `Collection#set`.\n    var setOptions = {\n        add: true,\n        remove: true,\n        merge: true\n    };\n    var addOptions = {\n        add: true,\n        remove: false\n    };\n    // Splices `insert` into `array` at index `at`.\n    var splice = function(array, insert, at) {\n        at = Math.min(Math.max(at, 0), array.length);\n        var tail = Array(array.length - at);\n        var length = insert.length;\n        var i;\n        for(i = 0; i < tail.length; i++)tail[i] = array[i + at];\n        for(i = 0; i < length; i++)array[i + at] = insert[i];\n        for(i = 0; i < tail.length; i++)array[i + length + at] = tail[i];\n    };\n    // Define the Collection's inheritable methods.\n    _.extend(Collection.prototype, Events, {\n        // The default model for a collection is just a **Backbone.Model**.\n        // This should be overridden in most cases.\n        model: Model,\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n        preinitialize: function() {},\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function() {},\n        // The JSON representation of a Collection is an array of the\n        // models' attributes.\n        toJSON: function(options) {\n            return this.map(function(model) {\n                return model.toJSON(options);\n            });\n        },\n        // Proxy `Backbone.sync` by default.\n        sync: function() {\n            return Backbone.sync.apply(this, arguments);\n        },\n        // Add a model, or list of models to the set. `models` may be Backbone\n        // Models or raw JavaScript objects to be converted to Models, or any\n        // combination of the two.\n        add: function(models, options) {\n            return this.set(models, _.extend({\n                merge: false\n            }, options, addOptions));\n        },\n        // Remove a model, or a list of models from the set.\n        remove: function(models, options) {\n            options = _.extend({}, options);\n            var singular = !_.isArray(models);\n            models = singular ? [\n                models\n            ] : models.slice();\n            var removed = this._removeModels(models, options);\n            if (!options.silent && removed.length) {\n                options.changes = {\n                    added: [],\n                    merged: [],\n                    removed: removed\n                };\n                this.trigger('update', this, options);\n            }\n            return singular ? removed[0] : removed;\n        },\n        // Update a collection by `set`-ing a new list of models, adding new ones,\n        // removing models that are no longer present, and merging models that\n        // already exist in the collection, as necessary. Similar to **Model#set**,\n        // the core operation for updating the data contained by the collection.\n        set: function(models, options) {\n            if (models == null) return;\n            options = _.extend({}, setOptions, options);\n            if (options.parse && !this._isModel(models)) models = this.parse(models, options) || [];\n            var singular = !_.isArray(models);\n            models = singular ? [\n                models\n            ] : models.slice();\n            var at = options.at;\n            if (at != null) at = +at;\n            if (at > this.length) at = this.length;\n            if (at < 0) at += this.length + 1;\n            var set = [];\n            var toAdd = [];\n            var toMerge = [];\n            var toRemove = [];\n            var modelMap = {};\n            var add = options.add;\n            var merge = options.merge;\n            var remove = options.remove;\n            var sort = false;\n            var sortable = this.comparator && at == null && options.sort !== false;\n            var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n            // Turn bare objects into model references, and prevent invalid models\n            // from being added.\n            var model, i;\n            for(i = 0; i < models.length; i++){\n                model = models[i];\n                // If a duplicate is found, prevent it from being added and\n                // optionally merge it into the existing model.\n                var existing = this.get(model);\n                if (existing) {\n                    if (merge && model !== existing) {\n                        var attrs = this._isModel(model) ? model.attributes : model;\n                        if (options.parse) attrs = existing.parse(attrs, options);\n                        existing.set(attrs, options);\n                        toMerge.push(existing);\n                        if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n                    }\n                    if (!modelMap[existing.cid]) {\n                        modelMap[existing.cid] = true;\n                        set.push(existing);\n                    }\n                    models[i] = existing;\n                // If this is a new, valid model, push it to the `toAdd` list.\n                } else if (add) {\n                    model = models[i] = this._prepareModel(model, options);\n                    if (model) {\n                        toAdd.push(model);\n                        this._addReference(model, options);\n                        modelMap[model.cid] = true;\n                        set.push(model);\n                    }\n                }\n            }\n            // Remove stale models.\n            if (remove) {\n                for(i = 0; i < this.length; i++){\n                    model = this.models[i];\n                    if (!modelMap[model.cid]) toRemove.push(model);\n                }\n                if (toRemove.length) this._removeModels(toRemove, options);\n            }\n            // See if sorting is needed, update `length` and splice in new models.\n            var orderChanged = false;\n            var replace = !sortable && add && remove;\n            if (set.length && replace) {\n                orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n                    return m !== set[index];\n                });\n                this.models.length = 0;\n                splice(this.models, set, 0);\n                this.length = this.models.length;\n            } else if (toAdd.length) {\n                if (sortable) sort = true;\n                splice(this.models, toAdd, at == null ? this.length : at);\n                this.length = this.models.length;\n            }\n            // Silently sort the collection if appropriate.\n            if (sort) this.sort({\n                silent: true\n            });\n            // Unless silenced, it's time to fire all appropriate add/sort/update events.\n            if (!options.silent) {\n                for(i = 0; i < toAdd.length; i++){\n                    if (at != null) options.index = at + i;\n                    model = toAdd[i];\n                    model.trigger('add', model, this, options);\n                }\n                if (sort || orderChanged) this.trigger('sort', this, options);\n                if (toAdd.length || toRemove.length || toMerge.length) {\n                    options.changes = {\n                        added: toAdd,\n                        removed: toRemove,\n                        merged: toMerge\n                    };\n                    this.trigger('update', this, options);\n                }\n            }\n            // Return the added (or merged) model (or models).\n            return singular ? models[0] : models;\n        },\n        // When you have more items than you want to add or remove individually,\n        // you can reset the entire set with a new list of models, without firing\n        // any granular `add` or `remove` events. Fires `reset` when finished.\n        // Useful for bulk operations and optimizations.\n        reset: function(models, options) {\n            options = options ? _.clone(options) : {};\n            for(var i = 0; i < this.models.length; i++)this._removeReference(this.models[i], options);\n            options.previousModels = this.models;\n            this._reset();\n            models = this.add(models, _.extend({\n                silent: true\n            }, options));\n            if (!options.silent) this.trigger('reset', this, options);\n            return models;\n        },\n        // Add a model to the end of the collection.\n        push: function(model, options) {\n            return this.add(model, _.extend({\n                at: this.length\n            }, options));\n        },\n        // Remove a model from the end of the collection.\n        pop: function(options) {\n            var model = this.at(this.length - 1);\n            return this.remove(model, options);\n        },\n        // Add a model to the beginning of the collection.\n        unshift: function(model, options) {\n            return this.add(model, _.extend({\n                at: 0\n            }, options));\n        },\n        // Remove a model from the beginning of the collection.\n        shift: function(options) {\n            var model = this.at(0);\n            return this.remove(model, options);\n        },\n        // Slice out a sub-array of models from the collection.\n        slice: function() {\n            return slice.apply(this.models, arguments);\n        },\n        // Get a model from the set by id, cid, model object with id or cid\n        // properties, or an attributes object that is transformed through modelId.\n        get: function(obj) {\n            if (obj == null) return void 0;\n            return this._byId[obj] || this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj, obj.idAttribute)] || obj.cid && this._byId[obj.cid];\n        },\n        // Returns `true` if the model is in the collection.\n        has: function(obj) {\n            return this.get(obj) != null;\n        },\n        // Get the model at the given index.\n        at: function(index) {\n            if (index < 0) index += this.length;\n            return this.models[index];\n        },\n        // Return models with matching attributes. Useful for simple cases of\n        // `filter`.\n        where: function(attrs, first) {\n            return this[first ? 'find' : 'filter'](attrs);\n        },\n        // Return the first model with matching attributes. Useful for simple cases\n        // of `find`.\n        findWhere: function(attrs) {\n            return this.where(attrs, true);\n        },\n        // Force the collection to re-sort itself. You don't need to call this under\n        // normal circumstances, as the set will maintain sort order as each item\n        // is added.\n        sort: function(options) {\n            var comparator = this.comparator;\n            if (!comparator) throw new Error('Cannot sort a set without a comparator');\n            options || (options = {});\n            var length = comparator.length;\n            if (_.isFunction(comparator)) comparator = comparator.bind(this);\n            // Run sort based on type of `comparator`.\n            if (length === 1 || _.isString(comparator)) this.models = this.sortBy(comparator);\n            else this.models.sort(comparator);\n            if (!options.silent) this.trigger('sort', this, options);\n            return this;\n        },\n        // Pluck an attribute from each model in the collection.\n        pluck: function(attr) {\n            return this.map(attr + '');\n        },\n        // Fetch the default set of models for this collection, resetting the\n        // collection when they arrive. If `reset: true` is passed, the response\n        // data will be passed through the `reset` method instead of `set`.\n        fetch: function(options) {\n            options = _.extend({\n                parse: true\n            }, options);\n            var success = options.success;\n            var collection = this;\n            options.success = function(resp) {\n                var method = options.reset ? 'reset' : 'set';\n                collection[method](resp, options);\n                if (success) success.call(options.context, collection, resp, options);\n                collection.trigger('sync', collection, resp, options);\n            };\n            wrapError(this, options);\n            return this.sync('read', this, options);\n        },\n        // Create a new instance of a model in this collection. Add the model to the\n        // collection immediately, unless `wait: true` is passed, in which case we\n        // wait for the server to agree.\n        create: function(model, options) {\n            options = options ? _.clone(options) : {};\n            var wait = options.wait;\n            model = this._prepareModel(model, options);\n            if (!model) return false;\n            if (!wait) this.add(model, options);\n            var collection = this;\n            var success = options.success;\n            options.success = function(m, resp, callbackOpts) {\n                if (wait) {\n                    m.off('error', collection._forwardPristineError, collection);\n                    collection.add(m, callbackOpts);\n                }\n                if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n            };\n            // In case of wait:true, our collection is not listening to any\n            // of the model's events yet, so it will not forward the error\n            // event. In this special case, we need to listen for it\n            // separately and handle the event just once.\n            // (The reason we don't need to do this for the sync event is\n            // in the success handler above: we add the model first, which\n            // causes the collection to listen, and then invoke the callback\n            // that triggers the event.)\n            if (wait) model.once('error', this._forwardPristineError, this);\n            model.save(null, options);\n            return model;\n        },\n        // **parse** converts a response into a list of models to be added to the\n        // collection. The default implementation is just to pass it through.\n        parse: function(resp, options) {\n            return resp;\n        },\n        // Create a new collection with an identical list of models as this one.\n        clone: function() {\n            return new this.constructor(this.models, {\n                model: this.model,\n                comparator: this.comparator\n            });\n        },\n        // Define how to uniquely identify models in the collection.\n        modelId: function(attrs, idAttribute) {\n            return attrs[idAttribute || this.model.prototype.idAttribute || 'id'];\n        },\n        // Get an iterator of all models in this collection.\n        values: function() {\n            return new CollectionIterator(this, ITERATOR_VALUES);\n        },\n        // Get an iterator of all model IDs in this collection.\n        keys: function() {\n            return new CollectionIterator(this, ITERATOR_KEYS);\n        },\n        // Get an iterator of all [ID, model] tuples in this collection.\n        entries: function() {\n            return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n        },\n        // Private method to reset all internal state. Called when the collection\n        // is first initialized or reset.\n        _reset: function() {\n            this.length = 0;\n            this.models = [];\n            this._byId = {};\n        },\n        // Prepare a hash of attributes (or other model) to be added to this\n        // collection.\n        _prepareModel: function(attrs, options) {\n            if (this._isModel(attrs)) {\n                if (!attrs.collection) attrs.collection = this;\n                return attrs;\n            }\n            options = options ? _.clone(options) : {};\n            options.collection = this;\n            var model;\n            if (this.model.prototype) model = new this.model(attrs, options);\n            else // ES class methods didn't have prototype\n            model = this.model(attrs, options);\n            if (!model.validationError) return model;\n            this.trigger('invalid', this, model.validationError, options);\n            return false;\n        },\n        // Internal method called by both remove and set.\n        _removeModels: function(models, options) {\n            var removed = [];\n            for(var i = 0; i < models.length; i++){\n                var model = this.get(models[i]);\n                if (!model) continue;\n                var index = this.indexOf(model);\n                this.models.splice(index, 1);\n                this.length--;\n                // Remove references before triggering 'remove' event to prevent an\n                // infinite loop. #3693\n                delete this._byId[model.cid];\n                var id = this.modelId(model.attributes, model.idAttribute);\n                if (id != null) delete this._byId[id];\n                if (!options.silent) {\n                    options.index = index;\n                    model.trigger('remove', model, this, options);\n                }\n                removed.push(model);\n                this._removeReference(model, options);\n            }\n            if (models.length > 0 && !options.silent) delete options.index;\n            return removed;\n        },\n        // Method for checking whether an object should be considered a model for\n        // the purposes of adding to the collection.\n        _isModel: function(model) {\n            return model instanceof Model;\n        },\n        // Internal method to create a model's ties to a collection.\n        _addReference: function(model, options) {\n            this._byId[model.cid] = model;\n            var id = this.modelId(model.attributes, model.idAttribute);\n            if (id != null) this._byId[id] = model;\n            model.on('all', this._onModelEvent, this);\n        },\n        // Internal method to sever a model's ties to a collection.\n        _removeReference: function(model, options) {\n            delete this._byId[model.cid];\n            var id = this.modelId(model.attributes, model.idAttribute);\n            if (id != null) delete this._byId[id];\n            if (this === model.collection) delete model.collection;\n            model.off('all', this._onModelEvent, this);\n        },\n        // Internal method called every time a model in the set fires an event.\n        // Sets need to update their indexes when models change ids. All other\n        // events simply proxy through. \"add\" and \"remove\" events that originate\n        // in other collections are ignored.\n        _onModelEvent: function(event, model, collection, options) {\n            if (model) {\n                if ((event === 'add' || event === 'remove') && collection !== this) return;\n                if (event === 'destroy') this.remove(model, options);\n                if (event === 'changeId') {\n                    var prevId = this.modelId(model.previousAttributes(), model.idAttribute);\n                    var id = this.modelId(model.attributes, model.idAttribute);\n                    if (prevId != null) delete this._byId[prevId];\n                    if (id != null) this._byId[id] = model;\n                }\n            }\n            this.trigger.apply(this, arguments);\n        },\n        // Internal callback method used in `create`. It serves as a\n        // stand-in for the `_onModelEvent` method, which is not yet bound\n        // during the `wait` period of the `create` call. We still want to\n        // forward any `'error'` event at the end of the `wait` period,\n        // hence a customized callback.\n        _forwardPristineError: function(model, collection, options) {\n            // Prevent double forward if the model was already in the\n            // collection before the call to `create`.\n            if (this.has(model)) return;\n            this._onModelEvent('error', model, collection, options);\n        }\n    });\n    // Defining an @@iterator method implements JavaScript's Iterable protocol.\n    // In modern ES2015 browsers, this value is found at Symbol.iterator.\n    /* global Symbol */ var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n    if ($$iterator) Collection.prototype[$$iterator] = Collection.prototype.values;\n    // CollectionIterator\n    // ------------------\n    // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n    // use of `for of` loops in modern browsers and interoperation between\n    // Backbone.Collection and other JavaScript functions and third-party libraries\n    // which can operate on Iterables.\n    var CollectionIterator = function(collection, kind) {\n        this._collection = collection;\n        this._kind = kind;\n        this._index = 0;\n    };\n    // This \"enum\" defines the three possible kinds of values which can be emitted\n    // by a CollectionIterator that correspond to the values(), keys() and entries()\n    // methods on Collection, respectively.\n    var ITERATOR_VALUES = 1;\n    var ITERATOR_KEYS = 2;\n    var ITERATOR_KEYSVALUES = 3;\n    // All Iterators should themselves be Iterable.\n    if ($$iterator) CollectionIterator.prototype[$$iterator] = function() {\n        return this;\n    };\n    CollectionIterator.prototype.next = function() {\n        if (this._collection) {\n            // Only continue iterating if the iterated collection is long enough.\n            if (this._index < this._collection.length) {\n                var model = this._collection.at(this._index);\n                this._index++;\n                // Construct a value depending on what kind of values should be iterated.\n                var value;\n                if (this._kind === ITERATOR_VALUES) value = model;\n                else {\n                    var id = this._collection.modelId(model.attributes, model.idAttribute);\n                    if (this._kind === ITERATOR_KEYS) value = id;\n                    else value = [\n                        id,\n                        model\n                    ];\n                }\n                return {\n                    value: value,\n                    done: false\n                };\n            }\n            // Once exhausted, remove the reference to the collection so future\n            // calls to the next method always return done.\n            this._collection = void 0;\n        }\n        return {\n            value: void 0,\n            done: true\n        };\n    };\n    // Backbone.View\n    // -------------\n    // Backbone Views are almost more convention than they are actual code. A View\n    // is simply a JavaScript object that represents a logical chunk of UI in the\n    // DOM. This might be a single item, an entire list, a sidebar or panel, or\n    // even the surrounding frame which wraps your whole app. Defining a chunk of\n    // UI as a **View** allows you to define your DOM events declaratively, without\n    // having to worry about render order ... and makes it easy for the view to\n    // react to specific changes in the state of your models.\n    // Creating a Backbone.View creates its initial element outside of the DOM,\n    // if an existing element is not provided...\n    var View = Backbone.View = function(options) {\n        this.cid = _.uniqueId('view');\n        this.preinitialize.apply(this, arguments);\n        _.extend(this, _.pick(options, viewOptions));\n        this._ensureElement();\n        this.initialize.apply(this, arguments);\n    };\n    // Cached regex to split keys for `delegate`.\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n    // List of view options to be set as properties.\n    var viewOptions = [\n        'model',\n        'collection',\n        'el',\n        'id',\n        'attributes',\n        'className',\n        'tagName',\n        'events'\n    ];\n    // Set up all inheritable **Backbone.View** properties and methods.\n    _.extend(View.prototype, Events, {\n        // The default `tagName` of a View's element is `\"div\"`.\n        tagName: 'div',\n        // jQuery delegate for element lookup, scoped to DOM elements within the\n        // current view. This should be preferred to global lookups where possible.\n        $: function(selector) {\n            return this.$el.find(selector);\n        },\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the View\n        preinitialize: function() {},\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function() {},\n        // **render** is the core function that your view should override, in order\n        // to populate its element (`this.el`), with the appropriate HTML. The\n        // convention is for **render** to always return `this`.\n        render: function() {\n            return this;\n        },\n        // Remove this view by taking the element out of the DOM, and removing any\n        // applicable Backbone.Events listeners.\n        remove: function() {\n            this._removeElement();\n            this.stopListening();\n            return this;\n        },\n        // Remove this view's element from the document and all event listeners\n        // attached to it. Exposed for subclasses using an alternative DOM\n        // manipulation API.\n        _removeElement: function() {\n            this.$el.remove();\n        },\n        // Change the view's element (`this.el` property) and re-delegate the\n        // view's events on the new element.\n        setElement: function(element) {\n            this.undelegateEvents();\n            this._setElement(element);\n            this.delegateEvents();\n            return this;\n        },\n        // Creates the `this.el` and `this.$el` references for this view using the\n        // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n        // context or an element. Subclasses can override this to utilize an\n        // alternative DOM manipulation API and are only required to set the\n        // `this.el` property.\n        _setElement: function(el) {\n            this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n            this.el = this.$el[0];\n        },\n        // Set callbacks, where `this.events` is a hash of\n        //\n        // *{\"event selector\": \"callback\"}*\n        //\n        //     {\n        //       'mousedown .title':  'edit',\n        //       'click .button':     'save',\n        //       'click .open':       function(e) { ... }\n        //     }\n        //\n        // pairs. Callbacks will be bound to the view, with `this` set properly.\n        // Uses event delegation for efficiency.\n        // Omitting the selector binds the event to `this.el`.\n        delegateEvents: function(events) {\n            events || (events = _.result(this, 'events'));\n            if (!events) return this;\n            this.undelegateEvents();\n            for(var key in events){\n                var method = events[key];\n                if (!_.isFunction(method)) method = this[method];\n                if (!method) continue;\n                var match = key.match(delegateEventSplitter);\n                this.delegate(match[1], match[2], method.bind(this));\n            }\n            return this;\n        },\n        // Add a single event listener to the view's element (or a child element\n        // using `selector`). This only works for delegate-able events: not `focus`,\n        // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n        delegate: function(eventName, selector, listener) {\n            this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n            return this;\n        },\n        // Clears all callbacks previously bound to the view by `delegateEvents`.\n        // You usually don't need to use this, but may wish to if you have multiple\n        // Backbone views attached to the same DOM element.\n        undelegateEvents: function() {\n            if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n            return this;\n        },\n        // A finer-grained `undelegateEvents` for removing a single delegated event.\n        // `selector` and `listener` are both optional.\n        undelegate: function(eventName, selector, listener) {\n            this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n            return this;\n        },\n        // Produces a DOM element to be assigned to your view. Exposed for\n        // subclasses using an alternative DOM manipulation API.\n        _createElement: function(tagName) {\n            return document.createElement(tagName);\n        },\n        // Ensure that the View has a DOM element to render into.\n        // If `this.el` is a string, pass it through `$()`, take the first\n        // matching element, and re-assign it to `el`. Otherwise, create\n        // an element from the `id`, `className` and `tagName` properties.\n        _ensureElement: function() {\n            if (!this.el) {\n                var attrs = _.extend({}, _.result(this, 'attributes'));\n                if (this.id) attrs.id = _.result(this, 'id');\n                if (this.className) attrs['class'] = _.result(this, 'className');\n                this.setElement(this._createElement(_.result(this, 'tagName')));\n                this._setAttributes(attrs);\n            } else this.setElement(_.result(this, 'el'));\n        },\n        // Set attributes from a hash on this view's element.  Exposed for\n        // subclasses using an alternative DOM manipulation API.\n        _setAttributes: function(attributes) {\n            this.$el.attr(attributes);\n        }\n    });\n    // Proxy Backbone class methods to Underscore functions, wrapping the model's\n    // `attributes` object or collection's `models` array behind the scenes.\n    //\n    // collection.filter(function(model) { return model.get('age') > 10 });\n    // collection.each(this.addView);\n    //\n    // `Function#apply` can be slow so we use the method's arg count, if we know it.\n    var addMethod = function(base, length, method, attribute) {\n        switch(length){\n            case 1:\n                return function() {\n                    return base[method](this[attribute]);\n                };\n            case 2:\n                return function(value) {\n                    return base[method](this[attribute], value);\n                };\n            case 3:\n                return function(iteratee, context) {\n                    return base[method](this[attribute], cb(iteratee, this), context);\n                };\n            case 4:\n                return function(iteratee, defaultVal, context) {\n                    return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n                };\n            default:\n                return function() {\n                    var args = slice.call(arguments);\n                    args.unshift(this[attribute]);\n                    return base[method].apply(base, args);\n                };\n        }\n    };\n    var addUnderscoreMethods = function(Class, base, methods, attribute) {\n        _.each(methods, function(length, method) {\n            if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n        });\n    };\n    // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n    var cb = function(iteratee, instance) {\n        if (_.isFunction(iteratee)) return iteratee;\n        if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n        if (_.isString(iteratee)) return function(model) {\n            return model.get(iteratee);\n        };\n        return iteratee;\n    };\n    var modelMatcher = function(attrs) {\n        var matcher = _.matches(attrs);\n        return function(model) {\n            return matcher(model.attributes);\n        };\n    };\n    // Underscore methods that we want to implement on the Collection.\n    // 90% of the core usefulness of Backbone Collections is actually implemented\n    // right here:\n    var collectionMethods = {\n        forEach: 3,\n        each: 3,\n        map: 3,\n        collect: 3,\n        reduce: 0,\n        foldl: 0,\n        inject: 0,\n        reduceRight: 0,\n        foldr: 0,\n        find: 3,\n        detect: 3,\n        filter: 3,\n        select: 3,\n        reject: 3,\n        every: 3,\n        all: 3,\n        some: 3,\n        any: 3,\n        include: 3,\n        includes: 3,\n        contains: 3,\n        invoke: 0,\n        max: 3,\n        min: 3,\n        toArray: 1,\n        size: 1,\n        first: 3,\n        head: 3,\n        take: 3,\n        initial: 3,\n        rest: 3,\n        tail: 3,\n        drop: 3,\n        last: 3,\n        without: 0,\n        difference: 0,\n        indexOf: 3,\n        shuffle: 1,\n        lastIndexOf: 3,\n        isEmpty: 1,\n        chain: 1,\n        sample: 3,\n        partition: 3,\n        groupBy: 3,\n        countBy: 3,\n        sortBy: 3,\n        indexBy: 3,\n        findIndex: 3,\n        findLastIndex: 3\n    };\n    // Underscore methods that we want to implement on the Model, mapped to the\n    // number of arguments they take.\n    var modelMethods = {\n        keys: 1,\n        values: 1,\n        pairs: 1,\n        invert: 1,\n        pick: 0,\n        omit: 0,\n        chain: 1,\n        isEmpty: 1\n    };\n    // Mix in each Underscore method as a proxy to `Collection#models`.\n    _.each([\n        [\n            Collection,\n            collectionMethods,\n            'models'\n        ],\n        [\n            Model,\n            modelMethods,\n            'attributes'\n        ]\n    ], function(config) {\n        var Base = config[0], methods = config[1], attribute = config[2];\n        Base.mixin = function(obj) {\n            var mappings = _.reduce(_.functions(obj), function(memo, name) {\n                memo[name] = 0;\n                return memo;\n            }, {});\n            addUnderscoreMethods(Base, obj, mappings, attribute);\n        };\n        addUnderscoreMethods(Base, _, methods, attribute);\n    });\n    // Backbone.sync\n    // -------------\n    // Override this function to change the manner in which Backbone persists\n    // models to the server. You will be passed the type of request, and the\n    // model in question. By default, makes a RESTful Ajax request\n    // to the model's `url()`. Some possible customizations could be:\n    //\n    // * Use `setTimeout` to batch rapid-fire updates into a single request.\n    // * Send up the models as XML instead of JSON.\n    // * Persist models via WebSockets instead of Ajax.\n    //\n    // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n    // as `POST`, with a `_method` parameter containing the true HTTP method,\n    // as well as all requests with the body as `application/x-www-form-urlencoded`\n    // instead of `application/json` with the model in a param named `model`.\n    // Useful when interfacing with server-side languages like **PHP** that make\n    // it difficult to read the body of `PUT` requests.\n    Backbone.sync = function(method, model, options) {\n        var type = methodMap[method];\n        // Default options, unless specified.\n        _.defaults(options || (options = {}), {\n            emulateHTTP: Backbone.emulateHTTP,\n            emulateJSON: Backbone.emulateJSON\n        });\n        // Default JSON-request options.\n        var params = {\n            type: type,\n            dataType: 'json'\n        };\n        // Ensure that we have a URL.\n        if (!options.url) params.url = _.result(model, 'url') || urlError();\n        // Ensure that we have the appropriate request data.\n        if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n            params.contentType = 'application/json';\n            params.data = JSON.stringify(options.attrs || model.toJSON(options));\n        }\n        // For older servers, emulate JSON by encoding the request into an HTML-form.\n        if (options.emulateJSON) {\n            params.contentType = 'application/x-www-form-urlencoded';\n            params.data = params.data ? {\n                model: params.data\n            } : {};\n        }\n        // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n        // And an `X-HTTP-Method-Override` header.\n        if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n            params.type = 'POST';\n            if (options.emulateJSON) params.data._method = type;\n            var beforeSend = options.beforeSend;\n            options.beforeSend = function(xhr) {\n                xhr.setRequestHeader('X-HTTP-Method-Override', type);\n                if (beforeSend) return beforeSend.apply(this, arguments);\n            };\n        }\n        // Don't process data on a non-GET request.\n        if (params.type !== 'GET' && !options.emulateJSON) params.processData = false;\n        // Pass along `textStatus` and `errorThrown` from jQuery.\n        var error = options.error;\n        options.error = function(xhr, textStatus, errorThrown) {\n            options.textStatus = textStatus;\n            options.errorThrown = errorThrown;\n            if (error) error.call(options.context, xhr, textStatus, errorThrown);\n        };\n        // Make the request, allowing the user to override any Ajax options.\n        var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n        model.trigger('request', model, xhr, options);\n        return xhr;\n    };\n    // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n    var methodMap = {\n        'create': 'POST',\n        'update': 'PUT',\n        'patch': 'PATCH',\n        'delete': 'DELETE',\n        'read': 'GET'\n    };\n    // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n    // Override this if you'd like to use a different library.\n    Backbone.ajax = function() {\n        return Backbone.$.ajax.apply(Backbone.$, arguments);\n    };\n    // Backbone.Router\n    // ---------------\n    // Routers map faux-URLs to actions, and fire events when routes are\n    // matched. Creating a new one sets its `routes` hash, if not set statically.\n    var Router = Backbone.Router = function(options) {\n        options || (options = {});\n        this.preinitialize.apply(this, arguments);\n        if (options.routes) this.routes = options.routes;\n        this._bindRoutes();\n        this.initialize.apply(this, arguments);\n    };\n    // Cached regular expressions for matching named param parts and splatted\n    // parts of route strings.\n    var optionalParam = /\\((.*?)\\)/g;\n    var namedParam = /(\\(\\?)?:\\w+/g;\n    var splatParam = /\\*\\w+/g;\n    var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n    // Set up all inheritable **Backbone.Router** properties and methods.\n    _.extend(Router.prototype, Events, {\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the Router.\n        preinitialize: function() {},\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function() {},\n        // Manually bind a single named route to a callback. For example:\n        //\n        //     this.route('search/:query/p:num', 'search', function(query, num) {\n        //       ...\n        //     });\n        //\n        route: function(route, name, callback) {\n            if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n            if (_.isFunction(name)) {\n                callback = name;\n                name = '';\n            }\n            if (!callback) callback = this[name];\n            var router = this;\n            Backbone.history.route(route, function(fragment) {\n                var args = router._extractParameters(route, fragment);\n                if (router.execute(callback, args, name) !== false) {\n                    router.trigger.apply(router, [\n                        'route:' + name\n                    ].concat(args));\n                    router.trigger('route', name, args);\n                    Backbone.history.trigger('route', router, name, args);\n                }\n            });\n            return this;\n        },\n        // Execute a route handler with the provided parameters.  This is an\n        // excellent place to do pre-route setup or post-route cleanup.\n        execute: function(callback, args, name) {\n            if (callback) callback.apply(this, args);\n        },\n        // Simple proxy to `Backbone.history` to save a fragment into the history.\n        navigate: function(fragment, options) {\n            Backbone.history.navigate(fragment, options);\n            return this;\n        },\n        // Bind all defined routes to `Backbone.history`. We have to reverse the\n        // order of the routes here to support behavior where the most general\n        // routes can be defined at the bottom of the route map.\n        _bindRoutes: function() {\n            if (!this.routes) return;\n            this.routes = _.result(this, 'routes');\n            var route, routes = _.keys(this.routes);\n            while((route = routes.pop()) != null)this.route(route, this.routes[route]);\n        },\n        // Convert a route string into a regular expression, suitable for matching\n        // against the current location hash.\n        _routeToRegExp: function(route) {\n            route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function(match, optional) {\n                return optional ? match : '([^/?]+)';\n            }).replace(splatParam, '([^?]*?)');\n            return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n        },\n        // Given a route, and a URL fragment that it matches, return the array of\n        // extracted decoded parameters. Empty or unmatched parameters will be\n        // treated as `null` to normalize cross-browser behavior.\n        _extractParameters: function(route, fragment) {\n            var params = route.exec(fragment).slice(1);\n            return _.map(params, function(param, i) {\n                // Don't decode the search params.\n                if (i === params.length - 1) return param || null;\n                return param ? decodeURIComponent(param) : null;\n            });\n        }\n    });\n    // Backbone.History\n    // ----------------\n    // Handles cross-browser history management, based on either\n    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n    // and URL fragments. If the browser supports neither (old IE, natch),\n    // falls back to polling.\n    var History = Backbone.History = function() {\n        this.handlers = [];\n        this.checkUrl = this.checkUrl.bind(this);\n        // Ensure that `History` can be used outside of the browser.\n        if (typeof window !== 'undefined') {\n            this.location = window.location;\n            this.history = window.history;\n        }\n    };\n    // Cached regex for stripping a leading hash/slash and trailing space.\n    var routeStripper = /^[#\\/]|\\s+$/g;\n    // Cached regex for stripping leading and trailing slashes.\n    var rootStripper = /^\\/+|\\/+$/g;\n    // Cached regex for stripping urls of hash.\n    var pathStripper = /#.*$/;\n    // Has the history handling already been started?\n    History.started = false;\n    // Set up all inheritable **Backbone.History** properties and methods.\n    _.extend(History.prototype, Events, {\n        // The default interval to poll for hash changes, if necessary, is\n        // twenty times a second.\n        interval: 50,\n        // Are we at the app root?\n        atRoot: function() {\n            var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n            return path === this.root && !this.getSearch();\n        },\n        // Does the pathname match the root?\n        matchRoot: function() {\n            var path = this.decodeFragment(this.location.pathname);\n            var rootPath = path.slice(0, this.root.length - 1) + '/';\n            return rootPath === this.root;\n        },\n        // Unicode characters in `location.pathname` are percent encoded so they're\n        // decoded for comparison. `%25` should not be decoded since it may be part\n        // of an encoded parameter.\n        decodeFragment: function(fragment) {\n            return decodeURI(fragment.replace(/%25/g, '%2525'));\n        },\n        // In IE6, the hash fragment and search params are incorrect if the\n        // fragment contains `?`.\n        getSearch: function() {\n            var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n            return match ? match[0] : '';\n        },\n        // Gets the true hash value. Cannot use location.hash directly due to bug\n        // in Firefox where location.hash will always be decoded.\n        getHash: function(window1) {\n            var match = (window1 || this).location.href.match(/#(.*)$/);\n            return match ? match[1] : '';\n        },\n        // Get the pathname and search params, without the root.\n        getPath: function() {\n            var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);\n            return path.charAt(0) === '/' ? path.slice(1) : path;\n        },\n        // Get the cross-browser normalized URL fragment from the path or hash.\n        getFragment: function(fragment) {\n            if (fragment == null) {\n                if (this._usePushState || !this._wantsHashChange) fragment = this.getPath();\n                else fragment = this.getHash();\n            }\n            return fragment.replace(routeStripper, '');\n        },\n        // Start the hash change handling, returning `true` if the current URL matches\n        // an existing route, and `false` otherwise.\n        start: function(options) {\n            if (History.started) throw new Error('Backbone.history has already been started');\n            History.started = true;\n            // Figure out the initial configuration. Do we need an iframe?\n            // Is pushState desired ... is it available?\n            this.options = _.extend({\n                root: '/'\n            }, this.options, options);\n            this.root = this.options.root;\n            this._trailingSlash = this.options.trailingSlash;\n            this._wantsHashChange = this.options.hashChange !== false;\n            this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n            this._useHashChange = this._wantsHashChange && this._hasHashChange;\n            this._wantsPushState = !!this.options.pushState;\n            this._hasPushState = !!(this.history && this.history.pushState);\n            this._usePushState = this._wantsPushState && this._hasPushState;\n            this.fragment = this.getFragment();\n            // Normalize root to always include a leading and trailing slash.\n            this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n            // Transition from hashChange to pushState or vice versa if both are\n            // requested.\n            if (this._wantsHashChange && this._wantsPushState) {\n                // If we've started off with a route from a `pushState`-enabled\n                // browser, but we're currently in a browser that doesn't support it...\n                if (!this._hasPushState && !this.atRoot()) {\n                    var rootPath = this.root.slice(0, -1) || '/';\n                    this.location.replace(rootPath + '#' + this.getPath());\n                    // Return immediately as browser will do redirect to new url\n                    return true;\n                // Or if we've started out with a hash-based route, but we're currently\n                // in a browser where it could be `pushState`-based instead...\n                } else if (this._hasPushState && this.atRoot()) this.navigate(this.getHash(), {\n                    replace: true\n                });\n            }\n            // Proxy an iframe to handle location events if the browser doesn't\n            // support the `hashchange` event, HTML5 history, or the user wants\n            // `hashChange` but not `pushState`.\n            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n                this.iframe = document.createElement('iframe');\n                this.iframe.src = 'javascript:0';\n                this.iframe.style.display = 'none';\n                this.iframe.tabIndex = -1;\n                var body = document.body;\n                // Using `appendChild` will throw on IE < 9 if the document is not ready.\n                var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n                iWindow.document.open();\n                iWindow.document.close();\n                iWindow.location.hash = '#' + this.fragment;\n            }\n            // Add a cross-platform `addEventListener` shim for older browsers.\n            var addEventListener = window.addEventListener || function(eventName, listener) {\n                return attachEvent('on' + eventName, listener);\n            };\n            // Depending on whether we're using pushState or hashes, and whether\n            // 'onhashchange' is supported, determine how we check the URL state.\n            if (this._usePushState) addEventListener('popstate', this.checkUrl, false);\n            else if (this._useHashChange && !this.iframe) addEventListener('hashchange', this.checkUrl, false);\n            else if (this._wantsHashChange) this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n            if (!this.options.silent) return this.loadUrl();\n        },\n        // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n        // but possibly useful for unit testing Routers.\n        stop: function() {\n            // Add a cross-platform `removeEventListener` shim for older browsers.\n            var removeEventListener = window.removeEventListener || function(eventName, listener) {\n                return detachEvent('on' + eventName, listener);\n            };\n            // Remove window listeners.\n            if (this._usePushState) removeEventListener('popstate', this.checkUrl, false);\n            else if (this._useHashChange && !this.iframe) removeEventListener('hashchange', this.checkUrl, false);\n            // Clean up the iframe if necessary.\n            if (this.iframe) {\n                document.body.removeChild(this.iframe);\n                this.iframe = null;\n            }\n            // Some environments will throw when clearing an undefined interval.\n            if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n            History.started = false;\n        },\n        // Add a route to be tested when the fragment changes. Routes added later\n        // may override previous routes.\n        route: function(route, callback) {\n            this.handlers.unshift({\n                route: route,\n                callback: callback\n            });\n        },\n        // Checks the current URL to see if it has changed, and if it has,\n        // calls `loadUrl`, normalizing across the hidden iframe.\n        checkUrl: function(e) {\n            var current = this.getFragment();\n            // If the user pressed the back button, the iframe's hash will have\n            // changed and we should use that for comparison.\n            if (current === this.fragment && this.iframe) current = this.getHash(this.iframe.contentWindow);\n            if (current === this.fragment) {\n                if (!this.matchRoot()) return this.notfound();\n                return false;\n            }\n            if (this.iframe) this.navigate(current);\n            this.loadUrl();\n        },\n        // Attempt to load the current URL fragment. If a route succeeds with a\n        // match, returns `true`. If no defined routes matches the fragment,\n        // returns `false`.\n        loadUrl: function(fragment) {\n            // If the root doesn't match, no routes can match either.\n            if (!this.matchRoot()) return this.notfound();\n            fragment = this.fragment = this.getFragment(fragment);\n            return _.some(this.handlers, function(handler) {\n                if (handler.route.test(fragment)) {\n                    handler.callback(fragment);\n                    return true;\n                }\n            }) || this.notfound();\n        },\n        // When no route could be matched, this method is called internally to\n        // trigger the `'notfound'` event. It returns `false` so that it can be used\n        // in tail position.\n        notfound: function() {\n            this.trigger('notfound');\n            return false;\n        },\n        // Save a fragment into the hash history, or replace the URL state if the\n        // 'replace' option is passed. You are responsible for properly URL-encoding\n        // the fragment in advance.\n        //\n        // The options object can contain `trigger: true` if you wish to have the\n        // route callback be fired (not usually desirable), or `replace: true`, if\n        // you wish to modify the current URL without adding an entry to the history.\n        navigate: function(fragment, options) {\n            if (!History.started) return false;\n            if (!options || options === true) options = {\n                trigger: !!options\n            };\n            // Normalize the fragment.\n            fragment = this.getFragment(fragment || '');\n            // Strip trailing slash on the root unless _trailingSlash is true\n            var rootPath = this.root;\n            if (!this._trailingSlash && (fragment === '' || fragment.charAt(0) === '?')) rootPath = rootPath.slice(0, -1) || '/';\n            var url = rootPath + fragment;\n            // Strip the fragment of the query and hash for matching.\n            fragment = fragment.replace(pathStripper, '');\n            // Decode for matching.\n            var decodedFragment = this.decodeFragment(fragment);\n            if (this.fragment === decodedFragment) return;\n            this.fragment = decodedFragment;\n            // If pushState is available, we use it to set the fragment as a real URL.\n            if (this._usePushState) this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n            else if (this._wantsHashChange) {\n                this._updateHash(this.location, fragment, options.replace);\n                if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n                    var iWindow = this.iframe.contentWindow;\n                    // Opening and closing the iframe tricks IE7 and earlier to push a\n                    // history entry on hash-tag change.  When replace is true, we don't\n                    // want this.\n                    if (!options.replace) {\n                        iWindow.document.open();\n                        iWindow.document.close();\n                    }\n                    this._updateHash(iWindow.location, fragment, options.replace);\n                }\n            // If you've told us that you explicitly don't want fallback hashchange-\n            // based history, then `navigate` becomes a page refresh.\n            } else return this.location.assign(url);\n            if (options.trigger) return this.loadUrl(fragment);\n        },\n        // Update the hash location, either replacing the current entry, or adding\n        // a new one to the browser history.\n        _updateHash: function(location, fragment, replace) {\n            if (replace) {\n                var href = location.href.replace(/(javascript:|#).*$/, '');\n                location.replace(href + '#' + fragment);\n            } else // Some browsers require that `hash` contains a leading #.\n            location.hash = '#' + fragment;\n        }\n    });\n    // Create the default Backbone.history.\n    Backbone.history = new History;\n    // Helpers\n    // -------\n    // Helper function to correctly set up the prototype chain for subclasses.\n    // Similar to `goog.inherits`, but uses a hash of prototype properties and\n    // class properties to be extended.\n    var extend = function(protoProps, staticProps) {\n        var parent = this;\n        var child;\n        // The constructor function for the new subclass is either defined by you\n        // (the \"constructor\" property in your `extend` definition), or defaulted\n        // by us to simply call the parent constructor.\n        if (protoProps && _.has(protoProps, 'constructor')) child = protoProps.constructor;\n        else child = function() {\n            return parent.apply(this, arguments);\n        };\n        // Add static properties to the constructor function, if supplied.\n        _.extend(child, parent, staticProps);\n        // Set the prototype chain to inherit from `parent`, without calling\n        // `parent`'s constructor function and add the prototype properties.\n        child.prototype = _.create(parent.prototype, protoProps);\n        child.prototype.constructor = child;\n        // Set a convenience property in case the parent's prototype is needed\n        // later.\n        child.__super__ = parent.prototype;\n        return child;\n    };\n    // Set up inheritance for the model, collection, router, view and history.\n    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n    // Throw an error when a URL is needed, and none is supplied.\n    var urlError = function() {\n        throw new Error('A \"url\" property or function must be specified');\n    };\n    // Wrap an optional error callback with a fallback error event.\n    var wrapError = function(model, options) {\n        var error = options.error;\n        options.error = function(resp) {\n            if (error) error.call(options.context, model, resp, options);\n            model.trigger('error', model, resp, options);\n        };\n    };\n    // Provide useful information when things go wrong. This method is not meant\n    // to be used directly; it merely provides the necessary introspection for the\n    // external `debugInfo` function.\n    Backbone._debug = function() {\n        return {\n            root: root,\n            _: _\n        };\n    };\n    return Backbone;\n});\n\n});\n\n\n\n//# sourceMappingURL=panels.4ba1d06b.js.map\n","/*\n * Panels 0.1\n */\nimport jQuery from 'jquery';\nimport _ from 'underscore';\nimport Backbone from 'backbone';\n\n// Make jQuery, underscore, and Backbone available globally for legacy code\nwindow.jQuery = window.$ = jQuery;\nwindow._ = _;\nwindow.Backbone = Backbone;\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\nif (!Function.prototype.bind) {\n\tvar slice = Array.prototype.slice;\n\tFunction.prototype.bind = function bind(that) {\n\t\tvar target = this;\n\t\tif (typeof target != \"function\") {\n\t\t\tthrow new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n\t\t}\n\t\tvar args = slice.call(arguments, 1); // for normal call\n\t\tvar bound = function () {\n\t\t\tif (this instanceof bound) {\n\t\t\t\tvar F = function(){};\n\t\t\t\tF.prototype = target.prototype;\n\t\t\t\tvar self = new F;\n\t\t\t\tvar result = target.apply(self, args.concat(slice.call(arguments)));\n\t\t\t\tif (Object(result) === result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\treturn self;\n\t\t\t} else {\n\t\t\t\treturn target.apply(that, args.concat(slice.call(arguments)));\n\t\t\t}\n\t\t};\n\t\treturn bound;\n\t};\n}\n\n(function() {\n\t'use strict';\n\n\tvar root = this;\n\tvar Panels = root.Panels = {};\n\n\tvar $ = jQuery;\n\n\t// we extend Backbone.history a bit\n\tBackbone.history.pause = function() {\n\t\tif (this.paused || !Backbone.History.started) return false;\n\t\tthis.paused = true;\n\t\tBackbone.History.started = false;\n\t\tthis.checkUrlBackup = this.checkUrl;\n\t\tthis.checkUrl = function(){};\n\t\treturn true;\n\t};\n\tBackbone.history.resume = function() {\n\t\tif (!this.paused) return false;\n\t\tthis.checkUrl = this.checkUrlBackup;\n\t\tdelete this.checkUrlBackup;\n\t\tBackbone.History.started = true;\n\t\tdelete this.paused;\n\t\treturn true;\n\t};\n\n\tPanels.App = Backbone.Router.extend({\n\t\tconstructor: function(options) {\n\t\t\tif (!options) options = {};\n\t\t\tif (options.root) this.root = options.root;\n\t\t\tif ((location.search || '').substr(0, 4) === '?_ga' && window.history) {\n\t\t\t\thistory.replaceState(null, null, '/');\n\t\t\t}\n\t\t\tfor (var i in this.states) {\n\t\t\t\tthis.routePanel(i, this.states[i]);\n\t\t\t}\n\t\t\t//this.routePanel('*path', 'Panels.StaticPanel');\n\n\t\t\tvar initialize = this.initialize;\n\t\t\tthis.initialize = function() {};\n\t\t\tBackbone.Router.prototype.constructor.apply(this, arguments);\n\n\t\t\t// constructor\n\t\t\tthis.panels = [];\n\t\t\tthis.popups = [];\n\n\t\t\tinitialize.apply(this, arguments);\n\n\t\t\tBackbone.history.start({root: this.root, pushState: true, hashChange: false});\n\t\t\tthis.fragment = Backbone.history.fragment;\n\t\t\t$(window).resize(function(){\n\t\t\t\tthis.resize();\n\t\t\t}.bind(this));\n\t\t},\n\t\troot: '/',\n\t\tfragment: '',\n\t\tstates: {},\n\t\tpanels: null,\n\t\ti: 0, // rightmost visible panel's index\n\t\tj: 0, // leftmost visible panel's index\n\n\t\ttopbarView: null,\n\t\ttopbar: null,\n\t\ttopbarHeight: 0,\n\n\t\tgoLeftWidth: 35,\n\t\tgoRightWidth: 35,\n\t\tgoLeftRightDelay: 300,\n\n\t\tgoLeftWidthOffset: 0,\n\t\tgoRightWidthOffset: 0,\n\n\t\tbackButtonPrefix: '',\n\n\t\t// routing functions\n\n\t\tgo: function(fragment, loc, replace, source, instant) {\n\t\t\tif (fragment && fragment.substr(0,this.root.length) === this.root) {\n\t\t\t\tfragment = fragment.substr(this.root.length);\n\t\t\t}\n\t\t\t// no matter what, if the panel exists, we're going straight to it\n\t\t\tvar i = this.getFragmentIndex(fragment);\n\t\t\tif (i >= 0) {\n\t\t\t\tif (i >= this.j && i <= this.i) {\n\t\t\t\t\tthis.focusPanel(i, instant, true); // already in view; maximize it\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollIntoView(i, instant);\n\t\t\t\t}\n\t\t\t\tthis.updateURL();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof loc !== 'number') {\n\t\t\t\tloc = this.panels.indexOf(loc);\n\t\t\t\tif (loc < 0) {\n\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!replace) {\n\t\t\t\t\tloc++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.goLoc = loc;\n\t\t\tthis.goLocReplace = replace;\n\t\t\tthis.goLocSource = source;\n\t\t\tthis.goInstant = instant;\n\t\t\t//this.navigate(fragment, {trigger: true});\n\n\t\t\tBackbone.history.loadUrl(fragment);\n\t\t},\n\t\tgetPanelIndex: function(panel) {\n\t\t\tfor (var i=this.panels.length-1; i>=0; i--) {\n\t\t\t\tif (this.panels[i] === panel) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\t\tgetFragmentIndex: function(fragment) {\n\t\t\tfor (var i=this.panels.length-1; i>=0; i--) {\n\t\t\t\tif (this.panels[i] && this.panels[i].fragment === fragment) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\t\tslicePanelLeft: function() {\n\t\t\twhile (this.j) {\n\t\t\t\tvar panel = this.panels.shift();\n\t\t\t\tpanel.remove();\n\t\t\t\tthis.j--;\n\t\t\t}\n\t\t\tthis.i = this.j;\n\t\t},\n\t\tnavigatePanel: function(name, fragment, args) {\n\t\t\tif (!this.panels.length) {\n\t\t\t\tthis.initializePanels(name, fragment, args);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar isInternal = ('goLoc' in this);\n\t\t\tvar loc = this.goLoc;\n\t\t\tvar instant = this.goInstant;\n\t\t\tdelete this.goLoc;\n\t\t\tdelete this.goInstant;\n\t\t\tvar i = this.getFragmentIndex(fragment);\n\t\t\tif (i >= 0) {\n\t\t\t\tthis.focusPanel(i, instant);\n\t\t\t\tthis.updateURL(!isInternal);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (loc === undefined) loc = this.panels.length-1;\n\n\t\t\tvar left = false;\n\t\t\tif (loc < 0) {\n\t\t\t\t// insert leftmost\n\t\t\t\tvar $el = $('<div class=\"pfx-panel\"></div>');\n\t\t\t\t$el.insertBefore(this.panels[0].el);\n\t\t\t\tthis.panels.unshift(null);\n\t\t\t\tthis.i++;\n\t\t\t\tloc = 0;\n\t\t\t} else {\n\t\t\t\t// insert at loc\n\t\t\t\tvar $el = $('<div class=\"pfx-panel\"></div>');\n\t\t\t\t$el.insertAfter(this.lastPanel().el);\n\t\t\t\twhile (this.panels.length > loc) {\n\t\t\t\t\tvar panel = this.panels.pop();\n\t\t\t\t\tleft = panel.left;\n\t\t\t\t\tpanel.remove();\n\t\t\t\t}\n\t\t\t\tthis.panels.push(null);\n\t\t\t}\n\t\t\tthis.renderPanel(loc, name, {\n\t\t\t\tel: $el[0],\n\t\t\t\tfragment: fragment,\n\t\t\t\targs: args,\n\t\t\t\tsource: this.goLocSource,\n\t\t\t\tsourcePanel: this.panels[loc-1]\n\t\t\t});\n\t\t\tif (!loc) {\n\t\t\t\tvar leftPanel = this.panels[loc];\n\t\t\t\tvar rightPanel = this.panels[loc+1];\n\t\t\t\tif (rightPanel) leftPanel.whenLoaded(function(){\n\t\t\t\t\tvar source = leftPanel.$('a[href=\"'+this.root+rightPanel.fragment+'\"]');\n\t\t\t\t\t// console.log('sources: a[href=\"'+this.root+rightPanel.fragment+'\"] ('+source.length+')');\n\t\t\t\t\tif (!source.length) source = null;\n\t\t\t\t\trightPanel.setSource(source, leftPanel);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (left !== false) {\n\t\t\t\tif (this.i > loc) this.i = loc;\n\t\t\t\tif (this.i == loc) this.panels[loc].moveTo([left, 'auto', 0], {}, true);\n\t\t\t\tif (left) this.panels[loc].targetLeft = left;\n\t\t\t}\n\t\t\tthis.scrollIntoView(loc, instant);\n\t\t\tthis.updateURL(!isInternal);\n\t\t},\n\t\tupdateURL: function(noPush) {\n\t\t\tvar fragment = this.panels[this.i].fragment;\n\t\t\tif (fragment === this.fragment) return;\n\t\t\tthis.fragment = fragment;\n\t\t\tif (root.ga) {\n\t\t\t\tga('send', 'pageview', Backbone.history.root + fragment);\n\t\t\t}\n\t\t\tif (noPush) return;\n\t\t\t// console.log('URL update: '+fragment);\n\t\t\t// loadUrl updates the fragment, which prevents us from doing actual fragment manipulation\n\t\t\tBackbone.history.fragment = '??forceupdate';\n\t\t\tBackbone.history.navigate(fragment);\n\t\t},\n\t\tslicePanel: function(panel) {\n\t\t\tif (!this.panels.length) {\n\t\t\t\tthis.initializePanels(name, fragment, args);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loc = this.getPanelIndex(panel);\n\t\t\tif (loc < 0) return;\n\n\t\t\tdelete this.goLoc;\n\n\t\t\tif (this.i>loc) this.i = loc;\n\t\t\tif (this.j>loc) this.j = loc;\n\n\t\t\twhile (this.panels.length > loc+1) {\n\t\t\t\tvar panel = this.panels.pop();\n\t\t\t\tpanel.remove();\n\t\t\t}\n\t\t\tthis.scrollIntoView(loc, true);\n\t\t\tthis.updateURL();\n\t\t},\n\t\tsetPanelSource: function() {\n\t\t\tvar source = leftPanel.$('a[href=\"'+this.root+rightPanel.fragment+'\"]');\n\t\t\t// console.log('sources: a[href=\"'+this.root+rightPanel.fragment+'\"] ('+source.length+')');\n\t\t\tif (!source.length) source = null;\n\t\t\trightPanel.setSource(source, leftPanel);\n\t\t},\n\t\tresize: function() {\n\t\t\tthis.calculateLayout();\n\t\t\tthis.commitLayout(true);\n\t\t},\n\t\tfocusPanel: function(index, instant, limit1) {\n\t\t\t// scroll so that panel at index is rightmost\n\t\t\tinstant = !this.calculateLayout(index, limit1) || instant;\n\t\t\tthis.commitLayout(instant);\n\t\t},\n\t\tscrollIntoView: function(index, instant) {\n\t\t\t// scroll so that panel at index is in view\n\t\t\tif (index >= this.i) {\n\t\t\t\tthis.focusPanel(index, instant);\n\t\t\t} else {\n\t\t\t\tvar i = this.i+1;\n\t\t\t\tdo {\n\t\t\t\t\ti--;\n\t\t\t\t\tthis.calculateLayout(i);\n\t\t\t\t} while (this.targetJ > index && i>0);\n\t\t\t\tthis.commitLayout(instant);\n\t\t\t}\n\t\t},\n\t\troutePanel: function(route, name) {\n\t\t\tBackbone.history || (Backbone.history = new Backbone.History);\n\t\t\tif (!_.isRegExp(route)) route = this._routeToRegExp(route);\n\t\t\tBackbone.history.route(route, _.bind(function(fragment) {\n\t\t\t\tthis.midRouting = true;\n\t\t\t\tvar args = this._extractParameters(route, fragment);\n\t\t\t\tthis.navigatePanel.call(this, name, fragment, args);\n\t\t\t\tthis.trigger.apply(this, ['route:' + name].concat(args));\n\t\t\t\tBackbone.history.trigger('route', this, name, args);\n\t\t\t\tthis.midRouting = false;\n\t\t\t}, this));\n\t\t\treturn this;\n\t\t},\n\t\tlastPanel: function() {\n\t\t\treturn this.panels[this.panels.length-1];\n\t\t},\n\t\treloadPanels: function() {\n\t\t\tfor (var i=0,len=this.panels.length; i<len; i++) {\n\t\t\t\tthis.panels[i].reload();\n\t\t\t}\n\t\t},\n\n\t\t// popups\n\n\t\tpopups: null,\n\t\taddPopup: function(type, options) {\n\t\t\tif (!options) options = {};\n\t\t\ttype = this.getPanelType(type);\n\n\t\t\tvar bgElem = $('<div class=\"pfx-popup-bg\"></div>');\n\t\t\tbgElem.insertAfter(this.lastPanel().el);\n\t\t\toptions.bgElem = bgElem;\n\t\t\tbgElem.on('click', this.closePopup.bind(this));\n\n\t\t\tvar elem = $('<div class=\"pfx-popup\"></div>');\n\t\t\telem.insertAfter(bgElem);\n\t\t\toptions.el = elem;\n\n\t\t\tif (options.source) {\n\t\t\t\t// attach to a specific element\n\t\t\t\tvar style = {position: 'absolute'};\n\n\t\t\t\tvar source = $(options.source);\n\t\t\t\tvar sourceOffset = source.offset();\n\t\t\t\tvar sourceY1 = sourceOffset.top;\n\t\t\t\tvar sourceY2 = sourceY1 + source.outerHeight();\n\t\t\t\tvar viewportY1 = $(window).scrollTop();\n\t\t\t\tvar viewportY2 = viewportY1 + $(window).height();\n\t\t\t\tif (sourceY1 - viewportY1 > viewportY2 - sourceY2) {\n\t\t\t\t\t// more room on top\n\t\t\t\t\tstyle.bottom = $(document).height() - sourceY1;\n\t\t\t\t} else {\n\t\t\t\t\tstyle.top = sourceY2;\n\t\t\t\t}\n\t\t\t\tvar sourceX1 = sourceOffset.left;\n\t\t\t\tvar sourceX2 = sourceX1 + source.outerWidth();\n\t\t\t\tvar viewportX1 = $(window).scrollLeft();\n\t\t\t\tvar viewportX2 = viewportX1 + $(window).width();\n\t\t\t\tif (sourceX1 - viewportX1 > viewportX2 - sourceX2) {\n\t\t\t\t\t// more room to the left\n\t\t\t\t\tstyle.right = $(document).width() - sourceX2;\n\t\t\t\t} else {\n\t\t\t\t\tstyle.left = sourceX1;\n\t\t\t\t}\n\n\t\t\t\telem.css(style);\n\t\t\t}\n\n\t\t\toptions.app = this;\n\n\t\t\tthis.popups.push(new type(options));\n\t\t},\n\t\tclosePopup: function() {\n\t\t\tif (!this.popups.length) return;\n\t\t\tvar popup = this.popups.pop();\n\t\t\tpopup.remove();\n\t\t},\n\n\t\t// panel animation\n\n\t\tgetPanelType: function(name) {\n\t\t\tif (typeof name === 'string') {\n\t\t\t\t// var nameSplit = name.split('.');\n\t\t\t\t// name = window;\n\t\t\t\t// for (var i=0, len=nameSplit.length; i<len; i++) {\n\t\t\t\t// \tname = name[nameSplit[i]];\n\t\t\t\t// }\n\t\t\t\treturn eval(name);\n\t\t\t}\n\t\t\treturn name;\n\t\t},\n\t\t/**\n\t\t * Initialize the entire app: Set up all the views.\n\t\t */\n\t\trenderPanel: function(index, panelType, options, first) {\n\t\t\tif (first) {\n\t\t\t\t$(options.el).css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: this.topbarHeight,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\twidth: 'auto',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\t'-webkit-overflow-scrolling': 'touch',\n\t\t\t\t\t'overflow-scrolling': 'touch',\n\t\t\t\t\toverflow: 'auto'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$(options.el).css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: this.topbarHeight,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 'auto',\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\twidth: 'auto',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\t'-webkit-overflow-scrolling': 'touch',\n\t\t\t\t\t'overflow-scrolling': 'touch',\n\t\t\t\t\toverflow: 'auto'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tpanelType = this.getPanelType(panelType);\n\t\t\toptions.app = this;\n\t\t\treturn this.panels[index] = new panelType(options);\n\t\t},\n\t\t/**\n\t\t * Initialize the entire app: Set up all the views.\n\t\t */\n\t\tinitializePanels: function(name, fragment, args) {\n\t\t\t// global\n\t\t\t$('body').css({\n\t\t\t\toverflow: 'hidden'\n\t\t\t});\n\n\t\t\t// topbar\n\t\t\tif (!this.topbarView) this.topbarView = Panels.Topbar;\n\t\t\tthis.topbarView = this.getPanelType(this.topbarView);\n\t\t\tvar topbarElem = $('.pfx-topbar');\n\t\t\tif (topbarElem.length) {\n\t\t\t\ttopbarElem.css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0\n\t\t\t\t});\n\t\t\t\tthis.topbar = new this.topbarView({\n\t\t\t\t\tel: topbarElem[0],\n\t\t\t\t\tapp: this\n\t\t\t\t});\n\t\t\t\tthis.topbarHeight = this.topbar.height;\n\t\t\t}\n\n\t\t\tvar $panels = $('.pfx-panel');\n\t\t\tthis.panels = new Array($panels.length);\n\t\t\tvar first = true;\n\t\t\t// iterate right-to-left\n\t\t\tfor (var i=$panels.length-1; i>=0; i--) {\n\t\t\t\tvar el = $panels[i];\n\t\t\t\tvar panel = this.renderPanel(i, name, {\n\t\t\t\t\tel: el,\n\t\t\t\t\tfragment: fragment,\n\t\t\t\t\targs: args,\n\t\t\t\t\tloaded: true\n\t\t\t\t}, first);\n\t\t\t\tif (i) {\n\t\t\t\t\tname = panel.parentName;\n\t\t\t\t\tfragment = panel.parentFragment;\n\t\t\t\t\targs = panel.parentArgs;\n\t\t\t\t}\n\t\t\t\tfirst = false;\n\t\t\t}\n\t\t\tthis.i = this.panels.length-1;\n\t\t\tthis.calculateLayout(this.i);\n\t\t\tthis.commitLayout(true);\n\t\t},\n\t\tcalculateLayout: function(loc, limit1) {\n\t\t\tif (loc === undefined) loc = this.i;\n\t\t\tthis.targetI = loc;\n\t\t\tvar panels = this.panels;\n\t\t\tvar maxWidth = $('body').width();\n\t\t\tvar curWidth = 0;\n\t\t\tvar curBuffer = 0;\n\t\t\tvar numPanels = 0;\n\t\t\tvar hasSidebar = false;\n\t\t\tvar left = 0;\n\t\t\tvar layoutChanged = !!(this.i !== loc);\n\n\t\t\tthis.targetWidth = maxWidth;\n\t\t\tvar goRightWidth = (this.goRightWidth || 0);\n\t\t\tvar goLeftWidth = (this.goLeftWidth || 0);\n\t\t\tif (loc >= this.panels.length-1) goRightWidth = 0;\n\t\t\tmaxWidth -= goRightWidth;\n\n\t\t\t// find out how many panels there are\n\t\t\tdo {\n\t\t\t\tvar width = panels[loc].minWidth;\n\t\t\t\tvar buffer = panels[loc].maxWidth - width;\n\t\t\t\tif (numPanels && curWidth + width > maxWidth - (loc?goLeftWidth:0)) break;\n\n\t\t\t\tcurWidth += width;\n\t\t\t\tcurBuffer += buffer;\n\t\t\t\tnumPanels++;\n\t\t\t\tloc--;\n\t\t\t} while (!limit1 && panels[loc]);\n\t\t\tif (!limit1 && numPanels <= 1 && panels[loc] && panels[loc].sidebarWidth) {\n\t\t\t\t// no room for more than one full panel, but maybe a sidebar will fit\n\t\t\t\tif (curWidth + panels[loc].sidebarWidth <= maxWidth - (loc?goLeftWidth:0)) {\n\t\t\t\t\tvar targetWidth = panels[loc].sidebarWidth+curBuffer;\n\t\t\t\t\tif (panels[loc].targetWidth !== undefined && panels[loc].targetWidth !== targetWidth) {\n\t\t\t\t\t\tlayoutChanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tpanels[loc].targetWidth = targetWidth;\n\t\t\t\t\tcurWidth += targetWidth;\n\t\t\t\t\tcurBuffer = 0;\n\t\t\t\t\tnumPanels++;\n\t\t\t\t\tloc--;\n\t\t\t\t\thasSidebar = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.targetJ = loc+1;\n\n\t\t\tif (loc+1 <= 0) goLeftWidth = 0;\n\t\t\tif (loc+1 == this.targetI) {\n\t\t\t\tmaxWidth += goRightWidth;\n\t\t\t\tgoRightWidth = 0;\n\t\t\t\tgoLeftWidth = 0;\n\t\t\t}\n\t\t\tmaxWidth -= goLeftWidth;\n\n\t\t\t// calculate our buffer ratio\n\t\t\tvar maxBuffer = maxWidth - curWidth;\n\t\t\tif (maxBuffer > curBuffer) {\n\t\t\t\tleft = Math.floor((maxBuffer - curBuffer)/2);\n\t\t\t\tmaxBuffer = curBuffer;\n\t\t\t}\n\t\t\tvar bufferRatio = (curBuffer ? maxBuffer/curBuffer : 1);\n\n\t\t\t// calculate gaps\n\t\t\tthis.targetRightGap = goRightWidth?left+goRightWidth:0;\n\t\t\tthis.targetLeftGap = goLeftWidth?left+goLeftWidth:0;\n\t\t\tleft += goLeftWidth;\n\n\t\t\t// populate panel layout\n\t\t\t// visible panels\n\t\t\tfor (var i=loc+1,max=this.targetI; i<=max; i++) {\n\t\t\t\tvar panel = panels[i];\n\t\t\t\tif (panel.targetLeft !== undefined && panel.targetLeft !== left) {\n\t\t\t\t\tlayoutChanged = true;\n\t\t\t\t}\n\t\t\t\tpanel.targetLeft = left;\n\t\t\t\tif (hasSidebar && i == loc+1) {\n\t\t\t\t\t// targetWidth already set earlier\n\t\t\t\t} else {\n\t\t\t\t\tvar targetWidth = Math.floor(panel.minWidth + bufferRatio * (panel.maxWidth - panel.minWidth));\n\t\t\t\t\tif (panel.targetWidth !== undefined && panel.targetWidth !== targetWidth) {\n\t\t\t\t\t\tlayoutChanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tpanel.targetWidth = targetWidth;\n\t\t\t\t}\n\t\t\t\tleft += panel.targetWidth;\n\t\t\t}\n\t\t\treturn layoutChanged;\n\t\t},\n\t\tgetDestLoc: function(panel, i) {\n\t\t\tif (typeof panel === 'number') {\n\t\t\t\ti = panel;\n\t\t\t\tpanel = this.panels[i];\n\t\t\t}\n\t\t\tvar left = panel.targetLeft;\n\t\t\tvar width = panel.targetWidth;\n\t\t\tvar right = 'auto';\n\t\t\tif (i == this.targetJ) {\n\t\t\t\twidth += left - this.targetLeftGap;\n\t\t\t\tleft = this.targetLeftGap;\n\t\t\t}\n\t\t\tif (i == this.targetI) {\n\t\t\t\tright = this.targetRightGap;\n\t\t\t\twidth = 'auto';\n\t\t\t}\n\t\t\treturn [left, width, right];\n\t\t},\n\t\tgetPanelWidth: function(panel) {\n\t\t\tif (panel.width === 'auto') return this.targetWidth - panel.left - panel.right;\n\t\t\treturn panel.width;\n\t\t},\n\t\tcommitLayout: function(instant) {\n\t\t\tvar goingBack = (this.targetI < this.i) || (this.targetI === this.i && this.targetJ < this.j);\n\t\t\tif (goingBack) {\n\t\t\t\t// <--\n\t\t\t\tvar totalWidth = this.targetWidth-this.targetRightGap;\n\t\t\t\tfor (var i=Math.max(this.j, this.targetI+1), end=this.i; i<=end; i++) {\n\t\t\t\t\t//console.log('going right offscreen: '+i);\n\t\t\t\t\tthis.panels[i].moveTo([totalWidth, this.getPanelWidth(this.panels[i]), 'auto'], {\n\t\t\t\t\t\thide: true\n\t\t\t\t\t}, instant);\n\t\t\t\t\ttotalWidth += this.getPanelWidth(this.panels[i]);\n\t\t\t\t}\n\t\t\t\tfor (var i=this.targetI, end=this.j; i>=end; i--) {\n\t\t\t\t\t//console.log('moving right: '+i);\n\t\t\t\t\tthis.panels[i].moveTo(this.getDestLoc(i), {\n\t\t\t\t\t\tleftmost: this.targetJ == i,\n\t\t\t\t\t\trightmost: this.targetI == i,\n\t\t\t\t\t\ttime: this.goLeftRightDelay\n\t\t\t\t\t}, instant);\n\t\t\t\t}\n\t\t\t\ttotalWidth = this.targetLeftGap;\n\t\t\t\tfor (var i=Math.min(this.j-1, this.targetI), end=this.targetJ; i>=end; i--) {\n\t\t\t\t\t//console.log('coming from left: '+i);\n\t\t\t\t\ttotalWidth -= this.panels[i].targetWidth;\n\t\t\t\t\tthis.panels[i].moveTo(this.getDestLoc(i), {\n\t\t\t\t\t\tleftmost: this.targetJ == i,\n\t\t\t\t\t\trightmost: this.targetI == i,\n\t\t\t\t\t\tstartingOffset: totalWidth - this.panels[i].targetLeft,\n\t\t\t\t\t\ttime: this.goLeftRightDelay\n\t\t\t\t\t}, instant);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// -->\n\t\t\t\tvar totalWidth = -this.targetLeftGap;\n\t\t\t\tfor (var i=Math.min(this.i, this.targetJ-1), end=this.j; i>=end; i--) {\n\t\t\t\t\t//console.log('going left offscreen: '+i);\n\t\t\t\t\ttotalWidth += this.getPanelWidth(this.panels[i]);\n\t\t\t\t\tthis.panels[i].moveTo([-totalWidth, this.getPanelWidth(this.panels[i]), 'auto'], {\n\t\t\t\t\t\thide: true\n\t\t\t\t\t}, instant);\n\t\t\t\t}\n\t\t\t\tfor (var i=this.targetJ, end=this.i; i<=end; i++) {\n\t\t\t\t\t//console.log('moving left: '+i);\n\t\t\t\t\tthis.panels[i].moveTo(this.getDestLoc(i), {\n\t\t\t\t\t\tleftmost: this.targetJ == i,\n\t\t\t\t\t\trightmost: this.targetI == i,\n\t\t\t\t\t\ttime: this.goLeftRightDelay\n\t\t\t\t\t}, instant);\n\t\t\t\t}\n\t\t\t\ttotalWidth = this.targetWidth-this.targetRightGap;\n\t\t\t\tfor (var i=Math.max(this.i+1, this.targetJ), end=this.targetI; i<=end; i++) {\n\t\t\t\t\t//console.log('coming from right: '+i);\n\t\t\t\t\tthis.panels[i].moveTo(this.getDestLoc(i), {\n\t\t\t\t\t\tleftmost: this.targetJ == i,\n\t\t\t\t\t\trightmost: this.targetI == i,\n\t\t\t\t\t\tstartingOffset: totalWidth - this.panels[i].targetLeft,\n\t\t\t\t\t\ttime: this.goLeftRightDelay\n\t\t\t\t\t}, instant);\n\t\t\t\t\ttotalWidth += this.panels[i].targetWidth;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.i = this.targetI;\n\t\t\tthis.j = this.targetJ;\n\n\t\t\tif (this.goLeftRightElem) {\n\t\t\t\tthis.goLeftRightElem.html('');\n\t\t\t} else {\n\t\t\t\tthis.goLeftRightElem = $('<div></div>');\n\t\t\t\tthis.goLeftRightElem.insertAfter(this.lastPanel().el);\n\t\t\t\tthis.goLeftRightElem.on('click', 'a', function(e){\n\t\t\t\t\te.preventDefault(); e.stopPropagation();\n\t\t\t\t\tthis.go($(e.currentTarget).attr('href'));\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t\tvar buffer = '';\n\t\t\tif (this.targetLeftGap) {\n\t\t\t\tbuffer += '<a class=\"pfx-go-left\" style=\"width:'+(this.targetLeftGap+this.goLeftWidthOffset)+'px\" href=\"'+this.root+this.panels[this.j-1].fragment+'\"></a>';\n\t\t\t}\n\t\t\tif (this.targetRightGap) {\n\t\t\t\tbuffer += '<a class=\"pfx-go-right\" style=\"width:'+(this.targetRightGap+this.goRightWidthOffset)+'px\" href=\"'+this.root+this.panels[this.i+1].fragment+'\"></a>';\n\t\t\t}\n\t\t\tif (buffer) {\n\t\t\t\tif (instant) {\n\t\t\t\t\tthis.goLeftRightElem.html(buffer);\n\t\t\t\t\tthis.goLeftRightElem.show();\n\t\t\t\t} else {\n\t\t\t\t\tthis.goLeftRightElem.hide();\n\t\t\t\t\tthis.goLeftRightElem.html(buffer);\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tthis.goLeftRightElem.show();\n\t\t\t\t\t}.bind(this), this.goLeftRightDelay);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// TODO: all other panel animation\n\t});\n\n\tvar View = Panels.View = Backbone.View;\n\n\tvar Panel = Panels.Panel = View.extend({\n\t\tconstructor: function(options) {\n\t\t\tif (!options) options = {};\n\t\t\tthis.app = options.app;\n\t\t\tif (!this.events) this.events = {};\n\t\t\tif (!this.events['click a, button']) this.events['click a, button'] = 'handleNavigation';\n\t\t\tif (!this.events['submit form']) this.events['submit form'] = 'handleNavigation';\n\t\t\tif (options.source) this.source = $(options.source);\n\t\t\tif (options.sourcePanel) this.sourcePanel = options.sourcePanel;\n\t\t\tif (options.bgElem) this.bgElem = options.bgElem;\n\t\t\tthis.loaded = !!options.loaded;\n\t\t\tthis.fragment = options.fragment;\n\t\t\tvar args = options.args;\n\n\t\t\tdelete options.app;\n\t\t\tdelete options.loaded;\n\t\t\tdelete options.source;\n\t\t\tdelete options.bgElem;\n\t\t\tdelete options.fragment;\n\t\t\tdelete options.args;\n\n\t\t\tvar initialize = this.initialize;\n\t\t\tthis.initialize = function() {};\n\t\t\tView.prototype.constructor.call(this, options);\n\n\t\t\t// constructor\n\t\t\tif (this.source) {\n\t\t\t\tthis.source.addClass('cur');\n\t\t\t\tif (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = true;\n\t\t\t}\n\n\t\t\tinitialize.apply(this, args);\n\n\t\t\tif (!this.loaded) this.load();\n\t\t\telse this.whenLoadedQueueFlush();\n\t\t\tthis.updateBackButton();\n\t\t\tthis.updateContent();\n\t\t},\n\t\tsource: null,\n\t\tminWidth: 480,\n\t\tmaxWidth: 720,\n\t\tleftOffset: 0,\n\t\twidthOffset: 0,\n\t\trightOffset: 0,\n\t\tfragment: '',\n\t\thidden: false,\n\t\tsetFragment: function(fragment) {\n\t\t\tthis.fragment = fragment;\n\t\t\tthis.app.updateURL();\n\t\t},\n\t\tmoveTo: function(loc, flags, instant) {\n\t\t\tvar left = loc[0];\n\t\t\tvar width = loc[1];\n\t\t\tvar right = loc[2];\n\t\t\tif (!flags) flags = {};\n\n\t\t\tif (flags.leftmost) {\n\t\t\t\tthis.$('.pfx-backbutton').show();\n\t\t\t} else {\n\t\t\t\tthis.$('.pfx-backbutton').hide();\n\t\t\t}\n\n\t\t\tthis.leftmost = flags.leftmost;\n\t\t\tthis.rightmost = flags.rightmost;\n\t\t\tthis.hidden = !!flags.hide;\n\t\t\tvar oldLeft = this.left;\n\t\t\tvar oldWidth = this.width;\n\t\t\tvar oldRight = this.right;\n\t\t\tthis.left = left;\n\t\t\tthis.width = width;\n\t\t\tthis.right = right;\n\n\t\t\tif (left !== 'auto') left += this.leftOffset;\n\t\t\tif (width !== 'auto') width += this.widthOffset;\n\t\t\tif (right !== 'auto') right += this.rightOffset;\n\n\t\t\tif (instant) {\n\t\t\t\tthis.$el.css({\n\t\t\t\t\tdisplay: flags.hide?'none':'block',\n\t\t\t\t\tleft: left,\n\t\t\t\t\twidth: width,\n\t\t\t\t\tright: right\n\t\t\t\t});\n\t\t\t\tthis.$('.pfx-body').css({\n\t\t\t\t\t'margin-left': this.left?0:'auto',\n\t\t\t\t\t'margin-right': this.right?0:'auto',\n\t\t\t\t\t'max-width': this.maxWidth\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.show();\n\t\t\t\tif (left === 'auto') this.$el.css('left', 'auto');\n\t\t\t\tif (width === 'auto') this.$el.css('width', 'auto');\n\t\t\t\tif (right === 'auto') this.$el.css('right', 'auto');\n\t\t\t\tif (flags.startingOffset !== undefined) {\n\t\t\t\t\tthis.$el.css({\n\t\t\t\t\t\tleft: (left === 'auto' ? left : left + flags.startingOffset),\n\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\tright: (right === 'auto' ? right : right - flags.startingOffset)\n\t\t\t\t\t});\n\t\t\t\t} else if (width !== 'auto' && oldWidth === 'auto') {\n\t\t\t\t\tthis.$el.css('width', $('body').width()-oldLeft-oldRight+this.widthOffset);\n\t\t\t\t} else if (right !== 'auto' && oldRight === 'auto') {\n\t\t\t\t\tthis.$el.css('right', $('body').width()-oldLeft-oldWidth+this.rightOffset);\n\t\t\t\t}\n\t\t\t\tthis.$el.transition({\n\t\t\t\t\tleft: left,\n\t\t\t\t\twidth: width,\n\t\t\t\t\tright: right\n\t\t\t\t}, flags.time||300, function() {\n\t\t\t\t\tif (flags.hide) $(this).css('display', 'none');\n\t\t\t\t});\n\n\t\t\t\t// left/right padding\n\t\t\t\tvar elWidth = this.$el.width();\n\t\t\t\tvar marginLeft = elWidth - this.maxWidth;\n\t\t\t\tif (marginLeft < 0 || (oldLeft && !oldRight)) {\n\t\t\t\t\tmarginLeft = 0;\n\t\t\t\t} else if (!(!oldLeft && oldRight)) {\n\t\t\t\t\tmarginLeft = Math.floor(marginLeft/2);\n\t\t\t\t}\n\t\t\t\tvar marginRight = elWidth - this.maxWidth;\n\t\t\t\tif (marginRight < 0 || (!oldLeft && oldRight)) {\n\t\t\t\t\tmarginRight = 0;\n\t\t\t\t} else if (!(oldLeft && !oldRight)) {\n\t\t\t\t\tmarginRight = Math.floor(marginRight/2);\n\t\t\t\t}\n\t\t\t\tif (marginLeft && marginRight && this.left && this.right) {\n\t\t\t\t\tmarginLeft = 0, marginRight = 0;\n\t\t\t\t}\n\t\t\t\tvar $panelBody = this.$('.pfx-body');\n\t\t\t\t$panelBody.css({\n\t\t\t\t\t'margin-left': this.left?marginLeft:'auto',\n\t\t\t\t\t'margin-right': this.right?marginRight:'auto',\n\t\t\t\t\t'max-width': this.maxWidth\n\t\t\t\t});\n\t\t\t\tif (this.left && marginLeft) {\n\t\t\t\t\t$panelBody.transition({\n\t\t\t\t\t\t'margin-left': 0\n\t\t\t\t\t}, flags.time||300);\n\t\t\t\t}\n\t\t\t\tif (this.right && marginRight) {\n\t\t\t\t\t$panelBody.transition({\n\t\t\t\t\t\t'margin-right': 0\n\t\t\t\t\t}, flags.time||300);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thtml: function(content) {\n\t\t\tvar panelIndex = content.indexOf('<div class=\"pfx-panel\">');\n\t\t\tif (panelIndex >= 0) {\n\t\t\t\tcontent = content.substr(panelIndex+23);\n\t\t\t\tcontent = content.substr(0, content.lastIndexOf('</div>'));\n\t\t\t}\n\n\t\t\tthis.$el.html(content);\n\t\t\tif (this.source && this.isPopup) {\n\t\t\t\tthis.$('.pfx-title').remove();\n\t\t\t} else if (this.leftmost) {\n\t\t\t\tthis.$('.pfx-backbutton').show();\n\t\t\t} else {\n\t\t\t\tthis.$('.pfx-backbutton').hide();\n\t\t\t}\n\t\t\tthis.$('.pfx-body').css({\n\t\t\t\t'margin-left': this.left?0:'auto',\n\t\t\t\t'margin-right': this.right?0:'auto',\n\t\t\t\t'max-width': this.maxWidth\n\t\t\t});\n\t\t\tthis.updateBackButton();\n\t\t\tthis.updateContent();\n\t\t},\n\t\tupdateBackButton: function() {\n\t\t\tif (this.sourcePanel) {\n\t\t\t\tif (this.sourcePanel.shortTitle) {\n\t\t\t\t\tthis.$('.pfx-backbutton').html(this.app.backButtonPrefix+this.sourcePanel.shortTitle.replace(/</g, '&lt;'));\n\t\t\t\t}\n\t\t\t\tthis.$('.pfx-backbutton').attr('href', this.app.root+this.sourcePanel.fragment);\n\t\t\t}\n\t\t},\n\t\tupdateContent: function() {},\n\t\tshow: function() {\n\t\t\tthis.hidden = false;\n\t\t\tthis.load();\n\t\t\tthis.$el.css('display', 'block');\n\t\t},\n\t\thide: function() {\n\t\t\tthis.hidden = true;\n\t\t\tthis.$el.css('display', 'none');\n\t\t},\n\t\tload: function() {\n\t\t\t// placeholder loader: does nothing\n\t\t\tthis.loaded = true;\n\t\t\tthis.whenLoadedQueueFlush();\n\t\t},\n\t\twhenLoadedQueue: null,\n\t\twhenLoaded: function(callback) {\n\t\t\tif (this.loaded === true) {\n\t\t\t\tcallback.call(this);\n\t\t\t} else {\n\t\t\t\tif (!this.whenLoadedQueue) this.whenLoadedQueue = [];\n\t\t\t\tthis.whenLoadedQueue.push(callback);\n\t\t\t}\n\t\t},\n\t\twhenLoadedQueueFlush: function() {\n\t\t\tif (this.loaded !== true || !this.whenLoadedQueue) return;\n\t\t\tfor (var i=0; i<this.whenLoadedQueue.length; i++) {\n\t\t\t\tthis.whenLoadedQueue[i].call(this);\n\t\t\t}\n\t\t\tthis.whenLoadedQueue = null;\n\t\t},\n\t\treload: function() {\n\t\t\tthis.loaded = false;\n\t\t\tif (!this.hidden) this.load();\n\t\t},\n\t\thandleNavigation: function(e) {\n\t\t\tif (e.cmdKey || e.metaKey || e.ctrlKey) return;\n\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar linkTarget = target.data('target');\n\t\t\tvar linkAction = target.data('action');\n\t\t\tvar linkHref = target.data('href') || target.attr('href') || target.attr('action');\n\t\t\tvar formMethod = '';\n\t\t\tif (target[0].tagName.toUpperCase() === 'FORM') {\n\t\t\t\tformMethod = 'GET';\n\t\t\t\tif ((target.attr('method')||'').toUpperCase() === 'POST') formMethod = 'POST';\n\t\t\t\ttarget.find('button[type=submit]').attr('disabled', 'disabled').text('Loading...');\n\t\t\t}\n\t\t\t// TODO: finish\n\t\t\tif (linkAction) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tthis[linkAction].call(this, e);\n\t\t\t} else if (linkTarget === 'replace' && formMethod) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tvar data = target.serialize();\n\t\t\t\tthis.ajax(linkHref, data, formMethod);\n\t\t\t} else if (linkTarget) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tswitch (linkTarget) {\n\t\t\t\tcase 'back':\n\t\t\t\t\tthis.app.go(linkHref, -1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'push':\n\t\t\t\t\tthis.app.go(linkHref, this, false, target);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'replace':\n\t\t\t\t\tthis.app.go(linkHref, this, true);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpost: function(target, data) {\n\t\t\treturn this.ajax(target, data, 'POST');\n\t\t},\n\t\tget: function(target, data) {\n\t\t\treturn this.ajax(target, data);\n\t\t},\n\t\tajax: function(target, data, method) {\n\t\t\tif (!target) target = this.app.root+this.fragment;\n\t\t\treturn $.ajax(target+'?output=html', {\n\t\t\t\ttype: method || GET,\n\t\t\t\tdataType: 'text',\n\t\t\t\tdata: data\n\t\t\t}).done(function(response){\n\t\t\t\tthis.html(response);\n\t\t\t}.bind(this));\n\t\t},\n\t\tsetSource: function(newSource, newSourcePanel) {\n\t\t\tif (this.source) {\n\t\t\t\tthis.source.removeClass('cur');\n\t\t\t\tif (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = false;\n\t\t\t}\n\t\t\tthis.source = newSource;\n\t\t\tthis.sourcePanel = newSourcePanel;\n\t\t\tif (this.source) {\n\t\t\t\tthis.source.addClass('cur');\n\t\t\t\tif (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = true;\n\t\t\t}\n\t\t},\n\t\tremove: function() {\n\t\t\tBackbone.View.prototype.remove.apply(this, arguments);\n\t\t\tif (this.source) {\n\t\t\t\tthis.source.removeClass('cur');\n\t\t\t\tif (this.source[0].tagName.toUpperCase() === 'BUTTON') this.source[0].disabled = false;\n\t\t\t}\n\t\t\tdelete this.sourcePanel;\n\t\t\tif (this.bgElem) {\n\t\t\t\tthis.bgElem.remove();\n\t\t\t}\n\t\t\tthis.app = null; // remove possible circular references for GC\n\t\t},\n\t\tclose: function() {},\n\t\turl: ''\n\t});\n\n\tPanels.Popup = Panel.extend({\n\t\tisPopup: true,\n\t\tclose: function() {\n\t\t\tthis.app.closePopup();\n\t\t}\n\t});\n\n\tPanels.Topbar = View.extend({\n\t\tconstructor: function(options) {\n\t\t\t// init 1\n\n\t\t\tvar initialize = this.initialize;\n\t\t\tthis.initialize = function() {};\n\t\t\tView.prototype.constructor.call(this, {el: options.el});\n\t\t\tthis.app = options.app;\n\n\t\t\t// init 2\n\t\t\tif (!this.height) this.height = this.$el.height();\n\n\t\t\tinitialize.apply(this);\n\t\t},\n\t\tapp: null,\n\t\theight: 0\n\t});\n\n\tPanels.StaticPanel = Panel.extend({\n\t\tconstructor: function() {\n\t\t\tPanel.prototype.constructor.apply(this, arguments);\n\t\t},\n\t\tload: function() {\n\t\t\tif (this.loaded) return;\n\t\t\tthis.loaded = 'loading';\n\t\t\tthis.$el.prepend('<p class=\"pfx-loading\"><em>Loading...</em></p>');\n\t\t\t$.get(this.app.root+this.fragment+(this.fragment.indexOf('?')>=0?'&':'?')+'output=html').done(function(content) {\n\t\t\t\tthis.html(content);\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.whenLoadedQueueFlush();\n\t\t\t}.bind(this));\n\t\t}\n\t\t// TODO\n\t});\n\n}).call(window);\n\n/*!\n * jQuery Transit - CSS3 transitions and transformations\n * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>\n * MIT Licensed.\n *\n * http://ricostacruz.com/jquery.transit\n * http://github.com/rstacruz/jquery.transit\n */\n(function(k){k.transit={version:\"0.9.9\",propertyMap:{marginLeft:\"margin\",marginRight:\"margin\",marginBottom:\"margin\",marginTop:\"margin\",paddingLeft:\"padding\",paddingRight:\"padding\",paddingBottom:\"padding\",paddingTop:\"padding\"},enabled:true,useTransitionEnd:false};var d=document.createElement(\"div\");var q={};function b(v){if(v in d.style){return v}var u=[\"Moz\",\"Webkit\",\"O\",\"ms\"];var r=v.charAt(0).toUpperCase()+v.substr(1);if(v in d.style){return v}for(var t=0;t<u.length;++t){var s=u[t]+r;if(s in d.style){return s}}}function e(){d.style[q.transform]=\"\";d.style[q.transform]=\"rotateY(90deg)\";return d.style[q.transform]!==\"\"}var a=navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1;q.transition=b(\"transition\");q.transitionDelay=b(\"transitionDelay\");q.transform=b(\"transform\");q.transformOrigin=b(\"transformOrigin\");q.transform3d=e();var i={transition:\"transitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd\",WebkitTransition:\"webkitTransitionEnd\",msTransition:\"MSTransitionEnd\"};var f=q.transitionEnd=i[q.transition]||null;for(var p in q){if(q.hasOwnProperty(p)&&typeof k.support[p]===\"undefined\"){k.support[p]=q[p];}}d=null;k.cssEase={_default:\"ease\",\"in\":\"ease-in\",out:\"ease-out\",\"in-out\":\"ease-in-out\",snap:\"cubic-bezier(0,1,.5,1)\",easeOutCubic:\"cubic-bezier(.215,.61,.355,1)\",easeInOutCubic:\"cubic-bezier(.645,.045,.355,1)\",easeInCirc:\"cubic-bezier(.6,.04,.98,.335)\",easeOutCirc:\"cubic-bezier(.075,.82,.165,1)\",easeInOutCirc:\"cubic-bezier(.785,.135,.15,.86)\",easeInExpo:\"cubic-bezier(.95,.05,.795,.035)\",easeOutExpo:\"cubic-bezier(.19,1,.22,1)\",easeInOutExpo:\"cubic-bezier(1,0,0,1)\",easeInQuad:\"cubic-bezier(.55,.085,.68,.53)\",easeOutQuad:\"cubic-bezier(.25,.46,.45,.94)\",easeInOutQuad:\"cubic-bezier(.455,.03,.515,.955)\",easeInQuart:\"cubic-bezier(.895,.03,.685,.22)\",easeOutQuart:\"cubic-bezier(.165,.84,.44,1)\",easeInOutQuart:\"cubic-bezier(.77,0,.175,1)\",easeInQuint:\"cubic-bezier(.755,.05,.855,.06)\",easeOutQuint:\"cubic-bezier(.23,1,.32,1)\",easeInOutQuint:\"cubic-bezier(.86,0,.07,1)\",easeInSine:\"cubic-bezier(.47,0,.745,.715)\",easeOutSine:\"cubic-bezier(.39,.575,.565,1)\",easeInOutSine:\"cubic-bezier(.445,.05,.55,.95)\",easeInBack:\"cubic-bezier(.6,-.28,.735,.045)\",easeOutBack:\"cubic-bezier(.175, .885,.32,1.275)\",easeInOutBack:\"cubic-bezier(.68,-.55,.265,1.55)\"};k.cssHooks[\"transit:transform\"]={get:function(r){return k(r).data(\"transform\")||new j()},set:function(s,r){var t=r;if(!(t instanceof j)){t=new j(t)}if(q.transform===\"WebkitTransform\"&&!a){s.style[q.transform]=t.toString(true)}else{s.style[q.transform]=t.toString()}k(s).data(\"transform\",t)}};k.cssHooks.transform={set:k.cssHooks[\"transit:transform\"].set};if(k.fn.jquery<\"1.8\"){k.cssHooks.transformOrigin={get:function(r){return r.style[q.transformOrigin]},set:function(r,s){r.style[q.transformOrigin]=s}};k.cssHooks.transition={get:function(r){return r.style[q.transition]},set:function(r,s){r.style[q.transition]=s}};}n(\"scale\");n(\"translate\");n(\"rotate\");n(\"rotateX\");n(\"rotateY\");n(\"rotate3d\");n(\"perspective\");n(\"skewX\");n(\"skewY\");n(\"x\",true);n(\"y\",true);function j(r){if(typeof r===\"string\"){this.parse(r)}return this}j.prototype={setFromString:function(t,s){var r=(typeof s===\"string\")?s.split(\",\"):(s.constructor===Array)?s:[s];r.unshift(t);j.prototype.set.apply(this,r)},set:function(s){var r=Array.prototype.slice.apply(arguments,[1]);if(this.setter[s]){this.setter[s].apply(this,r)}else{this[s]=r.join(\",\")}},get:function(r){if(this.getter[r]){return this.getter[r].apply(this)}else{return this[r]||0}},setter:{rotate:function(r){this.rotate=o(r,\"deg\")},rotateX:function(r){this.rotateX=o(r,\"deg\")},rotateY:function(r){this.rotateY=o(r,\"deg\")},scale:function(r,s){if(s===undefined){s=r}this.scale=r+\",\"+s},skewX:function(r){this.skewX=o(r,\"deg\")},skewY:function(r){this.skewY=o(r,\"deg\")},perspective:function(r){this.perspective=o(r,\"px\")},x:function(r){this.set(\"translate\",r,null)},y:function(r){this.set(\"translate\",null,r)},translate:function(r,s){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(r!==null&&r!==undefined){this._translateX=o(r,\"px\")}if(s!==null&&s!==undefined){this._translateY=o(s,\"px\")}this.translate=this._translateX+\",\"+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var r=(this.scale||\"1,1\").split(\",\");if(r[0]){r[0]=parseFloat(r[0])}if(r[1]){r[1]=parseFloat(r[1])}return(r[0]===r[1])?r[0]:r},rotate3d:function(){var t=(this.rotate3d||\"0,0,0,0deg\").split(\",\");for(var r=0;r<=3;++r){if(t[r]){t[r]=parseFloat(t[r])}}if(t[3]){t[3]=o(t[3],\"deg\")}return t}},parse:function(s){var r=this;s.replace(/([a-zA-Z0-9]+)\\((.*?)\\)/g,function(t,v,u){r.setFromString(v,u)})},toString:function(t){var s=[];for(var r in this){if(this.hasOwnProperty(r)){if((!q.transform3d)&&((r===\"rotateX\")||(r===\"rotateY\")||(r===\"perspective\")||(r===\"transformOrigin\"))){continue}if(r[0]!==\"_\"){if(t&&(r===\"scale\")){s.push(r+\"3d(\"+this[r]+\",1)\")}else{if(t&&(r===\"translate\")){s.push(r+\"3d(\"+this[r]+\",0)\")}else{s.push(r+\"(\"+this[r]+\")\")}}}}}return s.join(\" \")}};function m(s,r,t){if(r===true){s.queue(t)}else{if(r){s.queue(r,t)}else{t()}}}function h(s){var r=[];k.each(s,function(t){t=k.camelCase(t);t=k.transit.propertyMap[t]||k.cssProps[t]||t;t=c(t);if(k.inArray(t,r)===-1){r.push(t)}});return r}function g(s,v,x,r){var t=h(s);if(k.cssEase[x]){x=k.cssEase[x]}var w=\"\"+l(v)+\" \"+x;if(parseInt(r,10)>0){w+=\" \"+l(r)}var u=[];k.each(t,function(z,y){u.push(y+\" \"+w)});return u.join(\", \")}k.fn.transition=k.fn.transit=function(z,s,y,C){var D=this;var u=0;var w=true;if(typeof s===\"function\"){C=s;s=undefined}if(typeof y===\"function\"){C=y;y=undefined}if(typeof z.easing!==\"undefined\"){y=z.easing;delete z.easing}if(typeof z.duration!==\"undefined\"){s=z.duration;delete z.duration}if(typeof z.complete!==\"undefined\"){C=z.complete;delete z.complete}if(typeof z.queue!==\"undefined\"){w=z.queue;delete z.queue}if(typeof z.delay!==\"undefined\"){u=z.delay;delete z.delay}if(typeof s===\"undefined\"){s=k.fx.speeds._default}if(typeof y===\"undefined\"){y=k.cssEase._default}s=l(s);var E=g(z,s,y,u);var B=k.transit.enabled&&q.transition;var t=B?(parseInt(s,10)+parseInt(u,10)):0;if(t===0){var A=function(F){D.css(z);if(C){C.apply(D)}if(F){F()}};m(D,w,A);return D}var x={};var r=function(H){var G=false;var F=function(){if(G){D.unbind(f,F)}if(t>0){D.each(function(){this.style[q.transition]=(x[this]||null)})}if(typeof C===\"function\"){C.apply(D)}if(typeof H===\"function\"){H()}};if((t>0)&&(f)&&(k.transit.useTransitionEnd)){G=true;D.bind(f,F)}else{window.setTimeout(F,t)}D.each(function(){if(t>0){this.style[q.transition]=E}k(this).css(z)})};var v=function(F){this.offsetWidth;r(F)};m(D,w,v);return this};function n(s,r){if(!r){k.cssNumber[s]=true}k.transit.propertyMap[s]=q.transform;k.cssHooks[s]={get:function(v){var u=k(v).css(\"transit:transform\");return u.get(s)},set:function(v,w){var u=k(v).css(\"transit:transform\");u.setFromString(s,w);k(v).css({\"transit:transform\":u})}}}function c(r){return r.replace(/([A-Z])/g,function(s){return\"-\"+s.toLowerCase()})}function o(s,r){if((typeof s===\"string\")&&(!s.match(/^[\\-0-9\\.]+$/))){return s}else{return\"\"+s+r}}function l(s){var r=s;if(k.fx.speeds[r]){r=k.fx.speeds[r]}return o(r,\"ms\")}k.transit.getTransitionValue=g;})(jQuery);\n\nif (!jQuery.support.transition)\n  jQuery.fn.transition = jQuery.fn.animate;\n","//     Backbone.js 1.6.1\n\n//     (c) 2010-2024 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global;\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $;\n    try { $ = require('jquery'); } catch (e) {}\n    factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.6.1';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // A private global variable to share between listeners and listenees.\n  var _listening;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0, names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length ; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening;\n      // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n      _listening.interop = false;\n    }\n\n    return this;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    }\n\n    // Bind callbacks on obj.\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n\n    if (error) throw error;\n    // If the target obj is not Backbone.Events, track events manually.\n    if (listening.interop) listening.on(name, callback);\n\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context, ctx = options.ctx, listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n    }\n    return events;\n  };\n\n  // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n  var tryCatchOn = function(obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var context = options.context, listeners = options.listeners;\n    var i = 0, names;\n\n    // Delete all event listeners and \"drop\" events.\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Find any remaining events.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n            callback !== handler.callback._callback ||\n              context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      }\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n  var Listening = function(listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on;\n\n  // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n  Listening.prototype.off = function(name, callback) {\n    var cleanup;\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n    if (cleanup) this.cleanup();\n  };\n\n  // Cleans up memory bindings between the listener and the listenee.\n  Listening.prototype.cleanup = function() {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    var defaults = _.result(this, 'defaults');\n\n    // Just _.defaults would work fine, but the additional _.extends\n    // is in there for historical reasons. See #3843.\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset      = options.unset;\n      var silent     = options.silent;\n      var changes    = [];\n      var changing   = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev    = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      if (this.idAttribute in attrs) {\n        var prevId = this.id;\n        this.id = this.get(this.idAttribute);\n        if (this.id !== prevId) {\n          this.trigger('changeId', this, prevId, options);\n        }\n      }\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n      return hasChanged ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true, parse: true}, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend({}, options, {validate: true}));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) { return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed.length) {\n        options.changes = {added: [], merged: [], removed: removed};\n        this.trigger('update', this, options);\n      }\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.extend({}, setOptions, options);\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model, i;\n      for (i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort/update events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] ||\n        this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj, obj.idAttribute)] ||\n        obj.cid && this._byId[obj.cid];\n    },\n\n    // Returns `true` if the model is in the collection.\n    has: function(obj) {\n      return this.get(obj) != null;\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return this.map(attr + '');\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(m, resp, callbackOpts) {\n        if (wait) {\n          m.off('error', collection._forwardPristineError, collection);\n          collection.add(m, callbackOpts);\n        }\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n      // In case of wait:true, our collection is not listening to any\n      // of the model's events yet, so it will not forward the error\n      // event. In this special case, we need to listen for it\n      // separately and handle the event just once.\n      // (The reason we don't need to do this for the sync event is\n      // in the success handler above: we add the model first, which\n      // causes the collection to listen, and then invoke the callback\n      // that triggers the event.)\n      if (wait) {\n        model.once('error', this._forwardPristineError, this);\n      }\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs, idAttribute) {\n      return attrs[idAttribute || this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Get an iterator of all models in this collection.\n    values: function() {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n\n    // Get an iterator of all model IDs in this collection.\n    keys: function() {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function() {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n\n      var model;\n      if (this.model.prototype) {\n        model = new this.model(attrs, options);\n      } else {\n        // ES class methods didn't have prototype\n        model = this.model(attrs, options);\n      }\n\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes, model.idAttribute);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      if (models.length > 0 && !options.silent) delete options.index;\n      return removed;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes, model.idAttribute);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes, model.idAttribute);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n        if (event === 'changeId') {\n          var prevId = this.modelId(model.previousAttributes(), model.idAttribute);\n          var id = this.modelId(model.attributes, model.idAttribute);\n          if (prevId != null) delete this._byId[prevId];\n          if (id != null) this._byId[id] = model;\n        }\n      }\n      this.trigger.apply(this, arguments);\n    },\n\n    // Internal callback method used in `create`. It serves as a\n    // stand-in for the `_onModelEvent` method, which is not yet bound\n    // during the `wait` period of the `create` call. We still want to\n    // forward any `'error'` event at the end of the `wait` period,\n    // hence a customized callback.\n    _forwardPristineError: function(model, collection, options) {\n      // Prevent double forward if the model was already in the\n      // collection before the call to `create`.\n      if (this.has(model)) return;\n      this._onModelEvent('error', model, collection, options);\n    }\n  });\n\n  // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n  /* global Symbol */\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  }\n\n  // CollectionIterator\n  // ------------------\n\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n  var CollectionIterator = function(collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  };\n\n  // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3;\n\n  // All Iterators should themselves be Iterable.\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function() {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function() {\n    if (this._collection) {\n\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n        this._index++;\n\n        // Construct a value depending on what kind of values should be iterated.\n        var value;\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes, model.idAttribute);\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else { // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n        return {value: value, done: false};\n      }\n\n      // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n      this._collection = void 0;\n    }\n\n    return {value: void 0, done: true};\n  };\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(base, length, method, attribute) {\n    switch (length) {\n      case 1: return function() {\n        return base[method](this[attribute]);\n      };\n      case 2: return function(value) {\n        return base[method](this[attribute], value);\n      };\n      case 3: return function(iteratee, context) {\n        return base[method](this[attribute], cb(iteratee, this), context);\n      };\n      case 4: return function(iteratee, defaultVal, context) {\n        return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n      };\n      default: return function() {\n        var args = slice.call(arguments);\n        args.unshift(this[attribute]);\n        return base[method].apply(base, args);\n      };\n    }\n  };\n\n  var addUnderscoreMethods = function(Class, base, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n    foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n    select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n    contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n    head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n    without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n    isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n    sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n    omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([\n    [Collection, collectionMethods, 'models'],\n    [Model, modelMethods, 'attributes']\n  ], function(config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function(obj) {\n      var mappings = _.reduce(_.functions(obj), function(memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch': 'PATCH',\n    'delete': 'DELETE',\n    'read': 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function(){},\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n      .replace(optionalParam, '(?:$1)?')\n      .replace(namedParam, function(match, optional) {\n        return optional ? match : '([^/?]+)';\n      })\n      .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._trailingSlash   = this.options.trailingSlash;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.history && this.history.pushState);\n      this._usePushState    = this._wantsPushState && this._hasPushState;\n      this.fragment         = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {replace: true});\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) {\n        if (!this.matchRoot()) return this.notfound();\n        return false;\n      }\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return this.notfound();\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      }) || this.notfound();\n    },\n\n    // When no route could be matched, this method is called internally to\n    // trigger the `'notfound'` event. It returns `false` so that it can be used\n    // in tail position.\n    notfound: function() {\n      this.trigger('notfound');\n      return false;\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Strip trailing slash on the root unless _trailingSlash is true\n      var rootPath = this.root;\n      if (!this._trailingSlash && (fragment === '' || fragment.charAt(0) === '?')) {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n      var url = rootPath + fragment;\n\n      // Strip the fragment of the query and hash for matching.\n      fragment = fragment.replace(pathStripper, '');\n\n      // Decode for matching.\n      var decodedFragment = this.decodeFragment(fragment);\n\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  // Provide useful information when things go wrong. This method is not meant\n  // to be used directly; it merely provides the necessary introspection for the\n  // external `debugInfo` function.\n  Backbone._debug = function() {\n    return {root: root, _: _};\n  };\n\n  return Backbone;\n});\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","parcelRequire","parcelRegister","register","module","exports","$6KOho","$2q7Wm","$kL2Ep","window","jQuery","$","_","Backbone","Function","prototype","bind","slice","Array","that","target","TypeError","args1","call","arguments","bound","apply","concat","F","self","result","Object","root","Panels","history","pause","paused","History","started","checkUrlBackup","checkUrl","resume","App","Router","extend","options","i","location","search","substr","replaceState","states","routePanel","initialize","panels","popups","start","pushState","hashChange","fragment","resize","j","topbarView","topbar","topbarHeight","goLeftWidth","goRightWidth","goLeftRightDelay","goLeftWidthOffset","goRightWidthOffset","backButtonPrefix","go","fragment1","loc","replace","source","instant","length","getFragmentIndex","focusPanel","scrollIntoView","updateURL","indexOf","goLoc","goLocReplace","goLocSource","goInstant","loadUrl","getPanelIndex","panel","slicePanelLeft","shift","remove","navigatePanel","name1","initializePanels","isInternal","undefined","left","$el","insertBefore","el","unshift","insertAfter","lastPanel","pop","push","renderPanel","args","sourcePanel","leftPanel1","rightPanel1","whenLoaded","setSource","moveTo","targetLeft","noPush","ga","navigate","slicePanel","name","setPanelSource","leftPanel","rightPanel","calculateLayout","commitLayout","index","limit1","targetJ","route","isRegExp","_routeToRegExp","midRouting","_extractParameters","trigger","reloadPanels","len","reload","addPopup","type","getPanelType","bgElem","on","closePopup","elem","style","position","sourceOffset","offset","sourceY1","top","sourceY2","outerHeight","viewportY1","scrollTop","viewportY2","height","bottom","document","sourceX1","sourceX2","outerWidth","viewportX1","scrollLeft","viewportX2","width","right","css","app","popup","eval","panelType","first","overflow","Topbar","topbarElem","$panels","loaded","parentName","parentFragment","parentArgs","targetI","maxWidth","curWidth","curBuffer","numPanels","hasSidebar","layoutChanged","targetWidth","minWidth","buffer","sidebarWidth","maxBuffer","Math","floor","bufferRatio","targetRightGap","targetLeftGap","max","getDestLoc","getPanelWidth","totalWidth","end","hide","leftmost","rightmost","time","min","startingOffset","goLeftRightElem","html","e","preventDefault","stopPropagation","currentTarget","attr","show","setTimeout","View","Panel","events","addClass","tagName","toUpperCase","disabled","whenLoadedQueueFlush","load","updateBackButton","updateContent","leftOffset","widthOffset","rightOffset","hidden","setFragment","flags","oldLeft","oldWidth","oldRight","display","transition","elWidth","marginLeft","marginRight","$panelBody","content","panelIndex","lastIndexOf","isPopup","shortTitle","whenLoadedQueue","callback","handleNavigation","cmdKey","metaKey","ctrlKey","linkTarget","data","linkAction","linkHref","formMethod","find","text","stopImmediatePropagation","serialize","ajax","post","get","method","GET","dataType","done","response","newSource","newSourcePanel","removeClass","close","url","Popup","StaticPanel","prepend","k","transit","version","propertyMap","marginBottom","marginTop","paddingLeft","paddingRight","paddingBottom","paddingTop","enabled","useTransitionEnd","d","createElement","q","b","v","u","r","charAt","t","s","transform","navigator","userAgent","toLowerCase","transitionDelay","transformOrigin","transform3d","f","transitionEnd","MozTransition","OTransition","WebkitTransition","msTransition","p","hasOwnProperty","support","parse","m","queue","h","each","camelCase","c","cssProps","inArray","g","x","cssEase","w","l","parseInt","z","y","join","n","cssNumber","cssHooks","set","setFromString","o","match","fx","speeds","_default","out","snap","easeOutCubic","easeInOutCubic","easeInCirc","easeOutCirc","easeInOutCirc","easeInExpo","easeOutExpo","easeInOutExpo","easeInQuad","easeOutQuad","easeInOutQuad","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInBack","easeOutBack","easeInOutBack","toString","fn","jquery","split","setter","getter","rotate","rotateX","rotateY","scale","skewX","skewY","perspective","translate","_translateX","_translateY","parseFloat","rotate3d","C","D","easing","duration","complete","delay","E","B","A","H","G","unbind","offsetWidth","getTransitionValue","animate","factory","global","define","amd","exports1","_listening","previousBackbone","VERSION","noConflict","emulateHTTP","emulateJSON","Events","eventSplitter","eventsApi","iteratee","opts","names","context","keys","test","_events","onApi","ctx","listening","listeners","_listeners","id","interop","listenTo","obj","_listenId","uniqueId","listeningTo","_listeningTo","Listening","error","tryCatchOn","handlers","count","off","offApi","stopListening","ids","isEmpty","cleanup","remaining","handler","_callback","once","onceMap","listenToOnce","map","offer","triggerApi","objEvents","allEvents","all","triggerEvents","ev","a1","a2","a3","listener","Model","attributes","attrs","preinitialize","cid","cidPrefix","collection","defaults","changed","validationError","idAttribute","toJSON","clone","sync","escape","has","matches","key","val","_validate","unset","silent","changes","changing","_changing","_previousAttributes","current","prev","isEqual","prevId","_pending","clear","hasChanged","changedAttributes","diff","old","previous","previousAttributes","fetch","model","success","resp","serverAttrs","wrapError","save","wait","validate","isNew","patch","xhr","destroy","defer","base","urlError","encodeURIComponent","isValid","Collection","models","comparator","_reset","reset","setOptions","add","merge","addOptions","splice","array","insert","at","tail","singular","isArray","removed","_removeModels","added","merged","_isModel","toAdd","toMerge","toRemove","modelMap","sort","sortable","sortAttr","isString","existing","_prepareModel","_addReference","orderChanged","some","_removeReference","previousModels","_byId","modelId","where","findWhere","Error","isFunction","sortBy","pluck","create","callbackOpts","_forwardPristineError","values","CollectionIterator","ITERATOR_VALUES","ITERATOR_KEYS","entries","ITERATOR_KEYSVALUES","_onModelEvent","event","$$iterator","Symbol","iterator","kind","_collection","_kind","_index","next","value","pick","viewOptions","_ensureElement","delegateEventSplitter","selector","render","_removeElement","setElement","element","undelegateEvents","_setElement","delegateEvents","delegate","eventName","undelegate","_createElement","className","_setAttributes","addMethod","attribute","cb","defaultVal","addUnderscoreMethods","Class","methods","instance","isObject","modelMatcher","matcher","collectionMethods","forEach","collect","reduce","foldl","inject","reduceRight","foldr","detect","filter","select","reject","every","any","include","includes","contains","invoke","toArray","size","head","take","initial","rest","drop","last","without","difference","shuffle","chain","sample","partition","groupBy","countBy","indexBy","findIndex","findLastIndex","modelMethods","pairs","invert","omit","config","Base","mixin","mappings","functions","memo","methodMap","params","contentType","JSON","stringify","_method","beforeSend","setRequestHeader","processData","textStatus","errorThrown","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","router","execute","RegExp","optional","exec","param","decodeURIComponent","routeStripper","rootStripper","pathStripper","interval","atRoot","path","pathname","getSearch","matchRoot","rootPath","decodeFragment","decodeURI","href","getHash","window1","getPath","getFragment","_usePushState","_wantsHashChange","_trailingSlash","trailingSlash","_hasHashChange","documentMode","_useHashChange","_wantsPushState","_hasPushState","iframe","src","tabIndex","body","iWindow","firstChild","contentWindow","open","hash","addEventListener","attachEvent","_checkUrlInterval","setInterval","stop","removeEventListener","detachEvent","removeChild","clearInterval","notfound","decodedFragment","title","assign","_updateHash","protoProps","staticProps","child","parent","__super__","_debug"],"version":3,"file":"panels.4ba1d06b.js.map"}