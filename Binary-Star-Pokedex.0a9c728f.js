let e,t=[];function s(e,t){for(let s in e.abilities)if(toID(e.abilities[s])==toID(t))return!0;return!1}class r{constructor(s="",r="",l=""){let a;this.query="",this.typedSearch=null,this.results=null,this.exactMatch=!1,this.firstPokemonColumn="Number",this.sortCol=null,this.reverseSort=!1,this.filters=null,(a=(a=(a=(a=(a=(a=(a=(a=[]).concat(Object.keys(BattlePokedex).map(e=>e+" pokemon"))).concat(Object.keys(BattleMovedex).map(e=>e+" move"))).concat(Object.keys(BattleItems).map(e=>e+" item"))).concat(Object.keys(BattleAbilities).map(e=>e+" ability"))).concat(Object.keys(BattleTypeChart).map(e=>toID(e)+" type"))).concat(["physical","special","status"].map(e=>toID(e)+" category"))).concat(["monster","water1","bug","flying","field","fairy","grass","humanlike","water3","mineral","amorphous","water2","ditto","dragon","undiscovered"].map(e=>toID(e)+" egggroup"))).sort(),a[a.indexOf("grass type")]="grass egggroup",a[a.indexOf("grass egggroup")]="grass type",a[a.indexOf("fairy type")]="fairy egggroup",a[a.indexOf("fairy egggroup")]="fairy type",a[a.indexOf("flying type")]="flying egggroup",a[a.indexOf("flying egggroup")]="flying type",a[a.indexOf("dragon type")]="dragon egggroup",a[a.indexOf("dragon egggroup")]="dragon type",a[a.indexOf("bug type")]="bug egggroup",a[a.indexOf("bug egggroup")]="bug type",a[a.indexOf("psychic type")]="psychic move",a[a.indexOf("psychic move")]="psychic type",getID(BattlePokedex,"ditto")&&(a[a.indexOf("ditto pokemon")]="ditto egggroup",a[a.indexOf("ditto egggroup")]="ditto pokemon"),e=(t=a.map(e=>{let t=e.split(" ");return t.length>3&&(t[3]=Number(t[3]),t[2]=a.indexOf(t[2]+" "+t[1])),t})).map((e,t)=>{var s,r,l,a;let i=e[0],o="";switch(e[1]){case"pokemon":o=null!=(s=getID(BattlePokedex,i).name)?s:"";break;case"move":o=null!=(r=getID(BattleMovedex,i).name)?r:"";break;case"item":o=null!=(l=getID(BattleItems,i).name)?l:"";break;case"ability":o=null!=(a=getID(BattleAbilities,i).name)?a:""}let n="",u=0;for(let e=0,t=0;e<i.length;e++,t++){for(;!/[a-zA-Z0-9]/.test(o[t]);)t++,u++;n+=u}return u?n:""}),this.setType(s,r,l)}getTypedSearch(e,t="",s){if(!e)return null;switch(e){case"pokemon":return new a("pokemon",t,s);case"item":return new o("item",t,s);case"move":return new n("move",t,s);case"ability":return new i("ability",t,s);case"type":return new h("type",t,s);case"category":return new u("category",t,s)}return null}find(e){var t;return e=toID(e),(this.query!==e||!this.results)&&(this.query=e,e?this.results=this.textSearch(e):this.results=(null==(t=this.typedSearch)?void 0:t.getResults(this.filters,this.sortCol,this.reverseSort))||[],!0)}setType(e,t="",s){var r;this.results=null,e!==(null==(r=this.typedSearch)?void 0:r.searchType)&&(this.filters=null,this.sortCol=null),this.typedSearch=this.getTypedSearch(e,t,s)}addFilter(e){if(!this.typedSearch)return!1;let[t]=e;if("pokemon"===this.typedSearch.searchType){if(t===this.sortCol&&(this.sortCol=null),!["type","move","ability","egggroup","tier"].includes(t))return!1;for(let s of("move"===t&&(e[1]=toID(e[1])),this.filters||(this.filters=[]),this.results=null,this.filters))if(s[0]===t&&s[1]===e[1])return!0;return this.filters.push(e),!0}return"move"===this.typedSearch.searchType&&(t===this.sortCol&&(this.sortCol=null),!!["type","category","pokemon"].includes(t)&&("pokemon"===t&&(e[1]=toID(e[1])),this.filters||(this.filters=[]),this.filters.push(e),this.results=null,!0))}removeFilter(e){if(!this.filters)return!1;if(e){let t=e.join(":"),s=null;for(let e=0;e<this.filters.length;e++)if(t===this.filters[e].join(":")){s=this.filters[e],this.filters.splice(e,1);break}if(!s)return!1}else this.filters.pop();return this.filters.length||(this.filters=null),this.results=null,!0}toggleSort(e){this.sortCol===e?this.reverseSort?(this.sortCol=null,this.reverseSort=!1):this.reverseSort=!0:(this.sortCol=e,this.reverseSort=!1),this.results=null}filterLabel(e){return this.typedSearch&&this.typedSearch.searchType!==e?"Filter":null}illegalLabel(e){var t,s;return(null==(s=null==(t=this.typedSearch)?void 0:t.illegalReasons)?void 0:s[e])||null}textSearch(s){var l,a,i;s=toID(s),this.exactMatch=!1;let o=(null==(l=this.typedSearch)?void 0:l.searchType)||"",n=o?r.typeTable[o]:-1,u="";"type"===s.slice(-4)&&s.slice(0,-4)in BattleTypeChart&&(s=s.slice(0,-4),u="type");let h=r.getClosest(s);this.exactMatch=t[h][0]===s;let c="",p=[["normal",h,s]];if(s.length>1&&p.push(["alias",h,s]),!this.exactMatch&&t[h][0].substr(0,s.length)!==s){let e=s.length-1;for(!h&&h++;e&&t[h][0].substr(0,e)!==s.substr(0,e)&&t[h-1][0].substr(0,e)!==s.substr(0,e);)e--;let r=s.substr(0,e);for(;h>=1&&t[h-1][0].substr(0,e)===r;)h--;p.push(["fuzzy",h,""])}let g=[[],[],[],[],[],[],[],[],[],[]],f=-1,d=0,y=!1,m=null,b=[0,1,2,5,4,3,6,7,8],k=null==(a=this.typedSearch)?void 0:a.illegalReasons;for(h=0;h<t.length;h++){if(!c){let e=p.shift();if(!e)break;c=e[0],h=e[1],s=e[2]}let l=t[h],a=l[0],i=l[1];if(!a)break;if("fuzzy"===c){if(d>=2){c="";continue}y=!0}else if("exact"===c){if(d>=1){c="";continue}}else if(a.substr(0,s.length)!==s){c="";continue}if(l.length>2){if("alias"!==c)continue}else if("alias"===c)continue;let v=r.typeTable[i];if(1===s.length&&v!==(o?n:1)||"pokemon"===o&&(5===v||v>7)||"move"===o&&(8!==v&&v>4||3===v)||"move"===o&&k&&1===v||("ability"===o||"item"===o)&&v!==n||"type"===u&&2!==v||("megax"===a||"megay"===a)&&"mega".startsWith(s))continue;let x=0,B=0;if("alias"===c){x=l[3];let r=l[2];x&&(B=x+s.length,x+=(e[r][x]||"0").charCodeAt(0)-48,B+=(e[r][B-1]||"0").charCodeAt(0)-48),a=t[r][0]}else(B=s.length)&&(B+=(e[h][B-1]||"0").charCodeAt(0)-48);o&&n!==v&&(!m||b[v]<b[m[2]])&&(m=[i,a,v]),f<0&&n<2&&"alias"===c&&!g[1].length&&g[2].length&&(f=2),k&&v===n?(g[v].length||g[0].length||(g[0]=[["header",r.typeName[i]]]),a in k||(v=0)):g[v].length||(g[v]=[["header",r.typeName[i]]]);let R="alias"===c&&g[v].length;(!R||g[v][R-1][1]!==a)&&(g[v].push([i,a,x,B]),d++)}let v=[];return y&&(v=[["html","<em>No exact match found. The closest matches alphabetically are:</em>"]]),f>=0&&(v=v.concat(g[f]),g[f]=[]),n>=0&&(v=(v=v.concat(g[0])).concat(g[n]),g[n]=[],g[0]=[]),m&&d<20&&g.push(this.instafilter(o,m[0],m[1])),this.results=Array.prototype.concat.apply(v,g),null!=(i=this.results)?i:[]}instafilter(e,t,r){var l;let a=[],i=[],o=null==(l=this.typedSearch)?void 0:l.illegalReasons;if("pokemon"===e)switch(t){case"type":let n=r.charAt(0).toUpperCase()+r.slice(1);for(let e in a.push(["header",`${n}-type Pok&eacute;mon`]),BattlePokedex)BattlePokedex[e].types&&BattlePokedex[e].types.includes(n)&&(o&&e in o?i:a).push(["pokemon",e]);break;case"ability":let u=getID(BattleAbilities,r).name;for(let e in a.push(["header",`${u} Pok&eacute;mon`]),BattlePokedex)BattlePokedex[e].abilities&&s(BattlePokedex[e],u)&&(o&&e in o?i:a).push(["pokemon",e])}else if("move"===e)switch(t){case"type":let h=r.charAt(0).toUpperCase()+r.slice(1);for(let e in a.push(["header",`${h}-type moves`]),BattleMovedex)BattleMovedex[e].type===h&&(o&&e in o?i:a).push(["move",e]);break;case"category":let c=r.charAt(0).toUpperCase()+r.slice(1);for(let e in a.push(["header",`${c} moves`]),BattleMovedex)BattleMovedex[e].category===c&&(o&&e in o?i:a).push(["move",e])}return[...a,...i]}static getClosest(e){let s=0,r=t.length-1;for(;r>s;){let l=Math.floor((r-s)/2+s);if(t[l][0]===e&&(0===l||t[l-1][0]!==e))return l;t[l][0]<e?s=l+1:r=l-1}return s>=t.length-1?s=t.length-1:t[s+1][0]&&t[s][0]<e&&s++,s&&t[s-1][0]===e&&s--,s}}r.typeTable={pokemon:1,type:2,tier:3,move:4,item:5,ability:6,egggroup:7,category:8,article:9},r.typeName={pokemon:"Pok&eacute;mon",type:"Type",tier:"Tiers",move:"Moves",item:"Items",ability:"Abilities",egggroup:"Egg group",category:"Category",article:"Article"};class l{constructor(e,t="",s=""){if(this.species="",this.set=null,this.baseResults=null,this.baseIllegalResults=null,this.illegalReasons=null,this.results=null,this.sortRow=null,this.searchType=e,this.baseResults=null,this.baseIllegalResults=null,this.species="",this.set=null,"string"==typeof s?s&&(this.species=s):(this.set=s,this.species=toID(this.set.species)),!e||!this.set)return}getResults(e,t,s){let r,l;if("type"===t)return[this.sortRow,...h.prototype.getDefaultResults.call(this)];if("category"===t)return[this.sortRow,...u.prototype.getDefaultResults.call(this)];if("ability"===t)return[this.sortRow,...i.prototype.getDefaultResults.call(this)];if(this.baseResults||(this.baseResults=this.getBaseResults()),!this.baseIllegalResults){let e={};for(let[t,s]of this.baseResults)t===this.searchType&&(e[s]=1);for(let t in this.baseIllegalResults=[],this.illegalReasons={},this.getTable())t in e||(this.baseIllegalResults.push([this.searchType,t]),this.illegalReasons[t]="Illegal")}if(e){for(let t of(r=[],l=[],this.baseResults))this.filter(t,e)&&(r.length&&"header"===t[0]&&"header"===r[r.length-1][0]?r[r.length-1]=t:r.push(t));for(let t of(r.length&&"header"===r[r.length-1][0]&&r.pop(),this.baseIllegalResults))this.filter(t,e)&&l.push(t)}else r=[...this.baseResults],l=null;return t&&(r=r.filter(([e])=>e===this.searchType),r=this.sort(r,t,s),l&&(l=l.filter(([e])=>e===this.searchType),l=this.sort(l,t,s))),this.sortRow&&(r=[this.sortRow,...r]),l&&l.length&&(r=[...r,["header","Illegal results"],...l]),r}}class a extends l{constructor(){super(...arguments),this.sortRow=["sortpokemon",""]}filter(e,t){if(!t||"pokemon"!==e[0])return!0;let r=getID(BattlePokedex,e[1]);for(let[e,l]of t)switch(e){case"type":if(r.types.every(e=>e!=l))return!1;break;case"move":if(!canLearn(r.id,l))return!1;break;case"ability":if(!s(r,l))return!1;break;case"egggroup":if(r.eggGroups.every(e=>e!=l))return!1}return!0}getTable(){return BattlePokedex}getDefaultResults(){let e={};for(let t in BattlePokedex){let s=BattlePokedex[t];if(!s)continue;let r=toID(s.baseSpecies||s.name);e[r]||(e[r]={base:t,num:s.num||0,forms:[]}),s.forme&&s.name!==s.baseSpecies?e[r].forms.push(t):(e[r].base=t,e[r].num=s.num||e[r].num)}for(let t in e)e[t].forms.sort((e,t)=>{let s=BattlePokedex[e],r=BattlePokedex[t],l=(s.forme||s.name).toLowerCase(),a=(r.forme||r.name).toLowerCase();return l<a?-1:+(l>a)});let t=Object.values(e).sort((e,t)=>e.num-t.num||(e.base<t.base?-1:+(e.base>t.base)));for(let e of(window.BattleFormOrder={},t))window.BattleFormOrder[toID(BattlePokedex[e.base].baseSpecies||BattlePokedex[e.base].name)]=e.forms.slice();let s=[];for(let e of t){let t=e.base;switch(t){case"bulbasaur":s.push(["header","Generation 1"]);break;case"chikorita":s.push(["header","Generation 2"]);break;case"treecko":s.push(["header","Generation 3"]);break;case"turtwig":s.push(["header","Generation 4"]);break;case"victini":s.push(["header","Generation 5"]);break;case"chespin":s.push(["header","Generation 6"]);break;case"rowlet":s.push(["header","Generation 7"]);break;case"grookey":s.push(["header","Generation 8"]);break;case"sprigatito":s.push(["header","Generation 9"]);break;case"missingno":s.push(["header","Glitch"]);break;case"syclar":s.push(["header","CAP"]);break;case"pikachucosplay":continue}for(let r of(s.push(["pokemon",t]),e.forms))s.push(["pokemon",r])}return s}getBaseResults(){return this.getDefaultResults()}sort(e,t,s){let r=s?-1:1;if(["hp","atk","def","spa","spd","spe"].includes(t))return e.sort(([e,s],[l,a])=>{let i=getID(BattlePokedex,s).baseStats[t];return(getID(BattlePokedex,a).baseStats[t]-i)*r});if("bst"===t)return e.sort(([e,t],[s,l])=>{let a=getID(BattlePokedex,t).baseStats,i=getID(BattlePokedex,l).baseStats,o=a.hp+a.atk+a.def+a.spa+a.spd+a.spe;return(i.hp+i.atk+i.def+i.spa+i.spd+i.spe-o)*r});if("name"===t)return e.sort(([e,t],[s,l])=>(t<l?-1:+(t>l))*r);throw Error("invalid sortcol")}}class i extends l{getTable(){return BattleAbilities}getDefaultResults(){let e=[];for(let t in BattleAbilities)e.push(["ability",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){if(!t||"ability"!==e[0])return!0;let r=getID(BattleAbilities,e[1]);for(let[e,l]of t)if("pokemon"===e&&!s(getID(BattlePokedex,l),r.name))return!1;return!0}sort(e,t,s){throw Error("invalid sortcol")}}class o extends l{getTable(){return BattleItems}getDefaultResults(){let e=[];for(let t in e.push(["header","Items"]),BattleItems)e.push(["item",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){throw Error("invalid filter")}sort(e,t,s){throw Error("invalid sortcol")}}class n extends l{constructor(){super(...arguments),this.sortRow=["sortmove",""]}getTable(){return BattleMovedex}getDefaultResults(){let e=[];for(let t in e.push(["header","Moves"]),BattleMovedex)e.push(["move",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){if(!t||"move"!==e[0])return!0;let s=getID(BattleMovedex,e[1]);for(let[e,r]of t)switch(e){case"type":if(s.type!==r)return!1;break;case"category":if(s.category!==r)return!1;break;case"pokemon":if(!canLearn(r,s.id))return!1}return!0}sort(e,t,s){let r=s?-1:1;switch(t){case"power":let l={return:102,frustration:102,spitup:300,trumpcard:200,naturalgift:80,grassknot:120,lowkick:120,gyroball:150,electroball:150,flail:200,reversal:200,present:120,wringout:120,crushgrip:120,heatcrash:120,heavyslam:120,fling:130,magnitude:150,beatup:24,punishment:1020,psywave:1250,nightshade:1200,seismictoss:1200,dragonrage:1140,sonicboom:1120,superfang:1350,endeavor:1399,sheercold:1501,fissure:1500,horndrill:1500,guillotine:1500};return e.sort(([e,t],[s,a])=>{let i=getID(BattleMovedex,t),o=getID(BattleMovedex,a),n=i.basePower||l[t]||("Status"===i.category?-1:1400);return((o.basePower||l[a]||("Status"===o.category?-1:1400))-n)*r});case"accuracy":return e.sort(([e,t],[s,l])=>{let a=getID(BattleMovedex,t).accuracy||0,i=getID(BattleMovedex,l).accuracy||0;return!0===a&&(a=101),!0===i&&(i=101),(i-a)*r});case"pp":return e.sort(([e,t],[s,l])=>{let a=getID(BattleMovedex,t).pp||0;return((getID(BattleMovedex,l).pp||0)-a)*r});case"name":return e.sort(([e,t],[s,l])=>(t<l?-1:+(t>l))*r)}throw Error("invalid sortcol")}}class u extends l{getTable(){return{physical:1,special:1,status:1}}getDefaultResults(){return[["category","physical"],["category","special"],["category","status"]]}getBaseResults(){return this.getDefaultResults()}filter(e,t){throw Error("invalid filter")}sort(e,t,s){throw Error("invalid sortcol")}}class h extends l{getTable(){return BattleTypeChart}getDefaultResults(){let e=[];for(let t in BattleTypeChart)e.push(["type",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){throw Error("invalid filter")}sort(e,t,s){throw Error("invalid sortcol")}}window.DexSearch=r;
//# sourceMappingURL=Binary-Star-Pokedex.0a9c728f.js.map
