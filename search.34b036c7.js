var e=globalThis.parcelRequire6a64,t=e.register;t("eRrRo",function(t,s){var r=e("6KOho");e("hDfjk");var a=window,o=r&&r.__esModule?r.default:r;function l(e,t){this.$el=o(e),this.el=this.$el[0],this.$viewport=t?o(t):o(window),this.urlRoot="",this.q=void 0,this.exactMatch=!1,this.resultSet=null,this.filters=null,this.sortCol=null,this.renderedIndex=0,this.renderingDone=!0,this.externalFilter=!1,this.cur={},this.$inputEl=null,this.gen=9,this.mod=null,this.engine=new DexSearch,window.search=this;var s=this;this.$el.on("click",".more button",function(e){e.preventDefault(),s.updateScroll(!0)}),this.$el.on("click",".filter",function(e){e.preventDefault(),s.removeFilter(e),s.$inputEl&&s.$inputEl.focus()}),this.$el.on("click",".sortcol",function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.sort;s.engine.toggleSort(t),s.sortCol=s.engine.sortCol,s.find("")})}l.prototype.$=function(e){return this.$el.find(e)},l.prototype.find=function(e,t){if(this.engine.find(e)){if(this.exactMatch=this.engine.exactMatch,this.q=this.engine.query,this.resultSet=this.engine.results,t&&(this.resultSet=[[this.engine.typedSearch.searchType,t]].concat(this.resultSet),this.resultSet.length>1&&["sortpokemon","sortmove"].includes(this.resultSet[1][0]))){var s=this.resultSet[1];this.resultSet[1]=this.resultSet[0],this.resultSet[0]=s}return this.filters&&(this.resultSet=[["html",this.getFilterText()]].concat(this.resultSet)),this.renderedIndex=0,this.renderingDone=!1,this.updateScroll(),!0}},l.prototype.addFilter=function(e){if(!e.dataset.entry)return!1;var t=e.dataset.entry.split("|"),s=this.engine.addFilter(t);return this.filters=this.engine.filters,s},l.prototype.removeFilter=function(e){var t;return t=e?this.engine.removeFilter(e.currentTarget.value.split(":")):this.engine.removeFilter(),this.filters=this.engine.filters,this.find(""),t},l.prototype.getFilterText=function(e){for(var t="<p>Filters: ",s=0;s<this.filters.length;s++){var r=this.filters[s][1];"move"===this.filters[s][0]&&(r=getID(BattleMovedex,r).name),"pokemon"===this.filters[s][0]&&(r=getID(BattlePokedex,r).name),t+='<button class="filter" value="'+escapeHTML(this.filters[s].join(":"))+'">'+r+' <i class="fa fa-times-circle"></i></button> '}return e||(t+='<small style="color: #888">(backspace = delete filter)</small>'),t+"</p>"},l.prototype.updateScroll=function(e){if(!this.renderingDone){var t=this.$viewport.scrollTop(),s=t+this.$viewport.height(),r=o(window).height(),a=this.renderedIndex,l=Math.floor(s/33)+1;if(e||!(l<=a)){l<a+20&&(l=a+20),s-t>r&&!a&&(l=20),e&&l>a+40&&(l=a+40);for(var n=this.resultSet,i="";a<l;){if(!n[a]){this.renderingDone=!0;break}var c,u=n[a],p="";(c=this.engine.filterLabel(u[0]))?p='<span class="col filtercol"><em>'+c+"</em></span>":(c=this.engine.illegalLabel(u[1]))&&(p='<span class="col illegalcol"><em>'+c+"</em></span>");var h=0,d=0;u.length>3&&(h=u[2],d=u[3]),i+=this.renderRow(u[1],u[0],h,d,p,u[1]in this.cur?' class="cur"':""),a++}this.renderedIndex?(this.moreVisible&&(this.$el.find(".more").remove(),e||(this.moreVisible=!1)),o(this.el.firstChild).append(i+(e&&!this.renderingDone?'<li class="result more"><p><button class="button big">More</button></p></li>':""))):(this.el.innerHTML='<ul class="utilichart" style="height:'+33*n.length+'px">'+i+(this.renderingDone?"":'<li class="result more"><p><button class="button big">More</button></p></li>')+"</ul>",this.moreVisible=!0),this.renderedIndex=a}}},l.prototype.setType=function(e,t,s,r){var a;for(var o in this.engine.setType(e,t,s),this.filters=this.engine.filters,this.sortCol=this.engine.sortCol,this.cur=r||{},r){a=o;break}this.find("",a)},l.prototype.renderRow=function(e,t,s,r,a,o){switch(t){case"html":return'<li class="result">'+e+"</li>";case"header":return'<li class="result"><h3>'+e+"</h3></li>";case"sortpokemon":return this.renderPokemonSortRow();case"sortmove":return this.renderMoveSortRow();case"pokemon":var l=getID(BattlePokedex,e);return this.renderPokemonRow(l,s,r,a,o);case"move":var n=getID(BattleMovedex,e);return this.renderMoveRow(n,s,r,a,o);case"item":var i=getID(BattleItems,e);return this.renderItemRow(i,s,r,a,o);case"ability":var c=getID(BattleAbilities,e);return this.renderAbilityRow(c,s,r,a,o);case"type":var t={name:e[0].toUpperCase()+e.substr(1)};return this.renderTypeRow(t,s,r,a);case"egggroup":"humanlike"===e?u="Human-Like":"water1"===e?u="Water 1":"water2"===e?u="Water 2":"water3"===e&&(u="Water 3"),u?r>5&&r++:u=e[0].toUpperCase()+e.substr(1);var u,p={name:u};return this.renderEggGroupRow(p,s,r,a);case"tier":return this.renderTierRow({name:{uber:"Uber",ou:"OU",uu:"UU",ru:"RU",nu:"NU",pu:"PU",zu:"(PU)",nfe:"NFE",lc:"LC",cap:"CAP",caplc:"CAP LC",capnfe:"CAP NFE",uubl:"UUBL",rubl:"RUBL",nubl:"NUBL",publ:"PUBL"}[e]},s,r,a);case"category":var h={name:e[0].toUpperCase()+e.substr(1),id:e};return this.renderCategoryRow(h,s,r,a);case"article":var d=window.BattleArticleTitles&&BattleArticleTitles[e]||e[0].toUpperCase()+e.substr(1);return this.renderArticleRow({name:d,id:e},s,r,a)}return"Error: not found"},l.prototype.renderPokemonSortRow=function(){var e='<li class="result"><div class="sortrow">';return e+('<button class="sortcol numsortcol'+(this.sortCol?"":" cur")+'">'+(this.sortCol?this.engine.firstPokemonColumn:"Sort: ")+"</button>"+('<button class="sortcol pnamesortcol'+("name"===this.sortCol?" cur":""))+'" data-sort="name">Name</button>'+('<button class="sortcol typesortcol'+("type"===this.sortCol?" cur":""))+'" data-sort="type">Types</button>'+('<button class="sortcol abilitysortcol'+("ability"===this.sortCol?" cur":""))+'" data-sort="ability">Abilities</button>'+('<button class="sortcol statsortcol'+("hp"===this.sortCol?" cur":""))+'" data-sort="hp">HP</button>'+('<button class="sortcol statsortcol'+("atk"===this.sortCol?" cur":""))+'" data-sort="atk">Atk</button>'+('<button class="sortcol statsortcol'+("def"===this.sortCol?" cur":""))+'" data-sort="def">Def</button>'+('<button class="sortcol statsortcol'+("spa"===this.sortCol?" cur":""))+'" data-sort="spa">SpA</button>'+('<button class="sortcol statsortcol'+("spd"===this.sortCol?" cur":""))+'" data-sort="spd">SpD</button>'+('<button class="sortcol statsortcol'+("spe"===this.sortCol?" cur":""))+'" data-sort="spe">Spe</button>'+('<button class="sortcol statsortcol'+("bst"===this.sortCol?" cur":""))+'" data-sort="bst">BST</button></div></li>')},l.prototype.renderMoveSortRow=function(){var e='<li class="result"><div class="sortrow">';return e+('<button class="sortcol movenamesortcol'+("name"===this.sortCol?" cur":"")+'" data-sort="name">Name</button>'+('<button class="sortcol movetypesortcol'+("type"===this.sortCol?" cur":""))+'" data-sort="type">Type</button>'+('<button class="sortcol movetypesortcol'+("category"===this.sortCol?" cur":""))+'" data-sort="category">Cat</button>'+('<button class="sortcol powersortcol'+("power"===this.sortCol?" cur":""))+'" data-sort="power">Pow</button>'+('<button class="sortcol accuracysortcol'+("accuracy"===this.sortCol?" cur":""))+'" data-sort="accuracy">Acc</button>'+('<button class="sortcol ppsortcol'+("pp"===this.sortCol?" cur":""))+'" data-sort="pp">PP</button></div></li>')},l.prototype.renderPokemonRow=function(e,t,s,r,a){if(a||(a=""),!e)return'<li class="result">Unrecognized pokemon</li>';var o=toID(e.name);l.urlRoot&&(a+=' href="'+l.urlRoot+"pokemon/"+o+'" data-target="push"');var n='<li class="result"><a'+a+' data-entry="pokemon|'+escapeHTML(e.name)+'">',i=e.num;if(e.forme&&e.name!==e.baseSpecies&&window.BattleFormOrder){var c=toID(e.baseSpecies||e.name),u=window.BattleFormOrder[c];if(u){var p=u.indexOf(e.id);if(p>=0){var h=String.fromCharCode(65+p);i=e.num+"-"+h}}}n+='<span class="col numcol">'+i+"</span> ",n+='<span class="col iconcol">',n+='<span style="'+getPokemonIcon(e.name)+'"></span>',n+="</span> ";var d=e.name,m=e.forme?d.length-e.forme.length-1:0;if(m&&(d=d.substr(0,m)),s&&(d=d.substr(0,t)+"<b>"+d.substr(t,s)+"</b>"+d.substr(t+s)),m&&(s&&t+s>m?(t<m&&(s-=m-t,t=m),d+="<small>"+e.name.substr(m,t-m)+"<b>"+e.name.substr(t,s)+"</b>"+e.name.substr(t+s)+"</small>"):d+="<small>"+e.name.substr(m)+"</small>"),n+='<span class="col pokemonnamecol">'+d+"</span> ",r)return n+(r+"</a></li>");n+='<span class="col typecol">';for(var g=e.types,b=0;b<g.length;b++)n+=getTypeIcon(g[b]);n+="</span> ";var f=e.abilities;f["1"]?n+='<span class="col twoabilitycol">'+f["0"]+"<br />"+f["1"]+"</span>":n+='<span class="col abilitycol">'+f["0"]+"</span>",f.S?f.H?n+='<span class="col twoabilitycol">'+(f.H||"")+"<br />("+f.S+")</span>":n+='<span class="col abilitycol">('+f.S+")</span>":f.H?n+='<span class="col abilitycol">'+f.H+"</span>":n+='<span class="col abilitycol"></span>';var y=e.baseStats;n+='<span class="col statcol"><em>HP</em><br />'+y.hp+"</span> ",n+='<span class="col statcol"><em>Atk</em><br />'+y.atk+"</span> ",n+='<span class="col statcol"><em>Def</em><br />'+y.def+"</span> ",n+='<span class="col statcol"><em>SpA</em><br />'+y.spa+"</span> ",n+='<span class="col statcol"><em>SpD</em><br />'+y.spd+"</span> ",n+='<span class="col statcol"><em>Spe</em><br />'+y.spe+"</span> ";var v=0;for(b in y)v+=y[b];return n+='<span class="col bstcol"><em>BST<br />'+v+"</em></span> ",n+="</a></li>"},l.prototype.renderTaggedPokemonRowInner=function(e,t,s){var r="";l.urlRoot&&(r=' href="'+l.urlRoot+"pokemon/"+toID(e.name)+'" data-target="push"');var a="<a"+r+' data-entry="pokemon|'+escapeHTML(e.name)+'">';a+='<span class="col tagcol shorttagcol">'+t+"</span> ",a+='<span class="col iconcol">',a+='<span style="'+getPokemonIcon(e.name)+'"></span>',a+="</span> ";var o=e.name,n=e.forme?o.length-e.forme.length-1:0;if(n&&(o=o.substr(0,n)+"<small>"+e.name.substr(n)+"</small>"),a+='<span class="col shortpokemonnamecol">'+o+"</span> ",s)return a+(s+"</a></li>");a+='<span class="col typecol">';for(var i=0;i<e.types.length;i++)a+=getTypeIcon(e.types[i]);for(var i in a+="</span> ",a+='<span style="float:left;min-height:26px">',e.abilities["1"]?a+='<span class="col twoabilitycol">':a+='<span class="col abilitycol">',e.abilities){var c=e.abilities[i];c&&("1"===i&&(a+="<br />"),"H"===i&&(c='</span><span class="col abilitycol"><em>'+e.abilities[i]+"</em>"),a+=c)}e.abilities.H||(a+='</span><span class="col abilitycol">'),a+="</span>",a+="</span>",a+='<span style="float:left;min-height:26px">',a+='<span class="col statcol"><em>HP</em><br />'+e.baseStats.hp+"</span> ",a+='<span class="col statcol"><em>Atk</em><br />'+e.baseStats.atk+"</span> ",a+='<span class="col statcol"><em>Def</em><br />'+e.baseStats.def+"</span> ",a+='<span class="col statcol"><em>SpA</em><br />'+e.baseStats.spa+"</span> ",a+='<span class="col statcol"><em>SpD</em><br />'+e.baseStats.spd+"</span> ",a+='<span class="col statcol"><em>Spe</em><br />'+e.baseStats.spe+"</span> ";var u=0;for(i in e.baseStats)u+=e.baseStats[i];return a+='<span class="col bstcol"><em>BST<br />'+u+"</em></span> ",a+="</span>",a+="</a>"},l.prototype.renderItemRow=function(e,t,s,r,a){if(a||(a=""),!e)return'<li class="result">Unrecognized item</li>';var o=toID(e.name);l.urlRoot&&(a+=' href="'+l.urlRoot+"items/"+o+'" data-target="push"');var n='<li class="result"><a'+a+' data-entry="item|'+escapeHTML(e.name)+'">';n+='<span class="col itemiconcol"><span style="'+getItemIcon(e)+'"></span></span> ';var i=e.name;return(s&&(i=i.substr(0,t)+"<b>"+i.substr(t,s)+"</b>"+i.substr(t+s)),n+='<span class="col namecol">'+i+"</span> ",r)?n+=r+"</a></li>":n+='<span class="col itemdesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> </a></li>"},l.prototype.renderAbilityRow=function(e,t,s,r,a){if(a||(a=""),!e)return'<li class="result">Unrecognized ability</li>';var o=toID(e.name);l.urlRoot&&(a+=' href="'+l.urlRoot+"abilities/"+o+'" data-target="push"');var n='<li class="result"><a'+a+' data-entry="ability|'+escapeHTML(e.name)+'">',i=e.name;return(s&&(i=i.substr(0,t)+"<b>"+i.substr(t,s)+"</b>"+i.substr(t+s)),n+='<span class="col namecol">'+i+"</span> ",r)?n+=r+"</a></li>":n+='<span class="col abilitydesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> </a></li>"},l.prototype.renderMoveRow=function(e,t,s,r,a){if(a||(a=""),!e)return'<li class="result">Unrecognized move</li>';var o=toID(e.name);l.urlRoot&&(a+=' href="'+l.urlRoot+"moves/"+o+'" data-target="push"');var n='<li class="result"><a'+a+' data-entry="move|'+escapeHTML(e.name)+'">',i=e.name,c=12*("Hidden Power"===i.substr(0,12));if(c&&(i=i.substr(0,c)),s&&(i=i.substr(0,t)+"<b>"+i.substr(t,s)+"</b>"+i.substr(t+s)),c&&(s&&t+s>c?(t<c&&(s-=c-t,t=c),i+="<small>"+e.name.substr(c,t-c)+"<b>"+e.name.substr(t,s)+"</b>"+e.name.substr(t+s)+"</small>"):i+="<small>"+e.name.substr(c)+"</small>"),n+='<span class="col movenamecol">'+i+"</span> ",r)return n+(r+"</a></li>");n+='<span class="col typecol">',n+=getTypeIcon(e.type),n+=getCategoryIcon(e.category),n+="</span> ";var u=1===e.pp||e.noPPBoosts?e.pp:8*e.pp/5;return n+='<span class="col labelcol">'+("Status"!==e.category?"<em>Power</em><br />"+(e.basePower||"&mdash;"):"")+"</span> ",n+='<span class="col widelabelcol"><em>Accuracy</em><br />'+(e.accuracy&&!0!==e.accuracy?e.accuracy+"%":"&mdash;")+"</span> ",n+='<span class="col pplabelcol"><em>PP</em><br />'+u+"</span> ",n+='<span class="col movedesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> ",n+="</a></li>"},l.prototype.renderMoveRowInner=function(e,t){var s="";l.urlRoot&&(s=' href="'+l.urlRoot+"moves/"+toID(e.name)+'" data-target="push"');var r="<a"+s+' data-entry="move|'+escapeHTML(e.name)+'">',a=e.name,o=12*("Hidden Power"===a.substr(0,12));if(o&&(a=a.substr(0,o)+"<small>"+e.name.substr(o)+"</small>"),r+='<span class="col movenamecol">'+a+"</span> ",t)return r+(t+"</a></li>");r+='<span class="col typecol">',r+=getTypeIcon(e.type),r+=getCategoryIcon(e.category),r+="</span> ";var n=1===e.pp||e.noPPBoosts?e.pp:8*e.pp/5;return r+='<span class="col labelcol">'+("Status"!==e.category?"<em>Power</em><br />"+(e.basePower||"&mdash;"):"")+"</span> ",r+='<span class="col widelabelcol"><em>Accuracy</em><br />'+(e.accuracy&&!0!==e.accuracy?e.accuracy+"%":"&mdash;")+"</span> ",r+='<span class="col pplabelcol"><em>PP</em><br />'+n+"</span> ",r+='<span class="col movedesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> ",r+="</a>"},l.prototype.renderTaggedMoveRow=function(e,t,s){var r="";l.urlRoot&&(r=' href="'+l.urlRoot+"moves/"+toID(e.name)+'" data-target="push"');var a='<li class="result"><a'+r+' data-entry="move|'+escapeHTML(e.name)+'">';a+='<span class="col tagcol">'+t+"</span> ";var o=e.name;return("Hidden Power"===o.substr(0,12)&&(o="Hidden Power"),a+='<span class="col shortmovenamecol">'+o+"</span> ",s)?a+=s+"</a></li>":(a+='<span class="col typecol">',a+=getTypeIcon(e.type),a+=getCategoryIcon(e.category),a+="</span> ",a+='<span class="col labelcol">'+("Status"!==e.category?"<em>Power</em><br />"+(e.basePower||"&mdash;"):"")+"</span> ",a+='<span class="col widelabelcol"><em>Accuracy</em><br />'+(e.accuracy&&!0!==e.accuracy?e.accuracy+"%":"&mdash;")+"</span> ",a+='<span class="col pplabelcol"><em>PP</em><br />'+(e.noPPBoosts?e.pp:8*e.pp/5)+"</span> ",a+='<span class="col movedesccol">'+escapeHTML(e.shortDesc||e.desc)+"</span> ",a+="</a></li>")},l.prototype.renderTypeRow=function(e,t,s,r){var a="";l.urlRoot&&(a=' href="'+l.urlRoot+"types/"+toID(e.name)+'" data-target="push"');var o='<li class="result"><a'+a+' data-entry="type|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),o+='<span class="col namecol">'+n+"</span> ",o+='<span class="col typecol">',o+=getTypeIcon(e.name),o+="</span> ",r)?o+=r+"</a></li>":o+="</a></li>"},l.prototype.renderCategoryRow=function(e,t,s,r){var a="";l.urlRoot&&(a=' href="'+l.urlRoot+"categories/"+e.id+'" data-target="push"');var o='<li class="result"><a'+a+' data-entry="category|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),o+='<span class="col namecol">'+n+"</span> "+('<span class="col typecol">'+getCategoryIcon(e.name))+"</span> ",r)?o+=r+"</a></li>":o+="</a></li>"},l.prototype.renderArticleRow=function(e,t,s,r){var a="";l.urlRoot&&(a=' href="'+l.urlRoot+"articles/"+e.id+'" data-target="push"');var o="pokemon"===e.id||"moves"===e.id;o&&(a=' href="'+e.id+'/" data-target="replace"');var n='<li class="result"><a'+a+' data-entry="article|'+escapeHTML(e.name)+'">',i=e.name;return(s&&(i=i.substr(0,t)+"<b>"+i.substr(t,s)+"</b>"+i.substr(t+s)),n+='<span class="col namecol">'+i+"</span> ",o?n+='<span class="col movedesccol">(search type)</span> ':n+='<span class="col movedesccol">(article)</span> ',r)?n+=r+"</a></li>":n+="</a></li>"},l.prototype.renderEggGroupRow=function(e,t,s,r){var a="";l.urlRoot&&(a=' href="'+l.urlRoot+"egggroups/"+toID(e.name)+'" data-target="push"');var o='<li class="result"><a'+a+' data-entry="egggroup|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),o+='<span class="col namecol">'+n+"</span> ",r)?o+=r+"</a></li>":o+="</a></li>"},l.prototype.renderTierRow=function(e,t,s,r){var a="";l.urlRoot&&(a=' href="'+l.urlRoot+"tiers/"+toID(e.name)+'" data-target="push"');var o='<li class="result"><a'+a+' data-entry="tier|'+escapeHTML(e.name)+'">',n=e.name;return(s&&(n=n.substr(0,t)+"<b>"+n.substr(t,s)+"</b>"+n.substr(t+s)),o+='<span class="col namecol">'+n+"</span> ",r)?o+=r+"</a></li>":o+="</a></li>"},l.gen=9,l.renderRow=l.prototype.renderRow,l.renderPokemonRow=l.prototype.renderPokemonRow,l.renderTaggedPokemonRowInner=l.prototype.renderTaggedPokemonRowInner,l.renderItemRow=l.prototype.renderItemRow,l.renderAbilityRow=l.prototype.renderAbilityRow,l.renderMoveRow=l.prototype.renderMoveRow,l.renderMoveRowInner=l.prototype.renderMoveRowInner,l.renderTaggedMoveRow=l.prototype.renderTaggedMoveRow,l.renderTypeRow=l.prototype.renderTypeRow,l.renderCategoryRow=l.prototype.renderCategoryRow,l.renderEggGroupRow=l.prototype.renderEggGroupRow,l.renderTierRow=l.prototype.renderTierRow,a.BattleSearch=l}),t("hDfjk",function(t,s){let r;e("f0Akj");let a=[];function o(e,t){for(let s in e.abilities)if(toID(e.abilities[s])==toID(t))return!0;return!1}class l{constructor(e="",t="",s=""){let o;this.query="",this.typedSearch=null,this.results=null,this.exactMatch=!1,this.firstPokemonColumn="Number",this.sortCol=null,this.reverseSort=!1,this.filters=null,(o=(o=(o=(o=(o=(o=(o=(o=[]).concat(Object.keys(BattlePokedex).map(e=>e+" pokemon"))).concat(Object.keys(BattleMovedex).map(e=>e+" move"))).concat(Object.keys(BattleItems).map(e=>e+" item"))).concat(Object.keys(BattleAbilities).map(e=>e+" ability"))).concat(Object.keys(BattleTypeChart).map(e=>toID(e)+" type"))).concat(["physical","special","status"].map(e=>toID(e)+" category"))).concat(["monster","water1","bug","flying","field","fairy","grass","humanlike","water3","mineral","amorphous","water2","ditto","dragon","undiscovered"].map(e=>toID(e)+" egggroup"))).sort(),o[o.indexOf("grass type")]="grass egggroup",o[o.indexOf("grass egggroup")]="grass type",o[o.indexOf("fairy type")]="fairy egggroup",o[o.indexOf("fairy egggroup")]="fairy type",o[o.indexOf("flying type")]="flying egggroup",o[o.indexOf("flying egggroup")]="flying type",o[o.indexOf("dragon type")]="dragon egggroup",o[o.indexOf("dragon egggroup")]="dragon type",o[o.indexOf("bug type")]="bug egggroup",o[o.indexOf("bug egggroup")]="bug type",o[o.indexOf("psychic type")]="psychic move",o[o.indexOf("psychic move")]="psychic type",getID(BattlePokedex,"ditto")&&(o[o.indexOf("ditto pokemon")]="ditto egggroup",o[o.indexOf("ditto egggroup")]="ditto pokemon"),r=(a=o.map(e=>{let t=e.split(" ");return t.length>3&&(t[3]=Number(t[3]),t[2]=o.indexOf(t[2]+" "+t[1])),t})).map((e,t)=>{var s,r,a,o;let l=e[0],n="";switch(e[1]){case"pokemon":n=null!=(s=getID(BattlePokedex,l).name)?s:"";break;case"move":n=null!=(r=getID(BattleMovedex,l).name)?r:"";break;case"item":n=null!=(a=getID(BattleItems,l).name)?a:"";break;case"ability":n=null!=(o=getID(BattleAbilities,l).name)?o:""}let i="",c=0;for(let e=0,t=0;e<l.length;e++,t++){for(;!/[a-zA-Z0-9]/.test(n[t]);)t++,c++;i+=c}return c?i:""}),this.setType(e,t,s)}getTypedSearch(e,t="",s){if(!e)return null;switch(e){case"pokemon":return new i("pokemon",t,s);case"item":return new u("item",t,s);case"move":return new p("move",t,s);case"ability":return new c("ability",t,s);case"type":return new d("type",t,s);case"category":return new h("category",t,s)}return null}find(e){var t;return e=toID(e),(this.query!==e||!this.results)&&(this.query=e,e?this.results=this.textSearch(e):this.results=(null==(t=this.typedSearch)?void 0:t.getResults(this.filters,this.sortCol,this.reverseSort))||[],!0)}setType(e,t="",s){var r;this.results=null,e!==(null==(r=this.typedSearch)?void 0:r.searchType)&&(this.filters=null,this.sortCol=null),this.typedSearch=this.getTypedSearch(e,t,s)}addFilter(e){if(!this.typedSearch)return!1;let[t]=e;if("pokemon"===this.typedSearch.searchType){if(t===this.sortCol&&(this.sortCol=null),!["type","move","ability","egggroup","tier"].includes(t))return!1;for(let s of("move"===t&&(e[1]=toID(e[1])),this.filters||(this.filters=[]),this.results=null,this.filters))if(s[0]===t&&s[1]===e[1])return!0;return this.filters.push(e),!0}return"move"===this.typedSearch.searchType&&(t===this.sortCol&&(this.sortCol=null),!!["type","category","pokemon"].includes(t)&&("pokemon"===t&&(e[1]=toID(e[1])),this.filters||(this.filters=[]),this.filters.push(e),this.results=null,!0))}removeFilter(e){if(!this.filters)return!1;if(e){let t=e.join(":"),s=null;for(let e=0;e<this.filters.length;e++)if(t===this.filters[e].join(":")){s=this.filters[e],this.filters.splice(e,1);break}if(!s)return!1}else this.filters.pop();return this.filters.length||(this.filters=null),this.results=null,!0}toggleSort(e){this.sortCol===e?this.reverseSort?(this.sortCol=null,this.reverseSort=!1):this.reverseSort=!0:(this.sortCol=e,this.reverseSort=!1),this.results=null}filterLabel(e){return this.typedSearch&&this.typedSearch.searchType!==e?"Filter":null}illegalLabel(e){var t,s;return(null==(s=null==(t=this.typedSearch)?void 0:t.illegalReasons)?void 0:s[e])||null}textSearch(e){var t,s,o;e=toID(e),this.exactMatch=!1;let n=(null==(t=this.typedSearch)?void 0:t.searchType)||"",i=n?l.typeTable[n]:-1,c="";"type"===e.slice(-4)&&e.slice(0,-4)in BattleTypeChart&&(e=e.slice(0,-4),c="type");let u=l.getClosest(e);this.exactMatch=a[u][0]===e;let p="",h=[["normal",u,e]];if(e.length>1&&h.push(["alias",u,e]),!this.exactMatch&&a[u][0].substr(0,e.length)!==e){let t=e.length-1;for(!u&&u++;t&&a[u][0].substr(0,t)!==e.substr(0,t)&&a[u-1][0].substr(0,t)!==e.substr(0,t);)t--;let s=e.substr(0,t);for(;u>=1&&a[u-1][0].substr(0,t)===s;)u--;h.push(["fuzzy",u,""])}let d=[[],[],[],[],[],[],[],[],[],[]],m=-1,g=0,b=!1,f=null,y=[0,1,2,5,4,3,6,7,8],v=null==(s=this.typedSearch)?void 0:s.illegalReasons;for(u=0;u<a.length;u++){if(!p){let t=h.shift();if(!t)break;p=t[0],u=t[1],e=t[2]}let t=a[u],s=t[0],o=t[1];if(!s)break;if("fuzzy"===p){if(g>=2){p="";continue}b=!0}else if("exact"===p){if(g>=1){p="";continue}}else if(s.substr(0,e.length)!==e){p="";continue}if(t.length>2){if("alias"!==p)continue}else if("alias"===p)continue;let w=l.typeTable[o];if(1===e.length&&w!==(n?i:1)||"pokemon"===n&&(5===w||w>7)||"move"===n&&(8!==w&&w>4||3===w)||"move"===n&&v&&1===w||("ability"===n||"item"===n)&&w!==i||"type"===c&&2!==w||("megax"===s||"megay"===s)&&"mega".startsWith(e))continue;let R=0,k=0;if("alias"===p){R=t[3];let o=t[2];R&&(k=R+e.length,R+=(r[o][R]||"0").charCodeAt(0)-48,k+=(r[o][k-1]||"0").charCodeAt(0)-48),s=a[o][0]}else(k=e.length)&&(k+=(r[u][k-1]||"0").charCodeAt(0)-48);n&&i!==w&&(!f||y[w]<y[f[2]])&&(f=[o,s,w]),m<0&&i<2&&"alias"===p&&!d[1].length&&d[2].length&&(m=2),v&&w===i?(d[w].length||d[0].length||(d[0]=[["header",l.typeName[o]]]),s in v||(w=0)):d[w].length||(d[w]=[["header",l.typeName[o]]]);let I="alias"===p&&d[w].length;(!I||d[w][I-1][1]!==s)&&(d[w].push([o,s,R,k]),g++)}let w=[];return b&&(w=[["html","<em>No exact match found. The closest matches alphabetically are:</em>"]]),m>=0&&(w=w.concat(d[m]),d[m]=[]),i>=0&&(w=(w=w.concat(d[0])).concat(d[i]),d[i]=[],d[0]=[]),f&&g<20&&d.push(this.instafilter(n,f[0],f[1])),this.results=Array.prototype.concat.apply(w,d),null!=(o=this.results)?o:[]}instafilter(e,t,s){var r;let a=[],l=[],n=null==(r=this.typedSearch)?void 0:r.illegalReasons;if("pokemon"===e)switch(t){case"type":let i=s.charAt(0).toUpperCase()+s.slice(1);for(let e in a.push(["header",`${i}-type Pok&eacute;mon`]),BattlePokedex)BattlePokedex[e].types&&BattlePokedex[e].types.includes(i)&&(n&&e in n?l:a).push(["pokemon",e]);break;case"ability":let c=getID(BattleAbilities,s).name;for(let e in a.push(["header",`${c} Pok&eacute;mon`]),BattlePokedex)BattlePokedex[e].abilities&&o(BattlePokedex[e],c)&&(n&&e in n?l:a).push(["pokemon",e])}else if("move"===e)switch(t){case"type":let u=s.charAt(0).toUpperCase()+s.slice(1);for(let e in a.push(["header",`${u}-type moves`]),BattleMovedex)BattleMovedex[e].type===u&&(n&&e in n?l:a).push(["move",e]);break;case"category":let p=s.charAt(0).toUpperCase()+s.slice(1);for(let e in a.push(["header",`${p} moves`]),BattleMovedex)BattleMovedex[e].category===p&&(n&&e in n?l:a).push(["move",e])}return[...a,...l]}static getClosest(e){let t=0,s=a.length-1;for(;s>t;){let r=Math.floor((s-t)/2+t);if(a[r][0]===e&&(0===r||a[r-1][0]!==e))return r;a[r][0]<e?t=r+1:s=r-1}return t>=a.length-1?t=a.length-1:a[t+1][0]&&a[t][0]<e&&t++,t&&a[t-1][0]===e&&t--,t}}l.typeTable={pokemon:1,type:2,tier:3,move:4,item:5,ability:6,egggroup:7,category:8,article:9},l.typeName={pokemon:"Pok&eacute;mon",type:"Type",tier:"Tiers",move:"Moves",item:"Items",ability:"Abilities",egggroup:"Egg group",category:"Category",article:"Article"};class n{constructor(e,t="",s=""){if(this.species="",this.set=null,this.baseResults=null,this.baseIllegalResults=null,this.illegalReasons=null,this.results=null,this.sortRow=null,this.searchType=e,this.baseResults=null,this.baseIllegalResults=null,this.species="",this.set=null,"string"==typeof s?s&&(this.species=s):(this.set=s,this.species=toID(this.set.species)),!e||!this.set)return}getResults(e,t,s){let r,a;if("type"===t)return[this.sortRow,...d.prototype.getDefaultResults.call(this)];if("category"===t)return[this.sortRow,...h.prototype.getDefaultResults.call(this)];if("ability"===t)return[this.sortRow,...c.prototype.getDefaultResults.call(this)];if(this.baseResults||(this.baseResults=this.getBaseResults()),!this.baseIllegalResults){let e={};for(let[t,s]of this.baseResults)t===this.searchType&&(e[s]=1);for(let t in this.baseIllegalResults=[],this.illegalReasons={},this.getTable())t in e||(this.baseIllegalResults.push([this.searchType,t]),this.illegalReasons[t]="Illegal")}if(e){for(let t of(r=[],a=[],this.baseResults))this.filter(t,e)&&(r.length&&"header"===t[0]&&"header"===r[r.length-1][0]?r[r.length-1]=t:r.push(t));for(let t of(r.length&&"header"===r[r.length-1][0]&&r.pop(),this.baseIllegalResults))this.filter(t,e)&&a.push(t)}else r=[...this.baseResults],a=null;return t&&(r=r.filter(([e])=>e===this.searchType),r=this.sort(r,t,s),a&&(a=a.filter(([e])=>e===this.searchType),a=this.sort(a,t,s))),this.sortRow&&(r=[this.sortRow,...r]),a&&a.length&&(r=[...r,["header","Illegal results"],...a]),r}}class i extends n{constructor(){super(...arguments),this.sortRow=["sortpokemon",""]}filter(e,t){if(!t||"pokemon"!==e[0])return!0;let s=getID(BattlePokedex,e[1]);for(let[e,r]of t)switch(e){case"type":if(s.types.every(e=>e!=r))return!1;break;case"move":if(!canLearn(s.id,r))return!1;break;case"ability":if(!o(s,r))return!1;break;case"egggroup":if(s.eggGroups.every(e=>e!=r))return!1}return!0}getTable(){return BattlePokedex}getDefaultResults(){let e={};for(let t in BattlePokedex){let s=BattlePokedex[t];if(!s)continue;let r=toID(s.baseSpecies||s.name);e[r]||(e[r]={base:t,num:s.num||0,forms:[]}),s.forme&&s.name!==s.baseSpecies?e[r].forms.push(t):(e[r].base=t,e[r].num=s.num||e[r].num)}for(let t in e)e[t].forms.sort((e,t)=>{let s=BattlePokedex[e],r=BattlePokedex[t],a=(s.forme||s.name).toLowerCase(),o=(r.forme||r.name).toLowerCase();return a<o?-1:+(a>o)});let t=Object.values(e).sort((e,t)=>e.num-t.num||(e.base<t.base?-1:+(e.base>t.base)));for(let e of(window.BattleFormOrder={},t))window.BattleFormOrder[toID(BattlePokedex[e.base].baseSpecies||BattlePokedex[e.base].name)]=e.forms.slice();let s=[];for(let e of t){let t=e.base;switch(t){case"bulbasaur":s.push(["header","Generation 1"]);break;case"chikorita":s.push(["header","Generation 2"]);break;case"treecko":s.push(["header","Generation 3"]);break;case"turtwig":s.push(["header","Generation 4"]);break;case"victini":s.push(["header","Generation 5"]);break;case"chespin":s.push(["header","Generation 6"]);break;case"rowlet":s.push(["header","Generation 7"]);break;case"grookey":s.push(["header","Generation 8"]);break;case"sprigatito":s.push(["header","Generation 9"]);break;case"missingno":s.push(["header","Glitch"]);break;case"syclar":s.push(["header","CAP"]);break;case"pikachucosplay":continue}for(let r of(s.push(["pokemon",t]),e.forms))s.push(["pokemon",r])}return s}getBaseResults(){return this.getDefaultResults()}sort(e,t,s){let r=s?-1:1;if(["hp","atk","def","spa","spd","spe"].includes(t))return e.sort(([e,s],[a,o])=>{let l=getID(BattlePokedex,s).baseStats[t];return(getID(BattlePokedex,o).baseStats[t]-l)*r});if("bst"===t)return e.sort(([e,t],[s,a])=>{let o=getID(BattlePokedex,t).baseStats,l=getID(BattlePokedex,a).baseStats,n=o.hp+o.atk+o.def+o.spa+o.spd+o.spe;return(l.hp+l.atk+l.def+l.spa+l.spd+l.spe-n)*r});if("name"===t)return e.sort(([e,t],[s,a])=>(t<a?-1:+(t>a))*r);throw Error("invalid sortcol")}}class c extends n{getTable(){return BattleAbilities}getDefaultResults(){let e=[];for(let t in BattleAbilities)e.push(["ability",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){if(!t||"ability"!==e[0])return!0;let s=getID(BattleAbilities,e[1]);for(let[e,r]of t)if("pokemon"===e&&!o(getID(BattlePokedex,r),s.name))return!1;return!0}sort(e,t,s){throw Error("invalid sortcol")}}class u extends n{getTable(){return BattleItems}getDefaultResults(){let e=[];for(let t in e.push(["header","Items"]),BattleItems)e.push(["item",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){throw Error("invalid filter")}sort(e,t,s){throw Error("invalid sortcol")}}class p extends n{constructor(){super(...arguments),this.sortRow=["sortmove",""]}getTable(){return BattleMovedex}getDefaultResults(){let e=[];for(let t in e.push(["header","Moves"]),BattleMovedex)e.push(["move",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){if(!t||"move"!==e[0])return!0;let s=getID(BattleMovedex,e[1]);for(let[e,r]of t)switch(e){case"type":if(s.type!==r)return!1;break;case"category":if(s.category!==r)return!1;break;case"pokemon":if(!canLearn(r,s.id))return!1}return!0}sort(e,t,s){let r=s?-1:1;switch(t){case"power":let a={return:102,frustration:102,spitup:300,trumpcard:200,naturalgift:80,grassknot:120,lowkick:120,gyroball:150,electroball:150,flail:200,reversal:200,present:120,wringout:120,crushgrip:120,heatcrash:120,heavyslam:120,fling:130,magnitude:150,beatup:24,punishment:1020,psywave:1250,nightshade:1200,seismictoss:1200,dragonrage:1140,sonicboom:1120,superfang:1350,endeavor:1399,sheercold:1501,fissure:1500,horndrill:1500,guillotine:1500};return e.sort(([e,t],[s,o])=>{let l=getID(BattleMovedex,t),n=getID(BattleMovedex,o),i=l.basePower||a[t]||("Status"===l.category?-1:1400);return((n.basePower||a[o]||("Status"===n.category?-1:1400))-i)*r});case"accuracy":return e.sort(([e,t],[s,a])=>{let o=getID(BattleMovedex,t).accuracy||0,l=getID(BattleMovedex,a).accuracy||0;return!0===o&&(o=101),!0===l&&(l=101),(l-o)*r});case"pp":return e.sort(([e,t],[s,a])=>{let o=getID(BattleMovedex,t).pp||0;return((getID(BattleMovedex,a).pp||0)-o)*r});case"name":return e.sort(([e,t],[s,a])=>(t<a?-1:+(t>a))*r)}throw Error("invalid sortcol")}}class h extends n{getTable(){return{physical:1,special:1,status:1}}getDefaultResults(){return[["category","physical"],["category","special"],["category","status"]]}getBaseResults(){return this.getDefaultResults()}filter(e,t){throw Error("invalid filter")}sort(e,t,s){throw Error("invalid sortcol")}}class d extends n{getTable(){return BattleTypeChart}getDefaultResults(){let e=[];for(let t in BattleTypeChart)e.push(["type",t]);return e}getBaseResults(){return this.getDefaultResults()}filter(e,t){throw Error("invalid filter")}sort(e,t,s){throw Error("invalid sortcol")}}window.DexSearch=l});
//# sourceMappingURL=search.34b036c7.js.map
