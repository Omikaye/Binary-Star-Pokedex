window.PokedexPokemonPanel=PokedexResultPanel.extend({initialize:function(e){e=toID(e);var t,a=BattlePokedex[e];this.id=e,this.shortTitle=a.baseSpecies;var s='<div class="pfx-body dexentry">';s+=`<a href="${Config.baseurl}" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>`,s+="<h1>",a.forme?s+=`<a href="${Config.baseurl}pokemon/${e}" data-target="push" class="subtle">${a.baseSpecies}<small>-${a.forme}</small></a>`:s+=`<a href="${Config.baseurl}pokemon/${e}" data-target="push" class="subtle">${a.name}</a>`,a.num>0&&(s+=` <code>#${a.num}</code>`),s+="</h1>",a.isNonstandard&&(s+='<div class="warning"><strong>Note:</strong> This Pok&eacute;mon is unreleased.</div>'),s+=`<img src="${ResourcePrefix}sprites/gen5/${e}.png" alt="" width="96" height="96" class="sprite" />`,s+='<dl class="typeentry">',s+="<dt>Types:</dt> <dd>";for(var l=0;l<a.types.length;l++)s+=`<a class="type ${toID(a.types[l])}" href="${Config.baseurl}types/${toID(a.types[l])}" data-target="push">${a.types[l]}</a> `;s+="</dd>",s+="</dl>",s+='<dl class="sizeentry">',s+="<dt>Size:</dt> <dd>";var r=(t=a.weightkg)>=200?120:t>=100?100:t>=50?80:t>=25?60:t>=10?40:20;for(var l in s+=`${a.heightm} m, ${a.weightkg} kg<br /><small><a class="subtle" href="${Config.baseurl}moves/grassknot" data-target="push">Grass Knot</a>: ${r}</small>`,s+="</dd>",s+="</dl>",s+='<dl class="abilityentry">',s+='<dt>Abilities:</dt> <dd class="imgentry">',a.abilities){var o=a.abilities[l];o&&("0"!==l&&(s+=" | "),"H"===l&&(o=`<em>${a.abilities[l]}</em>`),s+=`<a href="${Config.baseurl}abilities/${toID(a.abilities[l])}" data-target="push">${o}</a>`,"H"===l&&(s+="<small> (H)</small>"),"S"===l&&(s+="<small> (special)</small>"))}s+="</dd>",s+="</dl>",s+="<dl>",s+='<dt style="clear:left">Base stats:</dt><dd><table class="stats">';var i={hp:"HP",atk:"Attack",def:"Defense",spa:"Sp. Atk",spd:"Sp. Def",spe:"Speed"};s+='<tr><td></td><td></td><td style="width:200px"></td><th class="ministat"><abbr title="0 IVs, 0 EVs, negative nature">min&minus;</a></th><th class="ministat"><abbr title="31 IVs, 0 EVs, neutral nature">min</abbr></th><th class="ministat"><abbr title="31 IVs, 252 EVs, neutral nature">max</abbr></th><th class="ministat"><abbr title="31 IVs, 252 EVs, positive nature">max+</abbr></th>';var n=0;for(var d in BattleStatNames){var h=a.baseStats[d];n+=h;var c=Math.floor(200*h/200);c>200&&(c=200);var p=Math.floor(180*h/255);p>360&&(p=360),s+=`<tr><th>${i[d]}:</th><td class="stat">${h}</td>`,s+=`<td class="statbar"><span style="width:${Math.floor(c)}px;background:hsl(${p},85%,45%);border-color:hsl(${p},75%,35%)"></span></td>`,s+='<td class="ministat"><small>'+("hp"===d?"":this.getStat(h,!1,100,0,0,.9))+'</small></td><td class="ministat"><small>'+this.getStat(h,"hp"===d,100,31,0,1)+"</small></td>",s+='<td class="ministat"><small>'+this.getStat(h,"hp"===d,100,31,255,1)+'</small></td><td class="ministat"><small>'+("hp"===d?"":this.getStat(h,!1,100,31,255,1.1))+"</small></td></tr>"}s+=`<tr><th class="bst">Total:</th><td class="bst">${n}</td><td></td><td class="ministat" colspan="4">at level <input type="text" class="textbox" name="level" placeholder="100" size="5" /></td>`,s+="</table></dd>";var m=BaseGameStats[this.id];if(m){s+="<dt>Changes from Base Game:</dt><dd>";var g=!1,v=[];for(var d in BattleStatNames){var u=a.baseStats[d],h=m.baseStats[d];if(u!==h){g=!0;var p=u>h?"#22AA22":"#CC2222";v.push(`<strong>${BattleStatNames[d]}:</strong> <span style="color:${p}">${h} &rarr; ${u}</span>`)}}var f=0;for(var d in m.baseStats)f+=m.baseStats[d];if(n!==f){g=!0;var b=n>f?"#22AA22":"#CC2222";v.push(`<strong>BST:</strong> <span style="color:${b}">${f} &rarr; ${n}</span>`)}if(a.weightkg!==m.weightkg){g=!0;var k=a.weightkg>m.weightkg?"#22AA22":"#CC2222";v.push(`<strong>Weight:</strong> <span style="color:${k}">${m.weightkg} kg &rarr; ${a.weightkg} kg</span>`)}g?s+=v.join("<br />"):s+="<em>No stat changes from base game</em>",s+="</dd>"}s+="<dt>Evolution:</dt> <dd>";for(var x=a;x.prevo;)x=getID(BattlePokedex,x.prevo);if(x.evos){s+='<table class="evos"><tr><td>';for(var y=[x];y.length>0;){for(var I=[],l=0;l<y.length;l++){var w=(x=y[l]).forme?x.baseSpecies+`<small>-${x.forme}</small>`:x.name;for(let e of(w=`<span class="picon" style="${getPokemonIcon(x)}"></span>`+w,x===a?s+=`<div><strong>${w}</strong></div>`:s+=`<div><a href="${Config.baseurl}pokemon/${x.id}" data-target="replace">${w}</a></div>`,x.evos??[]))I.find(t=>t.target==e.target)||I.push(e)}(y=I.map(e=>getID(BattlePokedex,e.target))).length>0&&(s+='</td><td class="arrow"><span>&rarr;</span></td><td>')}if(s+="</td></tr></table>",a.prevo)for(let e of getID(BattlePokedex,a.prevo).evos.filter(e=>toID(e.target)==a.id))s+=`<div><small>Evolves from ${getID(BattlePokedex,a.prevo).name} (${this.getEvoMethod(e)})</small></div>`;if(a.evos)for(let e of a.evos)s+=`<div><small>Evolves into ${getID(BattlePokedex,e.target).name} (${this.getEvoMethod(e)})</small></div>`}else s+="<em>Does not evolve</em>";if(a.formes){s+="</dd><dt>Formes:</dt> <dd>";for(var P=a.formes,l=0;l<P.length;l++)if(x=getID(BattlePokedex,P[l])){var w=x.forme||"Base";w=`<span class="picon" style="${getPokemonIcon(x)}"></span>`+w,l>0&&(s+=", "),x===a?s+=`<strong>${w}</strong>`:s+=`<a href="${Config.baseurl}pokemon/${x.id}" data-target="replace">${w}</a>`}a.requiredItem&&(s+=`<div><small>Must hold <a href="${Config.baseurl}items/${toID(x.requiredItem)}" data-target="push">${x.requiredItem}</a></small></div>`)}if(a.cosmeticFormes){s+="</dd><dt>Cosmetic formes:</dt> <dd>",s+=w=`<span class="picon" style="${getPokemonIcon(a)}"></span>`+a.name;for(var l=0;l<a.cosmeticFormes.length;l++)s+=","+(w=`<span class="picon" style="${getPokemonIcon(a.name+"-"+a.cosmeticFormes[l])}"></span>`+a.cosmeticFormes[l])}if(s+="</dd></dl>",a.eggGroups){if(s+='<dl class="colentry"><dt>Egg groups:</dt><dd><span class="picon" style="margin-top:-12px;'+getPokemonIcon("egg")+`"></span><a href="${Config.baseurl}egggroups/`+a.eggGroups.map(toID).join("+")+'" data-target="push">'+a.eggGroups.join(", ")+"</a></dd></dl>",s+='<dl class="colentry"><dt>Gender ratio:</dt><dd>',a.gender)switch(a.gender){case"M":s+="100% male";break;case"F":s+="100% female";break;case"N":s+="100% genderless"}else a.genderRatio?s+=`${100*a.genderRatio.M}% male, ${100*a.genderRatio.F}% female`:s+="50% male, 50% female";s+="</dd></dl>",s+='<div style="clear:left"></div>'}var S=ItemPokemonLinks.pokemonToItems[this.id]||[];if(S.length>0){var B=S.map(function(e){return BattleItems[e]}).filter(Boolean);s+='<dl class="colentry"><dt>Related item(s):</dt><dd>';for(var l=0;l<B.length;l++){l>0&&(s+=", ");var M=B[l];s+=`<span class="itemicon" style="${getItemIcon(M)};width:32px;height:32px"></span><a href="${Config.baseurl}items/${M.id}" data-target="push">${M.name}</a>`}s+="</dd></dl>",s+='<div style="clear:left"></div>'}s+='<ul class="utilichart nokbd">',s+='<li class="resultheader"><h3>Level-up</h3></li>',s+="</ul>",s+='<ul class="utilichart nokbd prevo-moves" style="display:none">',s+='<li class="resultheader"><h3>Pre-evo only moves</h3></li>',s+="</ul>",s+="</div>",this.html(s),setTimeout(this.renderFullLearnset.bind(this))},events:{"click .tabbar button":"selectTab","input input[name=level]":"updateLevel","keyup input[name=level]":"updateLevel","change input[name=level]":"updateLevel"},updateLevel:function(e){var t=this.$("input[name=level]").val(),a=""===t?100:parseInt(t,10),s=31,l=255;":"===t.slice(-1)&&(s=0,l=0);var r=0,o=this.$("table.stats td.ministat small"),i=getID(BattlePokedex,this.id);for(var n in BattleStatNames){var d=i.baseStats[n];o.eq(4*r+0).text("hp"===n?"":this.getStat(d,!1,a,0,0,.9)),o.eq(4*r+1).text(this.getStat(d,"hp"===n,a,s,0,1)),o.eq(4*r+2).text(this.getStat(d,"hp"===n,a,31,l,1)),o.eq(4*r+3).text("hp"===n?"":this.getStat(d,!1,a,31,l,1.1)),r++}},getEvoMethod:function(e){switch(e.condition){case void 0:if(e.level)return"level "+e.level;if(e.item)return"use "+e.item;return"unknown";case"trade":return"When traded";case"friendship":return"High Friendship";default:return e.condition}},selectTab:function(e){this.$(".tabbar button").removeClass("cur"),$(e.currentTarget).addClass("cur"),"move"===e.currentTarget.value&&this.renderFullLearnset()},renderFullLearnset:function(){getID(BattlePokedex,this.id);var e,t=getLearnset(this.id),a="",s="";for(let r of t){let t=getID(BattleMovedex,r.move);if(!t){a+=`<li class="result"><span class="col tagcol"></span> <span class="col shortmovenamecol">${escapeHTML(r.move)}</span> <span class="col typecol">&mdash;</span> <span class="col labelcol"></span> <span class="col widelabelcol"></span> <span class="col pplabelcol"></span> <span class="col movedesccol"><em>Unknown move</em></span></li>`;continue}var l=void 0==e||e.how!=r.how;switch(r.how){case"lvl":l&&(a+='<li class="resultheader"><h3>Level-up</h3></li>');let o=r.level;s=0===o?"Evo":o<=1?"&ndash;":"<small>L</small>"+o;break;case"prevo":l&&(a+='<li class="resultheader"><h3>From preevo</h3></li>'),s="";break;case"tm":l&&(a+='<li class="resultheader"><h3>TM/HM</h3></li>'),s='<span class="itemicon" style="margin-top:-3px;background-position:-133px -364px;width:32px;height:32px"></span>';break;case"tutor":l&&(a+='<li class="resultheader"><h3>Tutor</h3></li>'),s=`<img src="${ResourcePrefix}sprites/tutor.png" style="margin-top:-4px;opacity:.7" width="27" height="26" alt="T" />`;break;case"egg":l&&(a+='<li class="resultheader"><h3>Egg</h3></li>'),s='<span class="picon" style="margin-top:-12px;'+getPokemonIcon("egg")+'"></span>'}e=r,a+=BattleSearch.renderTaggedMoveRow(t,s)}this.$(".utilichart").html(a),this.renderPreEvoMoves()},renderPreEvoMoves:function(){var e=getID(BattlePokedex,this.id);if(e){var t=null;for(var a in BattlePokedex){var s=BattlePokedex[a];if(s.evos){for(var l of s.evos)if(l.target===e.name||l.target===e.baseSpecies){t=a;break}}if(t)break}if(!t)return void this.$(".prevo-moves").hide();var r=getLearnset(t),o=getLearnset(this.id),i=new Set;for(var n of o){var d=toID(n.move);i.add(d)}var h=[];for(var n of r)if("egg"!==n.how){var d=toID(n.move);i.has(d)||h.push(n)}if(0===h.length)return void this.$(".prevo-moves").hide();var c='<li class="resultheader"><h3>Pre-evo only moves</h3></li>',p=null;for(var n of h){var m=getID(BattleMovedex,n.move);if(m){var g="",v=null==p||p.how!=n.how;switch(n.how){case"lvl":v&&(c+='<li class="resultheader"><h3>Level-up</h3></li>');var u=n.level;g=0===u?"Evo":u<=1?"&ndash;":"<small>L</small>"+u;break;case"tm":v&&(c+='<li class="resultheader"><h3>TM/HM</h3></li>'),g='<span class="itemicon" style="margin-top:-3px;background-position:-133px -364px;width:32px;height:32px"></span>';break;case"tutor":v&&(c+='<li class="resultheader"><h3>Tutor</h3></li>'),g=`<img src="${ResourcePrefix}sprites/tutor.png" style="margin-top:-4px;opacity:.7" width="27" height="26" alt="T" />`}p=n,c+=BattleSearch.renderTaggedMoveRow(m,g)}}this.$(".prevo-moves").html(c).show()}},getStat:function(e,t,a,s,l,r){if(t)return 1===e?1:Math.floor(Math.floor(2*e+(s||0)+Math.floor((l||0)/4)+100)*a/100+10);var o=Math.floor(Math.floor(2*e+(s||0)+Math.floor((l||0)/4))*a/100+5);return r&&!t&&(o*=r),Math.floor(o)}});
//# sourceMappingURL=Binary-Star-Pokedex.d569001f.js.map
